<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: dunedaq::oks::OksKernel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedunedaq.html">dunedaq</a></li><li class="navelem"><a class="el" href="namespacedunedaq_1_1oks.html">oks</a></li><li class="navelem"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classdunedaq_1_1oks_1_1OksKernel-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dunedaq::oks::OksKernel Class Reference<div class="ingroups"><a class="el" href="group__oks.html">Package oks</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Provides interface to the OKS kernel.  
 <a href="classdunedaq_1_1oks_1_1OksKernel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for dunedaq::oks::OksKernel:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classdunedaq_1_1oks_1_1OksKernel__coll__graph.svg" width="1904" height="352"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a348cbdfb0b8385aa7ab3921d25a387b5" id="r_a348cbdfb0b8385aa7ab3921d25a387b5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5">RepositoryUpdateType</a> { <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6">DiscardChanges</a>
, <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1">MergeChanges</a>
, <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a77abdde0526585276d68a74214270a6e">NoChanges</a>
 }</td></tr>
<tr class="separator:a348cbdfb0b8385aa7ab3921d25a387b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52759678bd7d15ba5b57eddee62238fe" id="r_a52759678bd7d15ba5b57eddee62238fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a52759678bd7d15ba5b57eddee62238fe">OksKernel</a> (bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence_mode</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">verbose_mode</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">profiling_mode</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_repository</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *<a class="el" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a>, std::string <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch_name</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:a52759678bd7d15ba5b57eddee62238fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor to build <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html" title="Provides interface to the OKS kernel.">OksKernel</a> object.  <br /></td></tr>
<tr class="separator:a52759678bd7d15ba5b57eddee62238fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e34013c82d2be499dd75d6a74c6726" id="r_a42e34013c82d2be499dd75d6a74c6726"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a42e34013c82d2be499dd75d6a74c6726">OksKernel</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a> &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">copy_repository</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>)</td></tr>
<tr class="memdesc:a42e34013c82d2be499dd75d6a74c6726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <br /></td></tr>
<tr class="separator:a42e34013c82d2be499dd75d6a74c6726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7af3dc205ee400111b28a9e3e2236b" id="r_a6f7af3dc205ee400111b28a9e3e2236b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a6f7af3dc205ee400111b28a9e3e2236b">~OksKernel</a> ()</td></tr>
<tr class="separator:a6f7af3dc205ee400111b28a9e3e2236b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae102a9949524bb63949b4d0baae58712" id="r_ae102a9949524bb63949b4d0baae58712"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksProfiler.html">OksProfiler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ae102a9949524bb63949b4d0baae58712">GetOksProfiler</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="separator:ae102a9949524bb63949b4d0baae58712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb4a70a6dec8d2fc7d61c506d79f4c3" id="r_a4bb4a70a6dec8d2fc7d61c506d79f4c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a4bb4a70a6dec8d2fc7d61c506d79f4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of verbose mode. The method returns true, if the verbose mode is switched 'On'.  <br /></td></tr>
<tr class="separator:a4bb4a70a6dec8d2fc7d61c506d79f4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0152eb5316699ac6bef0489ad10f9f4" id="r_ae0152eb5316699ac6bef0489ad10f9f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ae0152eb5316699ac6bef0489ad10f9f4">set_verbose_mode</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:ae0152eb5316699ac6bef0489ad10f9f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of verbose mode. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:ae0152eb5316699ac6bef0489ad10f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8be9a66ded0447a40178b463d8daa77" id="r_ad8be9a66ded0447a40178b463d8daa77"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad8be9a66ded0447a40178b463d8daa77">get_silence_mode</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:ad8be9a66ded0447a40178b463d8daa77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of silence mode. The method returns true, if the silence mode is switched 'On'. In such case the OKS will not print any info, warnings and error messages.  <br /></td></tr>
<tr class="separator:ad8be9a66ded0447a40178b463d8daa77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d90ea4f1cf7698dcea8fd248bddda65" id="r_a8d90ea4f1cf7698dcea8fd248bddda65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8d90ea4f1cf7698dcea8fd248bddda65">set_silence_mode</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:a8d90ea4f1cf7698dcea8fd248bddda65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of silence mode. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:a8d90ea4f1cf7698dcea8fd248bddda65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c68fec504e0bb39586aa45b1e4a90a" id="r_a10c68fec504e0bb39586aa45b1e4a90a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a10c68fec504e0bb39586aa45b1e4a90a">get_profiling_mode</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a10c68fec504e0bb39586aa45b1e4a90a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of profiling mode. The method returns true, if the profiling mode is switched 'On'. In such case the OKS will report time spend to execute main methods and a summary table of their calls on the OKS kernel destroy.  <br /></td></tr>
<tr class="separator:a10c68fec504e0bb39586aa45b1e4a90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983e9a6dd553cbf76214506f75672233" id="r_a983e9a6dd553cbf76214506f75672233"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a983e9a6dd553cbf76214506f75672233">set_profiling_mode</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:a983e9a6dd553cbf76214506f75672233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of profiling mode. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:a983e9a6dd553cbf76214506f75672233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b9143bb934799aa93c2566eb5267d69" id="r_a9b9143bb934799aa93c2566eb5267d69"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9b9143bb934799aa93c2566eb5267d69">get_allow_duplicated_classes_mode</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a9b9143bb934799aa93c2566eb5267d69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of duplicated classes mode. The method returns true, if the duplicated classes mode is switched 'On'. In such case the OKS will allow to load classes with equal names. Only first loaded class is taken into account, the next ones are ignored.  <br /></td></tr>
<tr class="separator:a9b9143bb934799aa93c2566eb5267d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a1390720618d5fdda29357d60e8d71" id="r_a60a1390720618d5fdda29357d60e8d71"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a60a1390720618d5fdda29357d60e8d71">get_allow_duplicated_objects_mode</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a60a1390720618d5fdda29357d60e8d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of duplicated objects mode. The method returns true, if the duplicated objects mode is switched 'On'. In such case the OKS will allow to load objects of the same class with equal IDs. The ID for duplicated object will be generated automatically.  <br /></td></tr>
<tr class="separator:a60a1390720618d5fdda29357d60e8d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb258a88a40c3c6f8bc320cd85a6882" id="r_aabb258a88a40c3c6f8bc320cd85a6882"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aabb258a88a40c3c6f8bc320cd85a6882">set_test_duplicated_objects_via_inheritance_mode</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:aabb258a88a40c3c6f8bc320cd85a6882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of test inherited duplicated objects mode. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:aabb258a88a40c3c6f8bc320cd85a6882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51319cf5a543a3f31c80db7b835ae46a" id="r_a51319cf5a543a3f31c80db7b835ae46a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a51319cf5a543a3f31c80db7b835ae46a">get_test_duplicated_objects_via_inheritance_mode</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a51319cf5a543a3f31c80db7b835ae46a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of test inherited duplicated objects mode. The method returns true, if the mode is switched 'On'. In such case the OKS will throw exception when there are objects with equal IDs within class inheritance hierarchy.  <br /></td></tr>
<tr class="separator:a51319cf5a543a3f31c80db7b835ae46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3102b6a229a59d0d6e6e1aab6dcab62" id="r_ac3102b6a229a59d0d6e6e1aab6dcab62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ac3102b6a229a59d0d6e6e1aab6dcab62">set_allow_duplicated_classes_mode</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:ac3102b6a229a59d0d6e6e1aab6dcab62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of duplicated classes mode. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:ac3102b6a229a59d0d6e6e1aab6dcab62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4f6296ae14f6a07f8d890350b1abdc" id="r_a7b4f6296ae14f6a07f8d890350b1abdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7b4f6296ae14f6a07f8d890350b1abdc">set_allow_duplicated_objects_mode</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:a7b4f6296ae14f6a07f8d890350b1abdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of duplicated objects mode. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:a7b4f6296ae14f6a07f8d890350b1abdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c59392c4c951ba956f1dcf447e2ce35" id="r_a8c59392c4c951ba956f1dcf447e2ce35"><td class="memItemLeft" align="right" valign="top">std::shared_mutex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8c59392c4c951ba956f1dcf447e2ce35">get_mutex</a> ()</td></tr>
<tr class="memdesc:a8c59392c4c951ba956f1dcf447e2ce35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return OKS kernel mutex.  <br /></td></tr>
<tr class="separator:a8c59392c4c951ba956f1dcf447e2ce35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752af55e3df2503d519e1ac93a125c7c" id="r_a752af55e3df2503d519e1ac93a125c7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a752af55e3df2503d519e1ac93a125c7c">find_schema_file</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;s) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a752af55e3df2503d519e1ac93a125c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds OKS schema file.  <br /></td></tr>
<tr class="separator:a752af55e3df2503d519e1ac93a125c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b91bb526a41a0a6d37fe3127c1d4bdd" id="r_a3b91bb526a41a0a6d37fe3127c1d4bdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3b91bb526a41a0a6d37fe3127c1d4bdd">find_data_file</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;s) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a3b91bb526a41a0a6d37fe3127c1d4bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds OKS data file.  <br /></td></tr>
<tr class="separator:a3b91bb526a41a0a6d37fe3127c1d4bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff94484dbaf0ce7c1c79ed92554f484" id="r_acff94484dbaf0ce7c1c79ed92554f484"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#acff94484dbaf0ce7c1c79ed92554f484">create_list_of_schema_classes</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:acff94484dbaf0ce7c1c79ed92554f484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates list of classes which belong to given file.  <br /></td></tr>
<tr class="separator:acff94484dbaf0ce7c1c79ed92554f484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a09519b0e118ddc83733db9de18a255" id="r_a3a09519b0e118ddc83733db9de18a255"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3a09519b0e118ddc83733db9de18a255">create_list_of_data_objects</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a3a09519b0e118ddc83733db9de18a255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates list of objects which belong to given file.  <br /></td></tr>
<tr class="separator:a3a09519b0e118ddc83733db9de18a255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a1bc9db45348f214c1411b1e0b560d" id="r_a48a1bc9db45348f214c1411b1e0b560d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a48a1bc9db45348f214c1411b1e0b560d">create_file_info</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;file_name)</td></tr>
<tr class="memdesc:a48a1bc9db45348f214c1411b1e0b560d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates OKS file descriptor.  <br /></td></tr>
<tr class="separator:a48a1bc9db45348f214c1411b1e0b560d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5860041c8ac8636fe5f56bf6a3ee7f49" id="r_a5860041c8ac8636fe5f56bf6a3ee7f49"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;path, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_file</a>=0, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strict_paths</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a5860041c8ac8636fe5f56bf6a3ee7f49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates full path to file.  <br /></td></tr>
<tr class="separator:a5860041c8ac8636fe5f56bf6a3ee7f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1153ff96a7da26b2c74b07de6a24904" id="r_ab1153ff96a7da26b2c74b07de6a24904"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab1153ff96a7da26b2c74b07de6a24904">get_repository_version</a> ()</td></tr>
<tr class="separator:ab1153ff96a7da26b2c74b07de6a24904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e499a770cff76018d8c5fbd43889fe3" id="r_a3e499a770cff76018d8c5fbd43889fe3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3e499a770cff76018d8c5fbd43889fe3">is_user_repository_created</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="separator:a3e499a770cff76018d8c5fbd43889fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09102313f879350a437e7e56b2f351f4" id="r_a09102313f879350a437e7e56b2f351f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a09102313f879350a437e7e56b2f351f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user OKS repository root.  <br /></td></tr>
<tr class="separator:a09102313f879350a437e7e56b2f351f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b7aff6a5f31c8f41a148cef285b257" id="r_a40b7aff6a5f31c8f41a148cef285b257"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a40b7aff6a5f31c8f41a148cef285b257">set_user_repository_root</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;path, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:a40b7aff6a5f31c8f41a148cef285b257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set user OKS repository root.  <br /></td></tr>
<tr class="separator:a40b7aff6a5f31c8f41a148cef285b257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8e3269bba31f5ca61aae180f4b90ed" id="r_afd8e3269bba31f5ca61aae180f4b90ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#afd8e3269bba31f5ca61aae180f4b90ed">get_includes</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;file_name, std::set&lt; std::string &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">use_repository_name</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>)</td></tr>
<tr class="memdesc:afd8e3269bba31f5ca61aae180f4b90ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens file and reads its shallow includes.  <br /></td></tr>
<tr class="separator:afd8e3269bba31f5ca61aae180f4b90ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b71543197f7a918025083730637e93e" id="r_a3b71543197f7a918025083730637e93e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3b71543197f7a918025083730637e93e">k_close_dangling_includes</a> ()</td></tr>
<tr class="memdesc:a3b71543197f7a918025083730637e93e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close files which lost their parent.  <br /></td></tr>
<tr class="separator:a3b71543197f7a918025083730637e93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d98efa5a5972ea27ca2fb5d108b035e" id="r_a0d98efa5a5972ea27ca2fb5d108b035e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0d98efa5a5972ea27ca2fb5d108b035e">load_file</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name, bool bind=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>)</td></tr>
<tr class="memdesc:a0d98efa5a5972ea27ca2fb5d108b035e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load OKS database file.  <br /></td></tr>
<tr class="separator:a0d98efa5a5972ea27ca2fb5d108b035e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9db05d4e3c02013f138b419f15b45e" id="r_aeb9db05d4e3c02013f138b419f15b45e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeb9db05d4e3c02013f138b419f15b45e">load_schema</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *parent=0)</td></tr>
<tr class="memdesc:aeb9db05d4e3c02013f138b419f15b45e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load OKS schema file.  <br /></td></tr>
<tr class="separator:aeb9db05d4e3c02013f138b419f15b45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce2f3cafd6dff70fa23fe5084336f6a" id="r_abce2f3cafd6dff70fa23fe5084336f6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#abce2f3cafd6dff70fa23fe5084336f6a">new_schema</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name)</td></tr>
<tr class="memdesc:abce2f3cafd6dff70fa23fe5084336f6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create OKS schema file.  <br /></td></tr>
<tr class="separator:abce2f3cafd6dff70fa23fe5084336f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9378e0ca21e42ae2ef479e8e29df8186" id="r_a9378e0ca21e42ae2ef479e8e29df8186"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9378e0ca21e42ae2ef479e8e29df8186">save_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true_file_h</a>=0)</td></tr>
<tr class="memdesc:a9378e0ca21e42ae2ef479e8e29df8186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save OKS schema file.  <br /></td></tr>
<tr class="separator:a9378e0ca21e42ae2ef479e8e29df8186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc950a82597285af2f387ce60baf95f7" id="r_afc950a82597285af2f387ce60baf95f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#afc950a82597285af2f387ce60baf95f7">save_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> &amp;<a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>)</td></tr>
<tr class="memdesc:afc950a82597285af2f387ce60baf95f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save classes into given OKS schema file.  <br /></td></tr>
<tr class="separator:afc950a82597285af2f387ce60baf95f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584320abeeea8e9f99f9fc759cb41aab" id="r_a584320abeeea8e9f99f9fc759cb41aab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a584320abeeea8e9f99f9fc759cb41aab">backup_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a>=&quot;.bak&quot;)</td></tr>
<tr class="memdesc:a584320abeeea8e9f99f9fc759cb41aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backup OKS schema file.  <br /></td></tr>
<tr class="separator:a584320abeeea8e9f99f9fc759cb41aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3809d8dd31c55608048528df826f6aa" id="r_ab3809d8dd31c55608048528df826f6aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab3809d8dd31c55608048528df826f6aa">save_as_schema</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>)</td></tr>
<tr class="memdesc:ab3809d8dd31c55608048528df826f6aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save OKS schema file under new name.  <br /></td></tr>
<tr class="separator:ab3809d8dd31c55608048528df826f6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4afc7e33d3c20e7c7ce59e949b6e2a1" id="r_ac4afc7e33d3c20e7c7ce59e949b6e2a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ac4afc7e33d3c20e7c7ce59e949b6e2a1">save_all_schema</a> ()</td></tr>
<tr class="memdesc:ac4afc7e33d3c20e7c7ce59e949b6e2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save all OKS schema files.  <br /></td></tr>
<tr class="separator:ac4afc7e33d3c20e7c7ce59e949b6e2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d21e3f060508d8a90fc8364b0dc5c2" id="r_ad8d21e3f060508d8a90fc8364b0dc5c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad8d21e3f060508d8a90fc8364b0dc5c2">close_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>)</td></tr>
<tr class="memdesc:ad8d21e3f060508d8a90fc8364b0dc5c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close OKS schema file.  <br /></td></tr>
<tr class="separator:ad8d21e3f060508d8a90fc8364b0dc5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea12ad7ec1242be19249d8a228d3a3b5" id="r_aea12ad7ec1242be19249d8a228d3a3b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aea12ad7ec1242be19249d8a228d3a3b5">close_all_schema</a> ()</td></tr>
<tr class="memdesc:aea12ad7ec1242be19249d8a228d3a3b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all OKS schema files.  <br /></td></tr>
<tr class="separator:aea12ad7ec1242be19249d8a228d3a3b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3852788c428acefc8f80cb646b4ebb" id="r_a3a3852788c428acefc8f80cb646b4ebb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3a3852788c428acefc8f80cb646b4ebb">set_active_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>)</td></tr>
<tr class="memdesc:a3a3852788c428acefc8f80cb646b4ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active OKS schema file.  <br /></td></tr>
<tr class="separator:a3a3852788c428acefc8f80cb646b4ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3933aeaee59c1b09c5cef4657d4b84" id="r_a6b3933aeaee59c1b09c5cef4657d4b84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a6b3933aeaee59c1b09c5cef4657d4b84">k_set_active_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>)</td></tr>
<tr class="memdesc:a6b3933aeaee59c1b09c5cef4657d4b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active OKS schema file. Non thread-safe version of the <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3a3852788c428acefc8f80cb646b4ebb" title="Set active OKS schema file.">set_active_schema()</a> method;.  <br /></td></tr>
<tr class="separator:a6b3933aeaee59c1b09c5cef4657d4b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030fe611d12d063528bf70a7e4777a7f" id="r_a030fe611d12d063528bf70a7e4777a7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a030fe611d12d063528bf70a7e4777a7f">get_active_schema</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a030fe611d12d063528bf70a7e4777a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get active OKS schema file.  <br /></td></tr>
<tr class="separator:a030fe611d12d063528bf70a7e4777a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af50a2b929cc2958cd32c38e18c48787a" id="r_af50a2b929cc2958cd32c38e18c48787a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#af50a2b929cc2958cd32c38e18c48787a">schema_files</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:af50a2b929cc2958cd32c38e18c48787a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all schema files.  <br /></td></tr>
<tr class="separator:af50a2b929cc2958cd32c38e18c48787a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dda75c5f11be0357fe513795806a2e7" id="r_a6dda75c5f11be0357fe513795806a2e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a6dda75c5f11be0357fe513795806a2e7">create_lists_of_updated_schema_files</a> (std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **updated, std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">removed</a>) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a6dda75c5f11be0357fe513795806a2e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get modified schema files.  <br /></td></tr>
<tr class="separator:a6dda75c5f11be0357fe513795806a2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd232de023f75ad55daf2035fca5969" id="r_a8dd232de023f75ad55daf2035fca5969"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8dd232de023f75ad55daf2035fca5969">get_updated_repository_files</a> (std::set&lt; std::string &gt; &amp;updated, std::set&lt; std::string &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">added</a>, std::set&lt; std::string &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">removed</a>)</td></tr>
<tr class="memdesc:a8dd232de023f75ad55daf2035fca5969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get repository modified schema files.  <br /></td></tr>
<tr class="separator:a8dd232de023f75ad55daf2035fca5969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f234b7ef4a459f190f1d7ff1a7b738" id="r_a19f234b7ef4a459f190f1d7ff1a7b738"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a19f234b7ef4a459f190f1d7ff1a7b738">load_data</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name, bool bind=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>)</td></tr>
<tr class="memdesc:a19f234b7ef4a459f190f1d7ff1a7b738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load OKS data file.  <br /></td></tr>
<tr class="separator:a19f234b7ef4a459f190f1d7ff1a7b738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0dbfac3dbc08f773ca64f7d2c4a398" id="r_a5a0dbfac3dbc08f773ca64f7d2c4a398"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a5a0dbfac3dbc08f773ca64f7d2c4a398">reload_data</a> (std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_schema_extension</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>)</td></tr>
<tr class="memdesc:a5a0dbfac3dbc08f773ca64f7d2c4a398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload OKS data files.  <br /></td></tr>
<tr class="separator:a5a0dbfac3dbc08f773ca64f7d2c4a398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37269a273ca6b32478531309262442e3" id="r_a37269a273ca6b32478531309262442e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a37269a273ca6b32478531309262442e3">new_data</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">logical_name</a>=&quot;&quot;, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#a127486d2b1f33d41b50cc70b1422af72">type</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:a37269a273ca6b32478531309262442e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create OKS data file.  <br /></td></tr>
<tr class="separator:a37269a273ca6b32478531309262442e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab03744b896b3d519fdb8b104775b6a8" id="r_aab03744b896b3d519fdb8b104775b6a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aab03744b896b3d519fdb8b104775b6a8">save_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ignore_bad_objects</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true_file_h</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force_defaults</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>)</td></tr>
<tr class="memdesc:aab03744b896b3d519fdb8b104775b6a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save OKS data file.  <br /></td></tr>
<tr class="separator:aab03744b896b3d519fdb8b104775b6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c6a0ae91074a207eaed9df3c70dec6" id="r_ae9c6a0ae91074a207eaed9df3c70dec6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ae9c6a0ae91074a207eaed9df3c70dec6">save_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> &amp;<a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>)</td></tr>
<tr class="memdesc:ae9c6a0ae91074a207eaed9df3c70dec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save objects into given OKS data file.  <br /></td></tr>
<tr class="separator:ae9c6a0ae91074a207eaed9df3c70dec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d10df789dafc54d5c3557ee5c5cdf9" id="r_a89d10df789dafc54d5c3557ee5c5cdf9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a89d10df789dafc54d5c3557ee5c5cdf9">backup_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a>=&quot;.bak&quot;)</td></tr>
<tr class="memdesc:a89d10df789dafc54d5c3557ee5c5cdf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backup OKS data file.  <br /></td></tr>
<tr class="separator:a89d10df789dafc54d5c3557ee5c5cdf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3607f07a30e736c41a5319c0723c5e21" id="r_a3607f07a30e736c41a5319c0723c5e21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3607f07a30e736c41a5319c0723c5e21">save_as_data</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>)</td></tr>
<tr class="memdesc:a3607f07a30e736c41a5319c0723c5e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save OKS data file under new name.  <br /></td></tr>
<tr class="separator:a3607f07a30e736c41a5319c0723c5e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cfd7520e6411f7e96c04b06ff4a5c1" id="r_ad3cfd7520e6411f7e96c04b06ff4a5c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad3cfd7520e6411f7e96c04b06ff4a5c1">save_all_data</a> ()</td></tr>
<tr class="memdesc:ad3cfd7520e6411f7e96c04b06ff4a5c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save all OKS data files.  <br /></td></tr>
<tr class="separator:ad3cfd7520e6411f7e96c04b06ff4a5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d9e9eaf1cd9822c84ea968be6325a6" id="r_ab4d9e9eaf1cd9822c84ea968be6325a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab4d9e9eaf1cd9822c84ea968be6325a6">close_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unbind_objects</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>)</td></tr>
<tr class="memdesc:ab4d9e9eaf1cd9822c84ea968be6325a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close OKS data file.  <br /></td></tr>
<tr class="separator:ab4d9e9eaf1cd9822c84ea968be6325a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25475635c36479e1586b33237b7b629" id="r_aa25475635c36479e1586b33237b7b629"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa25475635c36479e1586b33237b7b629">close_all_data</a> ()</td></tr>
<tr class="memdesc:aa25475635c36479e1586b33237b7b629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all OKS data files.  <br /></td></tr>
<tr class="separator:aa25475635c36479e1586b33237b7b629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0c7093f5d30ee18f7f925a26ed7631" id="r_aeb0c7093f5d30ee18f7f925a26ed7631"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeb0c7093f5d30ee18f7f925a26ed7631">set_active_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>)</td></tr>
<tr class="memdesc:aeb0c7093f5d30ee18f7f925a26ed7631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active OKS data file.  <br /></td></tr>
<tr class="separator:aeb0c7093f5d30ee18f7f925a26ed7631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4b9278363d33fad634a92142e53af9" id="r_a1f4b9278363d33fad634a92142e53af9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f4b9278363d33fad634a92142e53af9">k_set_active_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="memdesc:a1f4b9278363d33fad634a92142e53af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set active OKS data file.  <br /></td></tr>
<tr class="separator:a1f4b9278363d33fad634a92142e53af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b90eb17532f7264cb7b712d51a58f2" id="r_a06b90eb17532f7264cb7b712d51a58f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a06b90eb17532f7264cb7b712d51a58f2">get_active_data</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a06b90eb17532f7264cb7b712d51a58f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get active OKS data file.  <br /></td></tr>
<tr class="separator:a06b90eb17532f7264cb7b712d51a58f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca7fdf462816560fbe4d2884285623b" id="r_a2ca7fdf462816560fbe4d2884285623b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a2ca7fdf462816560fbe4d2884285623b">data_files</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a2ca7fdf462816560fbe4d2884285623b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all data files.  <br /></td></tr>
<tr class="separator:a2ca7fdf462816560fbe4d2884285623b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37239b386578d51e03b85c5c9302cd59" id="r_a37239b386578d51e03b85c5c9302cd59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a37239b386578d51e03b85c5c9302cd59">create_lists_of_updated_data_files</a> (std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **updated, std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">removed</a>) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a37239b386578d51e03b85c5c9302cd59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get modified data files.  <br /></td></tr>
<tr class="separator:a37239b386578d51e03b85c5c9302cd59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2abf85bd3ed0d4af3c30cdd5f989438e" id="r_a2abf85bd3ed0d4af3c30cdd5f989438e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a2abf85bd3ed0d4af3c30cdd5f989438e">get_modified_files</a> (std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mfs</a>, std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rfs</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>)</td></tr>
<tr class="memdesc:a2abf85bd3ed0d4af3c30cdd5f989438e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get modified data files.  <br /></td></tr>
<tr class="separator:a2abf85bd3ed0d4af3c30cdd5f989438e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0877f0382a2cae9c1c2ef2ee9f43b0" id="r_add0877f0382a2cae9c1c2ef2ee9f43b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::list&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#add0877f0382a2cae9c1c2ef2ee9f43b0">get_repository_dirs</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:add0877f0382a2cae9c1c2ef2ee9f43b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get repository search directories.  <br /></td></tr>
<tr class="separator:add0877f0382a2cae9c1c2ef2ee9f43b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae25038101cb4635c965696c9c43d6a3" id="r_aae25038101cb4635c965696c9c43d6a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aae25038101cb4635c965696c9c43d6a3">commit_repository</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">comments</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">credentials</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:aae25038101cb4635c965696c9c43d6a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit user modifications into repository.  <br /></td></tr>
<tr class="separator:aae25038101cb4635c965696c9c43d6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b6586991c901f2048bc2a924f3c5b0" id="r_a88b6586991c901f2048bc2a924f3c5b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a88b6586991c901f2048bc2a924f3c5b0">tag_repository</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tag</a>)</td></tr>
<tr class="memdesc:a88b6586991c901f2048bc2a924f3c5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tag current state of repository.  <br /></td></tr>
<tr class="separator:a88b6586991c901f2048bc2a924f3c5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2c78de1304d2c4fd54c3e9d787b656" id="r_a9c2c78de1304d2c4fd54c3e9d787b656"><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9c2c78de1304d2c4fd54c3e9d787b656">get_repository_checkout_ts</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a9c2c78de1304d2c4fd54c3e9d787b656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return repository checkout timestamp.  <br /></td></tr>
<tr class="separator:a9c2c78de1304d2c4fd54c3e9d787b656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a244a1dbb6e31ce070e3ff3d79220d299" id="r_a244a1dbb6e31ce070e3ff3d79220d299"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a244a1dbb6e31ce070e3ff3d79220d299">update_repository</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">hash_val</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5">RepositoryUpdateType</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">update_type</a>)</td></tr>
<tr class="memdesc:a244a1dbb6e31ce070e3ff3d79220d299"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update user repository files from origin by hash.  <br /></td></tr>
<tr class="separator:a244a1dbb6e31ce070e3ff3d79220d299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c581bfa069bd56fbc3e6da5e790ce4c" id="r_a1c581bfa069bd56fbc3e6da5e790ce4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a1c581bfa069bd56fbc3e6da5e790ce4c">update_repository</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5">RepositoryUpdateType</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">update_type</a>)</td></tr>
<tr class="memdesc:a1c581bfa069bd56fbc3e6da5e790ce4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update user repository files from origin.  <br /></td></tr>
<tr class="separator:a1c581bfa069bd56fbc3e6da5e790ce4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ac19ae0836d40564fbae295cf2bf18" id="r_a14ac19ae0836d40564fbae295cf2bf18"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a14ac19ae0836d40564fbae295cf2bf18">get_repository_versions_diff</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha1</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha2</a>)</td></tr>
<tr class="separator:a14ac19ae0836d40564fbae295cf2bf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36ee7b88b184c11f8f2c76bf34a71806" id="r_a36ee7b88b184c11f8f2c76bf34a71806"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a36ee7b88b184c11f8f2c76bf34a71806">get_repository_unmerged_files</a> ()</td></tr>
<tr class="separator:a36ee7b88b184c11f8f2c76bf34a71806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fccce5e5a0188a9f1e0bdb630c39d3" id="r_a72fccce5e5a0188a9f1e0bdb630c39d3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structdunedaq_1_1oks_1_1OksRepositoryVersion.html">OksRepositoryVersion</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a72fccce5e5a0188a9f1e0bdb630c39d3">get_repository_versions</a> (bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>)</td></tr>
<tr class="memdesc:a72fccce5e5a0188a9f1e0bdb630c39d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return repository versions.  <br /></td></tr>
<tr class="separator:a72fccce5e5a0188a9f1e0bdb630c39d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf067c060cca0a2b1c025eb15d9fad32" id="r_abf067c060cca0a2b1c025eb15d9fad32"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structdunedaq_1_1oks_1_1OksRepositoryVersion.html">OksRepositoryVersion</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#abf067c060cca0a2b1c025eb15d9fad32">get_repository_versions_by_hash</a> (bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha1</a>=&quot;&quot;, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha2</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:abf067c060cca0a2b1c025eb15d9fad32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return repository versions between hash keys.  <br /></td></tr>
<tr class="separator:abf067c060cca0a2b1c025eb15d9fad32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791a3e1070c5ddbbf7a0012849a5f8ea" id="r_a791a3e1070c5ddbbf7a0012849a5f8ea"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structdunedaq_1_1oks_1_1OksRepositoryVersion.html">OksRepositoryVersion</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a791a3e1070c5ddbbf7a0012849a5f8ea">get_repository_versions_by_date</a> (bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>=&quot;&quot;, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:a791a3e1070c5ddbbf7a0012849a5f8ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return repository versions between timestamps.  <br /></td></tr>
<tr class="separator:a791a3e1070c5ddbbf7a0012849a5f8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e6130b08566656a4ce61d54f4c5691" id="r_aa3e6130b08566656a4ce61d54f4c5691"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa3e6130b08566656a4ce61d54f4c5691">read_repository_version</a> ()</td></tr>
<tr class="memdesc:aa3e6130b08566656a4ce61d54f4c5691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and return current repository version.  <br /></td></tr>
<tr class="separator:aa3e6130b08566656a4ce61d54f4c5691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee096dfea896cd0310f6d99beae4ddca" id="r_aee096dfea896cd0310f6d99beae4ddca"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aee096dfea896cd0310f6d99beae4ddca">insert_repository_dir</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>)</td></tr>
<tr class="memdesc:aee096dfea896cd0310f6d99beae4ddca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert repository search directory.  <br /></td></tr>
<tr class="separator:aee096dfea896cd0310f6d99beae4ddca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9535bcbfc64d5b06b454815aa4a82b" id="r_a2a9535bcbfc64d5b06b454815aa4a82b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a2a9535bcbfc64d5b06b454815aa4a82b">remove_repository_dir</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir</a>)</td></tr>
<tr class="memdesc:a2a9535bcbfc64d5b06b454815aa4a82b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove repository search directory.  <br /></td></tr>
<tr class="separator:a2a9535bcbfc64d5b06b454815aa4a82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7194b27de7f5d84b823c976c59e8b987" id="r_a7194b27de7f5d84b823c976c59e8b987"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a7194b27de7f5d84b823c976c59e8b987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get classes.  <br /></td></tr>
<tr class="separator:a7194b27de7f5d84b823c976c59e8b987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc4ea35869f6512e1b0d3ff5ad8ba89" id="r_a9bc4ea35869f6512e1b0d3ff5ad8ba89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9bc4ea35869f6512e1b0d3ff5ad8ba89">number_of_classes</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a9bc4ea35869f6512e1b0d3ff5ad8ba89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of classes.  <br /></td></tr>
<tr class="separator:a9bc4ea35869f6512e1b0d3ff5ad8ba89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4451c61d3c25506e72704903c82ae29f" id="r_a4451c61d3c25506e72704903c82ae29f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#af3e245cfa22aaeff278cb6a793b902fc">OksObject::Set</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a4451c61d3c25506e72704903c82ae29f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get objects.  <br /></td></tr>
<tr class="separator:a4451c61d3c25506e72704903c82ae29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef2f867314aaa47ee4446fadf133aa4" id="r_aaef2f867314aaa47ee4446fadf133aa4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aaef2f867314aaa47ee4446fadf133aa4">number_of_objects</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:aaef2f867314aaa47ee4446fadf133aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of objects.  <br /></td></tr>
<tr class="separator:aaef2f867314aaa47ee4446fadf133aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7dce86768be0ee65bca13c12cffb746" id="r_ad7dce86768be0ee65bca13c12cffb746"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad7dce86768be0ee65bca13c12cffb746">find_class</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;class_name) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:ad7dce86768be0ee65bca13c12cffb746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find class by name (C++ string).  <br /></td></tr>
<tr class="separator:ad7dce86768be0ee65bca13c12cffb746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab703148e756df9ab0018745dbce450e5" id="r_ab703148e756df9ab0018745dbce450e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab703148e756df9ab0018745dbce450e5">find_class</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *class_name) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:ab703148e756df9ab0018745dbce450e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find class by name (C-string).  <br /></td></tr>
<tr class="separator:ab703148e756df9ab0018745dbce450e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af777fb306f078fb1c97ba42f5acf6416" id="r_af777fb306f078fb1c97ba42f5acf6416"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#af777fb306f078fb1c97ba42f5acf6416">get_all_classes</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::vector&lt; std::string &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">names_in</a>, <a class="el" href="namespacedunedaq_1_1oks.html#a990fc79a321c88e52faa70787a292071">ClassSet</a> &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">classes_out</a>) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:af777fb306f078fb1c97ba42f5acf6416"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method searches all classes including subclasses for given names.  <br /></td></tr>
<tr class="separator:af777fb306f078fb1c97ba42f5acf6416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40347912eeda877c475e98ec39130df7" id="r_a40347912eeda877c475e98ec39130df7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a40347912eeda877c475e98ec39130df7">registrate_all_classes</a> (bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_registered</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>)</td></tr>
<tr class="memdesc:a40347912eeda877c475e98ec39130df7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method rebuilds all classes taking into account inheritance.  <br /></td></tr>
<tr class="separator:a40347912eeda877c475e98ec39130df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141121802945af1a8b92d76def56b4e5" id="r_a141121802945af1a8b92d76def56b4e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *class_ptr) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a141121802945af1a8b92d76def56b4e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check pointer on oks class.  <br /></td></tr>
<tr class="separator:a141121802945af1a8b92d76def56b4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eca47925942e19ae8b4d6630bdd2174" id="r_a8eca47925942e19ae8b4d6630bdd2174"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8eca47925942e19ae8b4d6630bdd2174">is_dangling</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">obj_ptr</a>) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:a8eca47925942e19ae8b4d6630bdd2174"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check pointer on oks object.  <br /></td></tr>
<tr class="separator:a8eca47925942e19ae8b4d6630bdd2174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5bad3646eba78ae3fb31c28ce513662" id="r_ad5bad3646eba78ae3fb31c28ce513662"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad5bad3646eba78ae3fb31c28ce513662">subscribe_create_class</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>(*f)(<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *))</td></tr>
<tr class="memdesc:ad5bad3646eba78ae3fb31c28ce513662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe on class creation.  <br /></td></tr>
<tr class="separator:ad5bad3646eba78ae3fb31c28ce513662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da94466cbefee6ab15ff06cc40c3820" id="r_a4da94466cbefee6ab15ff06cc40c3820"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4da94466cbefee6ab15ff06cc40c3820">subscribe_change_class</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>(*f)(<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *, <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#aee33f707ba1880e9c28138e884ae8951">OksClass::ChangeType</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *))</td></tr>
<tr class="memdesc:a4da94466cbefee6ab15ff06cc40c3820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe on class changing.  <br /></td></tr>
<tr class="separator:a4da94466cbefee6ab15ff06cc40c3820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698815f77b77688095e5941e98f337f2" id="r_a698815f77b77688095e5941e98f337f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a698815f77b77688095e5941e98f337f2">subscribe_delete_class</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>(*f)(<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *))</td></tr>
<tr class="memdesc:a698815f77b77688095e5941e98f337f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe on class destroying.  <br /></td></tr>
<tr class="separator:a698815f77b77688095e5941e98f337f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902a515853c196e5439881ee8deda3ce" id="r_a902a515853c196e5439881ee8deda3ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a902a515853c196e5439881ee8deda3ce">subscribe_create_object</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cb_f</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parameter</a>)</td></tr>
<tr class="memdesc:a902a515853c196e5439881ee8deda3ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe on object creation.  <br /></td></tr>
<tr class="separator:a902a515853c196e5439881ee8deda3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0701c1685a77d3e1cc09313bf09b191e" id="r_a0701c1685a77d3e1cc09313bf09b191e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0701c1685a77d3e1cc09313bf09b191e">subscribe_change_object</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *)</td></tr>
<tr class="memdesc:a0701c1685a77d3e1cc09313bf09b191e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe on object changing.  <br /></td></tr>
<tr class="separator:a0701c1685a77d3e1cc09313bf09b191e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d50d001bb52a684357fdbb39a89de0d" id="r_a0d50d001bb52a684357fdbb39a89de0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0d50d001bb52a684357fdbb39a89de0d">subscribe_delete_object</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *)</td></tr>
<tr class="memdesc:a0d50d001bb52a684357fdbb39a89de0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe on object deleting.  <br /></td></tr>
<tr class="separator:a0d50d001bb52a684357fdbb39a89de0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1cfec041c561f5dab31047b08d35b3" id="r_aad1cfec041c561f5dab31047b08d35b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aad1cfec041c561f5dab31047b08d35b3">bind_objects</a> ()</td></tr>
<tr class="memdesc:aad1cfec041c561f5dab31047b08d35b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind oks objects.  <br /></td></tr>
<tr class="separator:aad1cfec041c561f5dab31047b08d35b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab923597e0e67ea5b962e76e39c3fd08a" id="r_ab923597e0e67ea5b962e76e39c3fd08a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab923597e0e67ea5b962e76e39c3fd08a">get_bind_objects_status</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">noexcept</a></td></tr>
<tr class="memdesc:ab923597e0e67ea5b962e76e39c3fd08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return status of oks objects binding.  <br /></td></tr>
<tr class="separator:ab923597e0e67ea5b962e76e39c3fd08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4178aa167acfd96d9df80ddbda6e356e" id="r_a4178aa167acfd96d9df80ddbda6e356e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4178aa167acfd96d9df80ddbda6e356e">get_bind_classes_status</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">noexcept</a></td></tr>
<tr class="memdesc:a4178aa167acfd96d9df80ddbda6e356e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return status of oks classes binding.  <br /></td></tr>
<tr class="separator:a4178aa167acfd96d9df80ddbda6e356e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6e33f0d0192ff6b2f748864b33cf44" id="r_a8e6e33f0d0192ff6b2f748864b33cf44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8e6e33f0d0192ff6b2f748864b33cf44">unset_repository_created</a> ()</td></tr>
<tr class="memdesc:a8e6e33f0d0192ff6b2f748864b33cf44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set repository created flag to false to avoid created repository removal in destructor;.  <br /></td></tr>
<tr class="separator:a8e6e33f0d0192ff6b2f748864b33cf44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad562e2929c98997a68fe0f83570d3f36" id="r_ad562e2929c98997a68fe0f83570d3f36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad562e2929c98997a68fe0f83570d3f36">GetVersion</a> ()</td></tr>
<tr class="memdesc:ad562e2929c98997a68fe0f83570d3f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get OKS version. The method returns string containing CVS tag and date of OKS build.  <br /></td></tr>
<tr class="separator:ad562e2929c98997a68fe0f83570d3f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e5cdb5dda227374e59d3943c16ffab4" id="r_a0e5cdb5dda227374e59d3943c16ffab4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0e5cdb5dda227374e59d3943c16ffab4">get_host_name</a> ()</td></tr>
<tr class="memdesc:a0e5cdb5dda227374e59d3943c16ffab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get hostname of given process.  <br /></td></tr>
<tr class="separator:a0e5cdb5dda227374e59d3943c16ffab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4f27ce28aae944bdba4ae06f11e33e" id="r_aea4f27ce28aae944bdba4ae06f11e33e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aea4f27ce28aae944bdba4ae06f11e33e">get_domain_name</a> ()</td></tr>
<tr class="memdesc:aea4f27ce28aae944bdba4ae06f11e33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get domain name of host.  <br /></td></tr>
<tr class="separator:aea4f27ce28aae944bdba4ae06f11e33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f28238f393433527d5ddd9854707f11" id="r_a0f28238f393433527d5ddd9854707f11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0f28238f393433527d5ddd9854707f11">get_user_name</a> ()</td></tr>
<tr class="memdesc:a0f28238f393433527d5ddd9854707f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get username of given process.  <br /></td></tr>
<tr class="separator:a0f28238f393433527d5ddd9854707f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928958fedbb686a9d6cf48fc3d0e6e1f" id="r_a928958fedbb686a9d6cf48fc3d0e6e1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a928958fedbb686a9d6cf48fc3d0e6e1f">get_skip_string_range</a> ()</td></tr>
<tr class="memdesc:a928958fedbb686a9d6cf48fc3d0e6e1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of string range validator.  <br /></td></tr>
<tr class="separator:a928958fedbb686a9d6cf48fc3d0e6e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80cd5d841c67e31d7a3c7123925b7773" id="r_a80cd5d841c67e31d7a3c7123925b7773"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a80cd5d841c67e31d7a3c7123925b7773">set_skip_string_range</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>)</td></tr>
<tr class="memdesc:a80cd5d841c67e31d7a3c7123925b7773"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set status of string range validator. To switch 'On'/'Off' use the method's parameter:  <br /></td></tr>
<tr class="separator:a80cd5d841c67e31d7a3c7123925b7773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6528e28e06eaa1391894af1d5a94a1" id="r_a1f6528e28e06eaa1391894af1d5a94a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">check_read_only</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *f)</td></tr>
<tr class="memdesc:a1f6528e28e06eaa1391894af1d5a94a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the OKS file is read-only.  <br /></td></tr>
<tr class="separator:a1f6528e28e06eaa1391894af1d5a94a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade265849b397edf161fc12715b1e979" id="r_aade265849b397edf161fc12715b1e979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">get_repository_root</a> ()</td></tr>
<tr class="memdesc:aade265849b397edf161fc12715b1e979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get OKS repository root.  <br /></td></tr>
<tr class="separator:aade265849b397edf161fc12715b1e979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060734f716776f044f59324f7bd25d1f" id="r_a060734f716776f044f59324f7bd25d1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a060734f716776f044f59324f7bd25d1f">get_repository_mapping_dir</a> ()</td></tr>
<tr class="memdesc:a060734f716776f044f59324f7bd25d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get OKS repository name.  <br /></td></tr>
<tr class="separator:a060734f716776f044f59324f7bd25d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9dcba4f04ab1b532fc9f28380044289" id="r_ab9dcba4f04ab1b532fc9f28380044289"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab9dcba4f04ab1b532fc9f28380044289">get_tmp_file</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;file_name)</td></tr>
<tr class="memdesc:ab9dcba4f04ab1b532fc9f28380044289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates temporal file name.  <br /></td></tr>
<tr class="separator:ab9dcba4f04ab1b532fc9f28380044289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc165ff51306648a03171cf173891437" id="r_abc165ff51306648a03171cf173891437"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#abc165ff51306648a03171cf173891437">get_cwd</a> ()</td></tr>
<tr class="separator:abc165ff51306648a03171cf173891437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0745720b57f05240eeabf510a0658310" id="r_a0745720b57f05240eeabf510a0658310"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0745720b57f05240eeabf510a0658310">reset_cwd</a> ()</td></tr>
<tr class="memdesc:a0745720b57f05240eeabf510a0658310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset current working dir in case of <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">chdir()</a> call.  <br /></td></tr>
<tr class="separator:a0745720b57f05240eeabf510a0658310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710e192d1cc2ad57cc59c9293fcbab5f" id="r_a710e192d1cc2ad57cc59c9293fcbab5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a710e192d1cc2ad57cc59c9293fcbab5f">set_use_strict_repository_paths</a> (bool flag)</td></tr>
<tr class="memdesc:a710e192d1cc2ad57cc59c9293fcbab5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flag to use strict-repository-paths check.  <br /></td></tr>
<tr class="separator:a710e192d1cc2ad57cc59c9293fcbab5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a518786ac5c732b761b246c1741abaa97" id="r_a518786ac5c732b761b246c1741abaa97"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a518786ac5c732b761b246c1741abaa97">create_user_repository_dir</a> ()</td></tr>
<tr class="separator:a518786ac5c732b761b246c1741abaa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7146e0dd4178a81f368372ee7f8f9760" id="r_a7146e0dd4178a81f368372ee7f8f9760"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7146e0dd4178a81f368372ee7f8f9760">remove_user_repository_dir</a> ()</td></tr>
<tr class="separator:a7146e0dd4178a81f368372ee7f8f9760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9368d2db76298a9acf4de3649cfea535" id="r_a9368d2db76298a9acf4de3649cfea535"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9368d2db76298a9acf4de3649cfea535">k_copy_repository</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;source, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;destination)</td></tr>
<tr class="separator:a9368d2db76298a9acf4de3649cfea535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e13422a4423294503a4ec3c86d56e5" id="r_af1e13422a4423294503a4ec3c86d56e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#af1e13422a4423294503a4ec3c86d56e5">k_checkout_repository</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch</a>)</td></tr>
<tr class="memdesc:af1e13422a4423294503a4ec3c86d56e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check out repository files into local user directory.  <br /></td></tr>
<tr class="separator:af1e13422a4423294503a4ec3c86d56e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db4620ad72c6251da029a0538232581" id="r_a7db4620ad72c6251da029a0538232581"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7db4620ad72c6251da029a0538232581">find_file</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;s, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="separator:a7db4620ad72c6251da029a0538232581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2080ae62b89432e50a2779e6377cd0fb" id="r_a2080ae62b89432e50a2779e6377cd0fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a2080ae62b89432e50a2779e6377cd0fb">k_rename_repository_file</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>)</td></tr>
<tr class="separator:a2080ae62b89432e50a2779e6377cd0fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49029392547fe90f29fff85b3fecf6a6" id="r_a49029392547fe90f29fff85b3fecf6a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a49029392547fe90f29fff85b3fecf6a6">k_load_file</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;name, bool bind, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *parent, <a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>)</td></tr>
<tr class="separator:a49029392547fe90f29fff85b3fecf6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84dd4ad934b863d969c7107cf837fb95" id="r_a84dd4ad934b863d969c7107cf837fb95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a84dd4ad934b863d969c7107cf837fb95">k_load_includes</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> &amp;, <a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *)</td></tr>
<tr class="separator:a84dd4ad934b863d969c7107cf837fb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eab6ca06d65feece11b903c1cc7c1d" id="r_ae6eab6ca06d65feece11b903c1cc7c1d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ae6eab6ca06d65feece11b903c1cc7c1d">k_preload_includes</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_schema_extension</a>)</td></tr>
<tr class="separator:ae6eab6ca06d65feece11b903c1cc7c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf17f0818840737a901622eec411f0b2" id="r_aaf17f0818840737a901622eec411f0b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aaf17f0818840737a901622eec411f0b2">clear_preload_file_info</a> ()</td></tr>
<tr class="separator:aaf17f0818840737a901622eec411f0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12151554eb59b8a7260587a4185806ec" id="r_a12151554eb59b8a7260587a4185806ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a12151554eb59b8a7260587a4185806ec">restore_preload_file_info</a> ()</td></tr>
<tr class="separator:a12151554eb59b8a7260587a4185806ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec76e21d99032a77b340ab0dcea085b" id="r_a9ec76e21d99032a77b340ab0dcea085b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9ec76e21d99032a77b340ab0dcea085b">k_load_schema</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="separator:a9ec76e21d99032a77b340ab0dcea085b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20821483843fcbb92501c16530089a9" id="r_ac20821483843fcbb92501c16530089a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ac20821483843fcbb92501c16530089a9">k_load_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, std::shared_ptr&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksXmlInputStream.html">OksXmlInputStream</a> &gt; <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>)</td></tr>
<tr class="separator:ac20821483843fcbb92501c16530089a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40536a3c74de02d4c253b48de3930770" id="r_a40536a3c74de02d4c253b48de3930770"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a40536a3c74de02d4c253b48de3930770">k_close_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="separator:a40536a3c74de02d4c253b48de3930770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc5384aa89802ff1d773b51f60de715" id="r_a0cc5384aa89802ff1d773b51f60de715"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">k_save_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *=0, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> *=0)</td></tr>
<tr class="separator:a0cc5384aa89802ff1d773b51f60de715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d8350efcf0f7068bea99e0ba6490993" id="r_a3d8350efcf0f7068bea99e0ba6490993"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3d8350efcf0f7068bea99e0ba6490993">k_rename_schema</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;short_name, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long_name</a>)</td></tr>
<tr class="separator:a3d8350efcf0f7068bea99e0ba6490993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcbd7a39f351a35de7866f65d5ae3336" id="r_abcbd7a39f351a35de7866f65d5ae3336"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#abcbd7a39f351a35de7866f65d5ae3336">k_load_data</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;, bool, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, <a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *)</td></tr>
<tr class="separator:abcbd7a39f351a35de7866f65d5ae3336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845935fd72af0de86d2da5aa243dab0e" id="r_a845935fd72af0de86d2da5aa243dab0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a845935fd72af0de86d2da5aa243dab0e">k_load_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> format, std::shared_ptr&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksXmlInputStream.html">OksXmlInputStream</a> &gt; <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>, bool bind, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *)</td></tr>
<tr class="separator:a845935fd72af0de86d2da5aa243dab0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a88e8018731602cac5c5a7f0fa560e6" id="r_a6a88e8018731602cac5c5a7f0fa560e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a88e8018731602cac5c5a7f0fa560e6">k_close_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, bool)</td></tr>
<tr class="separator:a6a88e8018731602cac5c5a7f0fa560e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afebe1a2e2109e1715fe2a1b0048f9cbe" id="r_afebe1a2e2109e1715fe2a1b0048f9cbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">k_save_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, bool=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> *=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a>, bool <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force_defaults</a>=<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>)</td></tr>
<tr class="separator:afebe1a2e2109e1715fe2a1b0048f9cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3a83f2747cc54884c9057492623c6e" id="r_a5d3a83f2747cc54884c9057492623c6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a5d3a83f2747cc54884c9057492623c6e">k_rename_data</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;short_name, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long_name</a>)</td></tr>
<tr class="separator:a5d3a83f2747cc54884c9057492623c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988f782010d22e2a8977049627e9f1b7" id="r_a988f782010d22e2a8977049627e9f1b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a988f782010d22e2a8977049627e9f1b7">k_bind_objects</a> ()</td></tr>
<tr class="separator:a988f782010d22e2a8977049627e9f1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c97793bb43245809c330afad3754b5" id="r_a33c97793bb43245809c330afad3754b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a33c97793bb43245809c330afad3754b5">k_check_bind_classes_status</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">noexcept</a></td></tr>
<tr class="separator:a33c97793bb43245809c330afad3754b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed914ffc8a62b2b2afe2c9bd43d62843" id="r_aed914ffc8a62b2b2afe2c9bd43d62843"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aed914ffc8a62b2b2afe2c9bd43d62843">unbind_all_rels</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rm_objs</a>, <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> &amp;updated) <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="memdesc:aed914ffc8a62b2b2afe2c9bd43d62843"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unbind all references on given oks objects. The method unbinds all relationships referencing given objects.  <br /></td></tr>
<tr class="separator:aed914ffc8a62b2b2afe2c9bd43d62843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a583921f9ac8f6fcfa281282e86ce84b8" id="r_a583921f9ac8f6fcfa281282e86ce84b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a583921f9ac8f6fcfa281282e86ce84b8">k_add</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *)</td></tr>
<tr class="separator:a583921f9ac8f6fcfa281282e86ce84b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67ace0f00194f3aa7f23d262d45eb42" id="r_aa67ace0f00194f3aa7f23d262d45eb42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa67ace0f00194f3aa7f23d262d45eb42">k_remove</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *)</td></tr>
<tr class="separator:aa67ace0f00194f3aa7f23d262d45eb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e1009ac16e5c63abb3b9c2a3705630" id="r_a02e1009ac16e5c63abb3b9c2a3705630"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a02e1009ac16e5c63abb3b9c2a3705630">define</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *o)</td></tr>
<tr class="separator:a02e1009ac16e5c63abb3b9c2a3705630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8302bd73f06f566ef796310536f96ba4" id="r_a8302bd73f06f566ef796310536f96ba4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8302bd73f06f566ef796310536f96ba4">undefine</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *o)</td></tr>
<tr class="separator:a8302bd73f06f566ef796310536f96ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43867cc68722cee1fc2d477db077309f" id="r_a43867cc68722cee1fc2d477db077309f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">add_data_file</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="separator:a43867cc68722cee1fc2d477db077309f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e44d178e13a22360d2341e5798d601" id="r_ad4e44d178e13a22360d2341e5798d601"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad4e44d178e13a22360d2341e5798d601">add_schema_file</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="separator:ad4e44d178e13a22360d2341e5798d601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb82ac0b9e50c4cd9bc6e4b3bab50dc" id="r_adbb82ac0b9e50c4cd9bc6e4b3bab50dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">remove_data_file</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="separator:adbb82ac0b9e50c4cd9bc6e4b3bab50dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d215f90bf982566d30eea7d44bd597a" id="r_a8d215f90bf982566d30eea7d44bd597a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8d215f90bf982566d30eea7d44bd597a">remove_schema_file</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *)</td></tr>
<tr class="separator:a8d215f90bf982566d30eea7d44bd597a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa468682b3daebae06e04c92becbedd2b" id="r_aa468682b3daebae06e04c92becbedd2b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa468682b3daebae06e04c92becbedd2b">test_parent</a> (<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *<a class="el" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>, OksFile::IMap::iterator &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)</td></tr>
<tr class="separator:aa468682b3daebae06e04c92becbedd2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0ba3231bc9d5110cae9dab9790c2dc15" id="r_a0ba3231bc9d5110cae9dab9790c2dc15"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a></td></tr>
<tr class="separator:a0ba3231bc9d5110cae9dab9790c2dc15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11076c81a76f57ea6ddb25c70e66d42" id="r_ab11076c81a76f57ea6ddb25c70e66d42"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a></td></tr>
<tr class="separator:ab11076c81a76f57ea6ddb25c70e66d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a86419a90e856eefd7a8e14af9ab95b" id="r_a6a86419a90e856eefd7a8e14af9ab95b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a></td></tr>
<tr class="separator:a6a86419a90e856eefd7a8e14af9ab95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c859e6a3ed6e14fa0e672b1d4b59886" id="r_a2c859e6a3ed6e14fa0e672b1d4b59886"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a></td></tr>
<tr class="separator:a2c859e6a3ed6e14fa0e672b1d4b59886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c94417eb51449baf27890e9663c73c" id="r_a01c94417eb51449baf27890e9663c73c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a></td></tr>
<tr class="separator:a01c94417eb51449baf27890e9663c73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a10ad58ba9a09c7c324fb90cabc0e44" id="r_a1a10ad58ba9a09c7c324fb90cabc0e44"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">p_allow_duplicated_objects</a></td></tr>
<tr class="separator:a1a10ad58ba9a09c7c324fb90cabc0e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26b4bde2895fc3606c18f13908e3392" id="r_ac26b4bde2895fc3606c18f13908e3392"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">p_test_duplicated_objects_via_inheritance</a></td></tr>
<tr class="separator:ac26b4bde2895fc3606c18f13908e3392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55a080d3b1484fcdb1fa1cbbe0c3ab8" id="r_aa55a080d3b1484fcdb1fa1cbbe0c3ab8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a></td></tr>
<tr class="separator:aa55a080d3b1484fcdb1fa1cbbe0c3ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8105e10baeb961ec7301c091bd8af1" id="r_afe8105e10baeb961ec7301c091bd8af1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a></td></tr>
<tr class="separator:afe8105e10baeb961ec7301c091bd8af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b77743fd9868405c0cee8910d02247" id="r_a86b77743fd9868405c0cee8910d02247"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a></td></tr>
<tr class="separator:a86b77743fd9868405c0cee8910d02247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fd2e07159fbe5ffc1ca3da0be67055" id="r_a30fd2e07159fbe5ffc1ca3da0be67055"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a></td></tr>
<tr class="separator:a30fd2e07159fbe5ffc1ca3da0be67055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cdafe18537c1878dc705dc544556023" id="r_a3cdafe18537c1878dc705dc544556023"><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3cdafe18537c1878dc705dc544556023">p_repository_checkout_ts</a></td></tr>
<tr class="separator:a3cdafe18537c1878dc705dc544556023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f9d537ea0cdd55cf07d9e5f0f0836a" id="r_a80f9d537ea0cdd55cf07d9e5f0f0836a"><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a80f9d537ea0cdd55cf07d9e5f0f0836a">p_repository_update_ts</a></td></tr>
<tr class="separator:a80f9d537ea0cdd55cf07d9e5f0f0836a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18d066f601c9b45cb47bb4c2e1f3cc7" id="r_ac18d066f601c9b45cb47bb4c2e1f3cc7"><td class="memItemLeft" align="right" valign="top">std::shared_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a></td></tr>
<tr class="separator:ac18d066f601c9b45cb47bb4c2e1f3cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06159b5ff8335605dc992309a22409ae" id="r_a06159b5ff8335605dc992309a22409ae"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a06159b5ff8335605dc992309a22409ae">p_objects_mutex</a></td></tr>
<tr class="separator:a06159b5ff8335605dc992309a22409ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e32cfeb81b0fdf95f0a69ac904f879" id="r_a98e32cfeb81b0fdf95f0a69ac904f879"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a98e32cfeb81b0fdf95f0a69ac904f879">p_objects_refs_mutex</a></td></tr>
<tr class="separator:a98e32cfeb81b0fdf95f0a69ac904f879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae97100aa2f2c13a8c80d9c4e99456b27" id="r_ae97100aa2f2c13a8c80d9c4e99456b27"><td class="memItemLeft" align="right" valign="top">std::shared_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ae97100aa2f2c13a8c80d9c4e99456b27">p_schema_mutex</a></td></tr>
<tr class="separator:ae97100aa2f2c13a8c80d9c4e99456b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a477034829bb0a6654ab8404175ae4604" id="r_a477034829bb0a6654ab8404175ae4604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a></td></tr>
<tr class="separator:a477034829bb0a6654ab8404175ae4604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63752813c588c05d1e1b6ce1797a9f5" id="r_af63752813c588c05d1e1b6ce1797a9f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a></td></tr>
<tr class="separator:af63752813c588c05d1e1b6ce1797a9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027d8e76d068dde3dd3c2195376c695a" id="r_a027d8e76d068dde3dd3c2195376c695a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a></td></tr>
<tr class="separator:a027d8e76d068dde3dd3c2195376c695a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85145f1522602d506b8d933519f9018" id="r_ae85145f1522602d506b8d933519f9018"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a></td></tr>
<tr class="separator:ae85145f1522602d506b8d933519f9018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a38de67fc48d5c5c2169eda863252cc" id="r_a8a38de67fc48d5c5c2169eda863252cc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">p_close_all</a></td></tr>
<tr class="separator:a8a38de67fc48d5c5c2169eda863252cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626691afecd914a9808e008690008103" id="r_a626691afecd914a9808e008690008103"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a></td></tr>
<tr class="separator:a626691afecd914a9808e008690008103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbcee3a353a3d24204b4765a194e1d5" id="r_a3dbcee3a353a3d24204b4765a194e1d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a></td></tr>
<tr class="separator:a3dbcee3a353a3d24204b4765a194e1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b101fc322054d01ed6da39d5184dea3" id="r_a4b101fc322054d01ed6da39d5184dea3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksProfiler.html">OksProfiler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a></td></tr>
<tr class="separator:a4b101fc322054d01ed6da39d5184dea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09d4dbcba0626d213b076634aafdde0" id="r_ad09d4dbcba0626d213b076634aafdde0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#af3e245cfa22aaeff278cb6a793b902fc">OksObject::Set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a></td></tr>
<tr class="separator:ad09d4dbcba0626d213b076634aafdde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41302a21b195f3c0222a6cfcdc8aa41f" id="r_a41302a21b195f3c0222a6cfcdc8aa41f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a></td></tr>
<tr class="separator:a41302a21b195f3c0222a6cfcdc8aa41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98deca8b0f40dc677caca63479acc0c3" id="r_a98deca8b0f40dc677caca63479acc0c3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a98deca8b0f40dc677caca63479acc0c3">p_bind_classes_status</a></td></tr>
<tr class="separator:a98deca8b0f40dc677caca63479acc0c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a2ea60d49d61ff118f3bb6722aae8e" id="r_aa0a2ea60d49d61ff118f3bb6722aae8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdunedaq_1_1oks_1_1LoadErrors.html">LoadErrors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa0a2ea60d49d61ff118f3bb6722aae8e">p_load_errors</a></td></tr>
<tr class="separator:aa0a2ea60d49d61ff118f3bb6722aae8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af678babfee87cc6ad1c42da687d14646" id="r_af678babfee87cc6ad1c42da687d14646"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a></td></tr>
<tr class="separator:af678babfee87cc6ad1c42da687d14646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ebf40f11e523f6310d4d7917e508f4b" id="r_a7ebf40f11e523f6310d4d7917e508f4b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7ebf40f11e523f6310d4d7917e508f4b">p_preload_added_files</a></td></tr>
<tr class="separator:a7ebf40f11e523f6310d4d7917e508f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc68c1f8cefd257f4aff1167ba5e6389" id="r_acc68c1f8cefd257f4aff1167ba5e6389"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#acc68c1f8cefd257f4aff1167ba5e6389">p_create_object_notify_fn</a></td></tr>
<tr class="separator:acc68c1f8cefd257f4aff1167ba5e6389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc6da3fe96597d26b0e71ce80d6a4919" id="r_afc6da3fe96597d26b0e71ce80d6a4919"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#afc6da3fe96597d26b0e71ce80d6a4919">p_create_object_notify_param</a></td></tr>
<tr class="separator:afc6da3fe96597d26b0e71ce80d6a4919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023ce21b0c591f53e79c65c1e48c4c6a" id="r_a023ce21b0c591f53e79c65c1e48c4c6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a023ce21b0c591f53e79c65c1e48c4c6a">p_change_object_notify_fn</a></td></tr>
<tr class="separator:a023ce21b0c591f53e79c65c1e48c4c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae17b172d5ca4c96035a027ab1545bc8" id="r_aae17b172d5ca4c96035a027ab1545bc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aae17b172d5ca4c96035a027ab1545bc8">p_change_object_notify_param</a></td></tr>
<tr class="separator:aae17b172d5ca4c96035a027ab1545bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f14be93d583ebf6f6e8b07f46c5c2b5" id="r_a5f14be93d583ebf6f6e8b07f46c5c2b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a5f14be93d583ebf6f6e8b07f46c5c2b5">p_delete_object_notify_fn</a></td></tr>
<tr class="separator:a5f14be93d583ebf6f6e8b07f46c5c2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f141393a48db689e86066a08b63c44e" id="r_a7f141393a48db689e86066a08b63c44e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7f141393a48db689e86066a08b63c44e">p_delete_object_notify_param</a></td></tr>
<tr class="separator:a7f141393a48db689e86066a08b63c44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aa5f313975428a5db86a1f15e04affd2a" id="r_aa5f313975428a5db86a1f15e04affd2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa5f313975428a5db86a1f15e04affd2a">p_skip_string_range</a> = <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></td></tr>
<tr class="separator:aa5f313975428a5db86a1f15e04affd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240f6bd8b9dbea5b2263dae112ad53a1" id="r_a240f6bd8b9dbea5b2263dae112ad53a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a240f6bd8b9dbea5b2263dae112ad53a1">p_use_strict_repository_paths</a> = <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></td></tr>
<tr class="separator:a240f6bd8b9dbea5b2263dae112ad53a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376982cc6357b8191ba7e5a11f81e3b3" id="r_a376982cc6357b8191ba7e5a11f81e3b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">p_repository_root</a></td></tr>
<tr class="separator:a376982cc6357b8191ba7e5a11f81e3b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c388d2cef0d147eac31f486e2246084" id="r_a7c388d2cef0d147eac31f486e2246084"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7c388d2cef0d147eac31f486e2246084">p_repository_mapping_dir</a></td></tr>
<tr class="separator:a7c388d2cef0d147eac31f486e2246084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29924bc55bc4d00959a7c4a439ef4579" id="r_a29924bc55bc4d00959a7c4a439ef4579"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a></td></tr>
<tr class="separator:a29924bc55bc4d00959a7c4a439ef4579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cef12849ae5c6dda13eb705c8006e65" id="r_a1cef12849ae5c6dda13eb705c8006e65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> = <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a></td></tr>
<tr class="separator:a1cef12849ae5c6dda13eb705c8006e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c554b2122f46f49a5ab42ded403305b" id="r_a9c554b2122f46f49a5ab42ded403305b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unsigned</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9c554b2122f46f49a5ab42ded403305b">p_count</a> = 0</td></tr>
<tr class="separator:a9c554b2122f46f49a5ab42ded403305b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a1feb0f10e13050b8867c600eb24df" id="r_a84a1feb0f10e13050b8867c600eb24df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> = 0</td></tr>
<tr class="separator:a84a1feb0f10e13050b8867c600eb24df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a94f4edb000c1848aac74cfd4e1457a4d" id="r_a94f4edb000c1848aac74cfd4e1457a4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a></td></tr>
<tr class="separator:a94f4edb000c1848aac74cfd4e1457a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0781385fa53ab9c1e66ee5850c35c0bc" id="r_a0781385fa53ab9c1e66ee5850c35c0bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a></td></tr>
<tr class="separator:a0781385fa53ab9c1e66ee5850c35c0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7db7b536426fdcbeab21b6b6eb95d89" id="r_ac7db7b536426fdcbeab21b6b6eb95d89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a></td></tr>
<tr class="separator:ac7db7b536426fdcbeab21b6b6eb95d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e24d3bdd4b82fbeee070daa90a9fb5a" id="r_a3e24d3bdd4b82fbeee070daa90a9fb5a"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3e24d3bdd4b82fbeee070daa90a9fb5a">OksLoadObjectsJob</a></td></tr>
<tr class="separator:a3e24d3bdd4b82fbeee070daa90a9fb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b74db997373812fa3a1390e0d2455a6" id="r_a5b74db997373812fa3a1390e0d2455a6"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a></td></tr>
<tr class="separator:a5b74db997373812fa3a1390e0d2455a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff395fabaa86c1fa43666f5143fc828" id="r_aeff395fabaa86c1fa43666f5143fc828"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeff395fabaa86c1fa43666f5143fc828">operator&lt;&lt;</a> (std::ostream &amp;, <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a> &amp;)</td></tr>
<tr class="separator:aeff395fabaa86c1fa43666f5143fc828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides interface to the OKS kernel. </p>
<p>It is responsible for loading OKS data and schema files and it provides access to loaded OKS classes and their objects.</p>
<p>To work with OKS schema the following base methods are available:</p><ul>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeb9db05d4e3c02013f138b419f15b45e" title="Load OKS schema file.">load_schema()</a> - load OKS schema from file (i.e. read description of classes with attributes, relationships and methods)</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#abce2f3cafd6dff70fa23fe5084336f6a" title="Create OKS schema file.">new_schema()</a> - create new OKS schema file</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3a3852788c428acefc8f80cb646b4ebb" title="Set active OKS schema file.">set_active_schema()</a> - use this schema file for newly created classes</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a9378e0ca21e42ae2ef479e8e29df8186" title="Save OKS schema file.">save_schema()</a> - save OKS schema file</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad8d21e3f060508d8a90fc8364b0dc5c2" title="Close OKS schema file.">close_schema()</a> - close OKS schema file and unload all classes from it</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987" title="Get classes.">classes()</a> - get list of OKS classes</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad7dce86768be0ee65bca13c12cffb746" title="Find class by name (C++ string).">find_class()</a> - get class by name</li>
</ul>
<p>To work with OKS data the following base methods are available:</p><ul>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a19f234b7ef4a459f190f1d7ff1a7b738" title="Load OKS data file.">load_data()</a> - load OKS data from file (i.e. read description of OKS objects)</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a5a0dbfac3dbc08f773ca64f7d2c4a398" title="Reload OKS data files.">reload_data()</a> - reload data file, e.g. to revert to saved data or when it was modified by external process</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a37269a273ca6b32478531309262442e3" title="Create OKS data file.">new_data()</a> - create new OKS data file</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeb0c7093f5d30ee18f7f925a26ed7631" title="Set active OKS data file.">set_active_data()</a> - use this data file for newly created classes</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aab03744b896b3d519fdb8b104775b6a8" title="Save OKS data file.">save_data()</a> - save OKS data file</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab4d9e9eaf1cd9822c84ea968be6325a6" title="Close OKS data file.">close_data()</a> - close OKS data file and unload all objects from it</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f" title="Get objects.">objects()</a> - get all objects (unsorted by classes or IDs)</li>
</ul>
<p>To work with OKS server the following methods can be used:</p><ul>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aae25038101cb4635c965696c9c43d6a3" title="Commit user modifications into repository.">commit_repository()</a> - commit changes from user repository files on the OKS server</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a244a1dbb6e31ce070e3ff3d79220d299" title="Update user repository files from origin by hash.">update_repository()</a> - update files on user repository from OKS server</li>
</ul>
<p>When schema or data are modified, the process can give callback using the following methods:</p><ul>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ad5bad3646eba78ae3fb31c28ce513662" title="Subscribe on class creation.">subscribe_create_class()</a> - notify, when new class is created</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a4da94466cbefee6ab15ff06cc40c3820" title="Subscribe on class changing.">subscribe_change_class()</a> - notify, when existing class is modified</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a698815f77b77688095e5941e98f337f2" title="Subscribe on class destroying.">subscribe_delete_class()</a> - notify, when existing class is removed</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a902a515853c196e5439881ee8deda3ce" title="Subscribe on object creation.">subscribe_create_object()</a> - notify, when new object is created</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0701c1685a77d3e1cc09313bf09b191e" title="Subscribe on object changing.">subscribe_change_object()</a> - notify, when existing object is modified</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a0d50d001bb52a684357fdbb39a89de0d" title="Subscribe on object deleting.">subscribe_delete_object()</a> - notify, when existing object is removed</li>
</ul>
<p>When objects are created in unordered manner or by efficiency reasons files are loaded with non-bind option, the objects can be bind (i.e. linked) using the following methods:</p><ul>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aad1cfec041c561f5dab31047b08d35b3" title="Bind oks objects.">bind_objects()</a> - link relationships of existing objects</li>
<li><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab923597e0e67ea5b962e76e39c3fd08a" title="Return status of oks objects binding.">get_bind_objects_status()</a> - get status of last <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aad1cfec041c561f5dab31047b08d35b3" title="Bind oks objects.">bind_objects()</a> operation</li>
</ul>
<p>In case of problems most of above methods throw exceptions derived from <a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> class.</p>
<p>Most of the <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html" title="Provides interface to the OKS kernel.">OksKernel</a> methods are thread-safe. Those which are not thread-safe, are started from prefix "k_". </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00576">576</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a348cbdfb0b8385aa7ab3921d25a387b5" name="a348cbdfb0b8385aa7ab3921d25a387b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a348cbdfb0b8385aa7ab3921d25a387b5">&#9670;&#160;</a></span>RepositoryUpdateType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">enum</a> <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5">dunedaq::oks::OksKernel::RepositoryUpdateType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6" name="a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6"></a>DiscardChanges&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1" name="a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1"></a>MergeChanges&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a348cbdfb0b8385aa7ab3921d25a387b5a77abdde0526585276d68a74214270a6e" name="a348cbdfb0b8385aa7ab3921d25a387b5a77abdde0526585276d68a74214270a6e"></a>NoChanges&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01588">1588</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1589</span>      {</div>
<div class="line"><span class="lineno"> 1590</span>        <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6">DiscardChanges</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1">MergeChanges</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a77abdde0526585276d68a74214270a6e">NoChanges</a></div>
<div class="line"><span class="lineno"> 1591</span>      };</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6">dunedaq::oks::OksKernel::DiscardChanges</a></div><div class="ttdeci">@ DiscardChanges</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01590">kernel.hpp:1590</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a348cbdfb0b8385aa7ab3921d25a387b5a77abdde0526585276d68a74214270a6e"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a77abdde0526585276d68a74214270a6e">dunedaq::oks::OksKernel::NoChanges</a></div><div class="ttdeci">@ NoChanges</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01591">kernel.hpp:1590</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1">dunedaq::oks::OksKernel::MergeChanges</a></div><div class="ttdeci">@ MergeChanges</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01590">kernel.hpp:1590</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a52759678bd7d15ba5b57eddee62238fe" name="a52759678bd7d15ba5b57eddee62238fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52759678bd7d15ba5b57eddee62238fe">&#9670;&#160;</a></span>OksKernel() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dunedaq::oks::OksKernel::OksKernel </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silence_mode</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose_mode</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>profiling_mode</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_repository</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td>
          <td class="paramname"><em>version</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>branch_name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor to build <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html" title="Provides interface to the OKS kernel.">OksKernel</a> object. </p>
<p>All parameters of the constructor are optional. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">silence_mode</td><td>- defines kernel silence mode </td></tr>
    <tr><td class="paramname">verbose_mode</td><td>- defines kernel verbose mode </td></tr>
    <tr><td class="paramname">profiling_mode</td><td>- switch kernel into profiling mode </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00735">735</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  735</span>                                                                                                                  :</div>
<div class="line"><span class="lineno">  736</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>                               (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sm</a>),</div>
<div class="line"><span class="lineno">  737</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>                               (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vm</a>),</div>
<div class="line"><span class="lineno">  738</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a>                                 (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tm</a>),</div>
<div class="line"><span class="lineno">  739</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a>                          (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_repository</a>),</div>
<div class="line"><span class="lineno">  740</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a>                  (<span class="keyword">true</span>),</div>
<div class="line"><span class="lineno">  741</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">p_allow_duplicated_objects</a>                  (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  742</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">p_test_duplicated_objects_via_inheritance</a>   (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  743</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a>               (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  744</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a>              (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  745</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>                             (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  746</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>                               (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  747</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">p_close_all</a>                                 (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  748</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a>                                (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  749</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#acc68c1f8cefd257f4aff1167ba5e6389">p_create_object_notify_fn</a>                   (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  750</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afc6da3fe96597d26b0e71ce80d6a4919">p_create_object_notify_param</a>                (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  751</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a023ce21b0c591f53e79c65c1e48c4c6a">p_change_object_notify_fn</a>                   (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  752</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aae17b172d5ca4c96035a027ab1545bc8">p_change_object_notify_param</a>                (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  753</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a5f14be93d583ebf6f6e8b07f46c5c2b5">p_delete_object_notify_fn</a>                   (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  754</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7f141393a48db689e86066a08b63c44e">p_delete_object_notify_param</a>                (<span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  755</span>{</div>
<div class="line"><span class="lineno">  756</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;Enter OksKernel::OksKernel(&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sm</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vm</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tm</a> &lt;&lt; <span class="charliteral">&#39;)&#39;</span>)</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>  struct <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__InitFromEnv__</a> {</div>
<div class="line"><span class="lineno">  759</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#af58eba15b0bef92ac8321f6b43359551">name</a>;</div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordtype">bool</span>&amp; value;</div>
<div class="line"><span class="lineno">  761</span>  } <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vars</a>[] = {</div>
<div class="line"><span class="lineno">  762</span>    {<span class="stringliteral">&quot;OKS_KERNEL_VERBOSE&quot;</span>,                                 <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>                                 },</div>
<div class="line"><span class="lineno">  763</span>    {<span class="stringliteral">&quot;OKS_KERNEL_SILENCE&quot;</span>,                                 <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>                                 },</div>
<div class="line"><span class="lineno">  764</span>    {<span class="stringliteral">&quot;OKS_KERNEL_PROFILING&quot;</span>,                               <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a>                               },</div>
<div class="line"><span class="lineno">  765</span>    {<span class="stringliteral">&quot;OKS_KERNEL_ALLOW_REPOSITORY&quot;</span>,                        <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a>                        },</div>
<div class="line"><span class="lineno">  766</span>    {<span class="stringliteral">&quot;OKS_KERNEL_ALLOW_DUPLICATED_CLASSES&quot;</span>,                <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a>                },</div>
<div class="line"><span class="lineno">  767</span>    {<span class="stringliteral">&quot;OKS_KERNEL_ALLOW_DUPLICATED_OBJECTS&quot;</span>,                <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">p_allow_duplicated_objects</a>                },</div>
<div class="line"><span class="lineno">  768</span>    {<span class="stringliteral">&quot;OKS_KERNEL_TEST_DUPLICATED_OBJECTS_VIA_INHERITANCE&quot;</span>, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">p_test_duplicated_objects_via_inheritance</a> },</div>
<div class="line"><span class="lineno">  769</span>    {<span class="stringliteral">&quot;OKS_KERNEL_SKIP_STRING_RANGE&quot;</span>,                       <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa5f313975428a5db86a1f15e04affd2a">p_skip_string_range</a>                       }</div>
<div class="line"><span class="lineno">  770</span>  };</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vars</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__InitFromEnv__</a>); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno">  773</span>    <span class="keywordflow">if</span>(<span class="keywordtype">char</span> * s = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vars</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>].name)) {</div>
<div class="line"><span class="lineno">  774</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vars</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>].value = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strcmp</a>(s, <span class="stringliteral">&quot;no&quot;</span>)) ? <span class="keyword">true</span> : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>;</div>
<div class="line"><span class="lineno">  775</span>    }</div>
<div class="line"><span class="lineno">  776</span>  }</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>  {</div>
<div class="line"><span class="lineno">  779</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;OKS_DB_ROOT&quot;</span>);</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> == <span class="keyword">nullptr</span> || *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> == 0)</div>
<div class="line"><span class="lineno">  782</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;DUNEDAQ_DB_PATH&quot;</span>);</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  784</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a240f6bd8b9dbea5b2263dae112ad53a1">p_use_strict_repository_paths</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;database root = \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; (as defined by the OKS_DB_ROOT or DUNEDAQ_DB_PATH)&quot;</span>);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>      <span class="comment">// if not defined, set oks_db_root to empty string (to avoid std::string constructor crash when string is 0) </span></div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  792</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>      <span class="comment">// temporal set</span></div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    Oks::Tokenizer <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">t</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oks_db_root</a>, <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><span class="lineno">  798</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>;</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">t</a>.next(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>))</div>
<div class="line"><span class="lineno">  801</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aee096dfea896cd0310f6d99beae4ddca">insert_repository_dir</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>);</div>
<div class="line"><span class="lineno">  802</span>  }</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>  {</div>
<div class="line"><span class="lineno">  808</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a9c554b2122f46f49a5ab42ded403305b">p_count</a>++) {</div>
<div class="line"><span class="lineno">  811</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">OksClass::create_notify_fn</a> = 0;</div>
<div class="line"><span class="lineno">  812</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#ab71059816d826d5403379b32a094433d">OksClass::change_notify_fn</a> = 0;</div>
<div class="line"><span class="lineno">  813</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#aa11be1bfba80263c0541ac8f157b082d">OksClass::delete_notify_fn</a> = 0;</div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#abc165ff51306648a03171cf173891437">get_cwd</a>();</div>
<div class="line"><span class="lineno">  817</span>  }</div>
<div class="line"><span class="lineno">  818</span>  </div>
<div class="line"><span class="lineno">  819</span>  {</div>
<div class="line"><span class="lineno">  820</span>    <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    std::call_once(flag, []()</div>
<div class="line"><span class="lineno">  823</span>      {</div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> (<span class="keywordtype">char</span> * s = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;OKS_KERNEL_THREADS_POOL_SIZE&quot;</span>))</div>
<div class="line"><span class="lineno">  825</span>          {</div>
<div class="line"><span class="lineno">  826</span>            <span class="keywordflow">if</span> (*s != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  827</span>              {</div>
<div class="line"><span class="lineno">  828</span>                <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">atoi</a>(s);</div>
<div class="line"><span class="lineno">  829</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> &lt; 1)</div>
<div class="line"><span class="lineno">  830</span>                  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> = 1;</div>
<div class="line"><span class="lineno">  831</span>              }</div>
<div class="line"><span class="lineno">  832</span>          }</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a>)</div>
<div class="line"><span class="lineno">  835</span>          {</div>
<div class="line"><span class="lineno">  836</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a> = 0;</div>
<div class="line"><span class="lineno">  837</span>            <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sysconf</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_SC_NPROCESSORS_ONLN</a>);</div>
<div class="line"><span class="lineno">  838</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> == -1 &amp;&amp; !<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>)</div>
<div class="line"><span class="lineno">  839</span>              {</div>
<div class="line"><span class="lineno">  840</span>                <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel()&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; sysconf(_SC_NPROCESSORS_ONLN) has failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a> &lt;&lt; <span class="stringliteral">&quot;: \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  841</span>                <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> = 0;</div>
<div class="line"><span class="lineno">  842</span>              }</div>
<div class="line"><span class="lineno">  843</span>          }</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a>)</div>
<div class="line"><span class="lineno">  846</span>          <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> = 2;</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;Threads pool size: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a>;</div>
<div class="line"><span class="lineno">  849</span>      }</div>
<div class="line"><span class="lineno">  850</span>    );</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  }</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  <span class="comment">// process OKS server URL settings if any</span></div>
<div class="line"><span class="lineno">  855</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a> &amp;&amp; !<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">get_repository_root</a>().empty())</div>
<div class="line"><span class="lineno">  856</span>    {</div>
<div class="line"><span class="lineno">  857</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().empty())</div>
<div class="line"><span class="lineno">  858</span>        {</div>
<div class="line"><span class="lineno">  859</span>          <span class="comment">// parse specific version option if any</span></div>
<div class="line"><span class="lineno">  860</span>          std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>          <span class="keywordflow">if</span> (!<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>)</div>
<div class="line"><span class="lineno">  863</span>            <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_VERSION&quot;</span>);</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>)</div>
<div class="line"><span class="lineno">  866</span>            {</div>
<div class="line"><span class="lineno">  867</span>              <span class="keywordflow">if</span>(*<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>)</div>
<div class="line"><span class="lineno">  868</span>                {</div>
<div class="line"><span class="lineno">  869</span>                  <span class="keywordflow">if</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> * value = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strchr</a>(<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>, <span class="charliteral">&#39;:&#39;</span>))</div>
<div class="line"><span class="lineno">  870</span>                    {</div>
<div class="line"><span class="lineno">  871</span>                      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>.assign(<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>, value-<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><span class="lineno">  872</span>                      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>.assign(value+1);</div>
<div class="line"><span class="lineno">  873</span>                    }</div>
<div class="line"><span class="lineno">  874</span>                  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  875</span>                    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;bad version value \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> &lt;&lt; <span class="stringliteral">&quot;\&quot; expecting parameter:value format (check TDAQ_DB_VERSION variable)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  876</span>                }</div>
<div class="line"><span class="lineno">  877</span>            }</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>          <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  880</span>            {</div>
<div class="line"><span class="lineno">  881</span>              std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_dirname</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a518786ac5c732b761b246c1741abaa97">OksKernel::create_user_repository_dir</a>();</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>              <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40b7aff6a5f31c8f41a148cef285b257">set_user_repository_root</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_dirname</a>);</div>
<div class="line"><span class="lineno">  884</span>              <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  885</span>              <a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a596d3acd145c1f45b34b1a4611870396">s_git_folders</a>.<a class="code hl_function" href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#ac90463bb2e40ce482e1ddbacb3afb3b7">insert</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch_name</a>.empty())</div>
<div class="line"><span class="lineno">  888</span>                  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">var</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_BRANCH&quot;</span>))</div>
<div class="line"><span class="lineno">  889</span>                    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch_name</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">var</a>;</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>              <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#af1e13422a4423294503a4ec3c86d56e5">k_checkout_repository</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch_name</a>);</div>
<div class="line"><span class="lineno">  892</span>            }</div>
<div class="line"><span class="lineno">  893</span>          <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>)</div>
<div class="line"><span class="lineno">  894</span>            {</div>
<div class="line"><span class="lineno">  895</span>              <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;cannot check out user repository: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  896</span>            }</div>
<div class="line"><span class="lineno">  897</span>        }</div>
<div class="line"><span class="lineno">  898</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  899</span>        {</div>
<div class="line"><span class="lineno">  900</span>          <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno">  901</span>            {</div>
<div class="line"><span class="lineno">  902</span>              <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  903</span>                {</div>
<div class="line"><span class="lineno">  904</span>                  std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno">  905</span>                  std::cout &lt;&lt; <span class="stringliteral">&quot;attach to repository \&quot;&quot;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>() &lt;&lt; <span class="stringliteral">&quot;\&quot; version &quot;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aa3e6130b08566656a4ce61d54f4c5691">read_repository_version</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  906</span>                }</div>
<div class="line"><span class="lineno">  907</span>              <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>)</div>
<div class="line"><span class="lineno">  908</span>                {</div>
<div class="line"><span class="lineno">  909</span>                  <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;cannot read user repository version: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  910</span>                }</div>
<div class="line"><span class="lineno">  911</span>            }</div>
<div class="line"><span class="lineno">  912</span>        }</div>
<div class="line"><span class="lineno">  913</span>    }</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span><span class="preprocessor">#ifndef ERS_NO_DEBUG</span></div>
<div class="line"><span class="lineno">  916</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a>)</div>
<div class="line"><span class="lineno">  917</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a> = (OksProfiler *) <span class="keyword">new</span> OksProfiler();</div>
<div class="line"><span class="lineno">  918</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  919</span>}</div>
<div class="ttc" id="aTriggerActivity__serialization_8hpp_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition</b> <a href="TriggerActivity__serialization_8hpp_source.html#l00050">TriggerActivity_serialization.hpp:50</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1GitFoldersHolder_html_ac90463bb2e40ce482e1ddbacb3afb3b7"><div class="ttname"><a href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#ac90463bb2e40ce482e1ddbacb3afb3b7">dunedaq::oks::GitFoldersHolder::insert</a></div><div class="ttdeci">void insert(const std::string &amp;path)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00093">kernel.cpp:93</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_a627731a39f15c36842e70c218d0b88b9"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">dunedaq::oks::OksClass::create_notify_fn</a></div><div class="ttdeci">static NotifyFN create_notify_fn</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00966">class.hpp:966</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_aa11be1bfba80263c0541ac8f157b082d"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#aa11be1bfba80263c0541ac8f157b082d">dunedaq::oks::OksClass::delete_notify_fn</a></div><div class="ttdeci">static NotifyFN delete_notify_fn</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00968">class.hpp:968</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_ab71059816d826d5403379b32a094433d"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#ab71059816d826d5403379b32a094433d">dunedaq::oks::OksClass::change_notify_fn</a></div><div class="ttdeci">static ChangeNotifyFN change_notify_fn</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00967">class.hpp:967</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a01c94417eb51449baf27890e9663c73c"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">dunedaq::oks::OksKernel::p_allow_duplicated_classes</a></div><div class="ttdeci">bool p_allow_duplicated_classes</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02021">kernel.hpp:2021</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a023ce21b0c591f53e79c65c1e48c4c6a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a023ce21b0c591f53e79c65c1e48c4c6a">dunedaq::oks::OksKernel::p_change_object_notify_fn</a></div><div class="ttdeci">OksObject::notify_obj p_change_object_notify_fn</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02159">kernel.hpp:2159</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a027d8e76d068dde3dd3c2195376c695a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">dunedaq::oks::OksKernel::p_active_schema</a></div><div class="ttdeci">OksFile * p_active_schema</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02051">kernel.hpp:2051</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a09102313f879350a437e7e56b2f351f4"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">dunedaq::oks::OksKernel::get_user_repository_root</a></div><div class="ttdeci">const std::string &amp; get_user_repository_root() const</div><div class="ttdoc">Get user OKS repository root.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00372">kernel.cpp:372</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a0ba3231bc9d5110cae9dab9790c2dc15"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">dunedaq::oks::OksKernel::p_silence</a></div><div class="ttdeci">bool p_silence</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02017">kernel.hpp:2017</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a1a10ad58ba9a09c7c324fb90cabc0e44"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">dunedaq::oks::OksKernel::p_allow_duplicated_objects</a></div><div class="ttdeci">bool p_allow_duplicated_objects</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02022">kernel.hpp:2022</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a240f6bd8b9dbea5b2263dae112ad53a1"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a240f6bd8b9dbea5b2263dae112ad53a1">dunedaq::oks::OksKernel::p_use_strict_repository_paths</a></div><div class="ttdeci">static bool p_use_strict_repository_paths</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02026">kernel.hpp:2026</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a29924bc55bc4d00959a7c4a439ef4579"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">dunedaq::oks::OksKernel::p_parallel_out_mutex</a></div><div class="ttdeci">static std::mutex p_parallel_out_mutex</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02044">kernel.hpp:2044</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a2c859e6a3ed6e14fa0e672b1d4b59886"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">dunedaq::oks::OksKernel::p_allow_repository</a></div><div class="ttdeci">bool p_allow_repository</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02020">kernel.hpp:2020</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a40b7aff6a5f31c8f41a148cef285b257"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a40b7aff6a5f31c8f41a148cef285b257">dunedaq::oks::OksKernel::set_user_repository_root</a></div><div class="ttdeci">void set_user_repository_root(const std::string &amp;path, const std::string &amp;version=&quot;&quot;)</div><div class="ttdoc">Set user OKS repository root.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00391">kernel.cpp:391</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a4b101fc322054d01ed6da39d5184dea3"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">dunedaq::oks::OksKernel::profiler</a></div><div class="ttdeci">OksProfiler * profiler</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02068">kernel.hpp:2068</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a518786ac5c732b761b246c1741abaa97"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a518786ac5c732b761b246c1741abaa97">dunedaq::oks::OksKernel::create_user_repository_dir</a></div><div class="ttdeci">std::string create_user_repository_dir()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02227">kernel.cpp:2227</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a5f14be93d583ebf6f6e8b07f46c5c2b5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a5f14be93d583ebf6f6e8b07f46c5c2b5">dunedaq::oks::OksKernel::p_delete_object_notify_fn</a></div><div class="ttdeci">OksObject::notify_obj p_delete_object_notify_fn</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02162">kernel.hpp:2162</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a6a86419a90e856eefd7a8e14af9ab95b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">dunedaq::oks::OksKernel::p_profiling</a></div><div class="ttdeci">bool p_profiling</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02019">kernel.hpp:2019</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a7f141393a48db689e86066a08b63c44e"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a7f141393a48db689e86066a08b63c44e">dunedaq::oks::OksKernel::p_delete_object_notify_param</a></div><div class="ttdeci">void * p_delete_object_notify_param</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02163">kernel.hpp:2163</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a84a1feb0f10e13050b8867c600eb24df"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">dunedaq::oks::OksKernel::p_threads_pool_size</a></div><div class="ttdeci">static int p_threads_pool_size</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02072">kernel.hpp:2072</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a86b77743fd9868405c0cee8910d02247"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">dunedaq::oks::OksKernel::p_user_repository_root_created</a></div><div class="ttdeci">bool p_user_repository_root_created</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02032">kernel.hpp:2032</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a8a38de67fc48d5c5c2169eda863252cc"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">dunedaq::oks::OksKernel::p_close_all</a></div><div class="ttdeci">bool p_close_all</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02054">kernel.hpp:2054</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a9c554b2122f46f49a5ab42ded403305b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a9c554b2122f46f49a5ab42ded403305b">dunedaq::oks::OksKernel::p_count</a></div><div class="ttdeci">static unsigned long p_count</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02066">kernel.hpp:2066</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aa3e6130b08566656a4ce61d54f4c5691"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aa3e6130b08566656a4ce61d54f4c5691">dunedaq::oks::OksKernel::read_repository_version</a></div><div class="ttdeci">std::string read_repository_version()</div><div class="ttdoc">Read and return current repository version.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05511">kernel.cpp:5511</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aa55a080d3b1484fcdb1fa1cbbe0c3ab8"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">dunedaq::oks::OksKernel::p_user_repository_root</a></div><div class="ttdeci">std::string p_user_repository_root</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02030">kernel.hpp:2030</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aa5f313975428a5db86a1f15e04affd2a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aa5f313975428a5db86a1f15e04affd2a">dunedaq::oks::OksKernel::p_skip_string_range</a></div><div class="ttdeci">static bool p_skip_string_range</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02025">kernel.hpp:2025</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aade265849b397edf161fc12715b1e979"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">dunedaq::oks::OksKernel::get_repository_root</a></div><div class="ttdeci">static const std::string &amp; get_repository_root()</div><div class="ttdoc">Get OKS repository root.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00306">kernel.cpp:306</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aae17b172d5ca4c96035a027ab1545bc8"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aae17b172d5ca4c96035a027ab1545bc8">dunedaq::oks::OksKernel::p_change_object_notify_param</a></div><div class="ttdeci">void * p_change_object_notify_param</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02160">kernel.hpp:2160</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ab11076c81a76f57ea6ddb25c70e66d42"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">dunedaq::oks::OksKernel::p_verbose</a></div><div class="ttdeci">bool p_verbose</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02018">kernel.hpp:2018</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_abc165ff51306648a03171cf173891437"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#abc165ff51306648a03171cf173891437">dunedaq::oks::OksKernel::get_cwd</a></div><div class="ttdeci">static const char * get_cwd()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00691">kernel.cpp:691</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ac18d066f601c9b45cb47bb4c2e1f3cc7"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">dunedaq::oks::OksKernel::p_kernel_mutex</a></div><div class="ttdeci">std::shared_mutex p_kernel_mutex</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02040">kernel.hpp:2040</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ac26b4bde2895fc3606c18f13908e3392"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">dunedaq::oks::OksKernel::p_test_duplicated_objects_via_inheritance</a></div><div class="ttdeci">bool p_test_duplicated_objects_via_inheritance</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02023">kernel.hpp:2023</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_acc68c1f8cefd257f4aff1167ba5e6389"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#acc68c1f8cefd257f4aff1167ba5e6389">dunedaq::oks::OksKernel::p_create_object_notify_fn</a></div><div class="ttdeci">OksObject::notify_obj p_create_object_notify_fn</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02156">kernel.hpp:2156</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ae85145f1522602d506b8d933519f9018"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">dunedaq::oks::OksKernel::p_active_data</a></div><div class="ttdeci">OksFile * p_active_data</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02052">kernel.hpp:2052</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aee096dfea896cd0310f6d99beae4ddca"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aee096dfea896cd0310f6d99beae4ddca">dunedaq::oks::OksKernel::insert_repository_dir</a></div><div class="ttdeci">std::string insert_repository_dir(const std::string &amp;dir, bool push_back=true)</div><div class="ttdoc">Insert repository search directory.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01400">kernel.cpp:1400</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_af1e13422a4423294503a4ec3c86d56e5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#af1e13422a4423294503a4ec3c86d56e5">dunedaq::oks::OksKernel::k_checkout_repository</a></div><div class="ttdeci">void k_checkout_repository(const std::string &amp;param, const std::string &amp;val, const std::string &amp;branch)</div><div class="ttdoc">Check out repository files into local user directory.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04882">kernel.cpp:4882</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_afc6da3fe96597d26b0e71ce80d6a4919"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#afc6da3fe96597d26b0e71ce80d6a4919">dunedaq::oks::OksKernel::p_create_object_notify_param</a></div><div class="ttdeci">void * p_create_object_notify_param</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02157">kernel.hpp:2157</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_afe8105e10baeb961ec7301c091bd8af1"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">dunedaq::oks::OksKernel::p_user_repository_root_inited</a></div><div class="ttdeci">bool p_user_repository_root_inited</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02031">kernel.hpp:2031</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1Oks_html_adef160fc77dbd7c72b55b52b6c976b21"><div class="ttname"><a href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">dunedaq::oks::Oks::error_msg</a></div><div class="ttdeci">static std::ostream &amp; error_msg(const char *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00558">kernel.cpp:558</a></div></div>
<div class="ttc" id="adefs_8hpp_html_a5f2b554f78031d16737451735ead2bc7"><div class="ttname"><a href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a></div><div class="ttdeci">#define OSK_VERBOSE_REPORT(MSG)</div><div class="ttdef"><b>Definition</b> <a href="defs_8hpp_source.html#l00088">defs.hpp:88</a></div></div>
<div class="ttc" id="alogging_2include_2logging_2Logging_8hpp_html_a8c6732348bcdf3758aac3d18eb3995b9"><div class="ttname"><a href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a></div><div class="ttdeci">#define TLOG_DEBUG(lvl,...)</div><div class="ttdef"><b>Definition</b> <a href="logging_2include_2logging_2Logging_8hpp_source.html#l00112">Logging.hpp:112</a></div></div>
<div class="ttc" id="anamespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink_html_af58eba15b0bef92ac8321f6b43359551"><div class="ttname"><a href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#af58eba15b0bef92ac8321f6b43359551">dbscan_ta_to_sink.dbscan_ta_to_sink.name</a></div><div class="ttdeci">name</div><div class="ttdef"><b>Definition</b> <a href="dbscan__ta__to__sink_8py_source.html#l00027">dbscan_ta_to_sink.py:27</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a0ee3894ff26b9cdb1f704f583c3e8af9"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">dunedaq::oks::strerror</a></div><div class="ttdeci">const std::string strerror(int error)</div><div class="ttdoc">Convert C error number to string.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00116">kernel.cpp:116</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a596d3acd145c1f45b34b1a4611870396"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a596d3acd145c1f45b34b1a4611870396">dunedaq::oks::s_git_folders</a></div><div class="ttdeci">static GitFoldersHolder s_git_folders</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00112">kernel.cpp:112</a></div></div>
<div class="ttc" id="anamespacedunedaq_html_ab00b75d7698751046d10e0f20b0e970e"><div class="ttname"><a href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dunedaq::set</a></div><div class="ttdeci">Monitoring thread not set</div><div class="ttdef"><b>Definition</b> <a href="OpMonManager_8hpp_source.html#l00029">OpMonManager.hpp:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42e34013c82d2be499dd75d6a74c6726" name="a42e34013c82d2be499dd75d6a74c6726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e34013c82d2be499dd75d6a74c6726">&#9670;&#160;</a></span>OksKernel() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dunedaq::oks::OksKernel::OksKernel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copy_repository</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy constructor. </p>
<p>It is used by RDB RW server to make fast copy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>- kernel to copy </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00921">921</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  921</span>                                                               :</div>
<div class="line"><span class="lineno">  922</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>                                   (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_silence),</div>
<div class="line"><span class="lineno">  923</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>                                   (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_verbose),</div>
<div class="line"><span class="lineno">  924</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a>                                 (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_profiling),</div>
<div class="line"><span class="lineno">  925</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a>                          (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_allow_repository),</div>
<div class="line"><span class="lineno">  926</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a>                  (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_allow_duplicated_classes),</div>
<div class="line"><span class="lineno">  927</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">p_allow_duplicated_objects</a>                  (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_allow_duplicated_objects),</div>
<div class="line"><span class="lineno">  928</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">p_test_duplicated_objects_via_inheritance</a>   (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_test_duplicated_objects_via_inheritance),</div>
<div class="line"><span class="lineno">  929</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>                      (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_user_repository_root),</div>
<div class="line"><span class="lineno">  930</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a>               (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_user_repository_root_inited),</div>
<div class="line"><span class="lineno">  931</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a>              (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  932</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a>                        (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_repository_version),</div>
<div class="line"><span class="lineno">  933</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3cdafe18537c1878dc705dc544556023">p_repository_checkout_ts</a>                    (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_repository_checkout_ts),</div>
<div class="line"><span class="lineno">  934</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a80f9d537ea0cdd55cf07d9e5f0f0836a">p_repository_update_ts</a>                      (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_repository_update_ts),</div>
<div class="line"><span class="lineno">  935</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>                             (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  936</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>                               (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  937</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">p_close_all</a>                                 (<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  938</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a>                                    (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  939</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#acc68c1f8cefd257f4aff1167ba5e6389">p_create_object_notify_fn</a>                   (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  940</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afc6da3fe96597d26b0e71ce80d6a4919">p_create_object_notify_param</a>                (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  941</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a023ce21b0c591f53e79c65c1e48c4c6a">p_change_object_notify_fn</a>                   (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  942</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aae17b172d5ca4c96035a027ab1545bc8">p_change_object_notify_param</a>                (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  943</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a5f14be93d583ebf6f6e8b07f46c5c2b5">p_delete_object_notify_fn</a>                   (<span class="keyword">nullptr</span>),</div>
<div class="line"><span class="lineno">  944</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7f141393a48db689e86066a08b63c44e">p_delete_object_notify_param</a>                (<span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  945</span>{</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>  {</div>
<div class="line"><span class="lineno">  948</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno">  949</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a9c554b2122f46f49a5ab42ded403305b">p_count</a>++;</div>
<div class="line"><span class="lineno">  950</span>  }</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">copy_repository</a> &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a>)</div>
<div class="line"><span class="lineno">  953</span>    {</div>
<div class="line"><span class="lineno">  954</span>      <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  955</span>        {</div>
<div class="line"><span class="lineno">  956</span>          <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a518786ac5c732b761b246c1741abaa97">OksKernel::create_user_repository_dir</a>();</div>
<div class="line"><span class="lineno">  957</span>          <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  958</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">Oks::real_path</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  959</span>          <a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a596d3acd145c1f45b34b1a4611870396">s_git_folders</a>.<a class="code hl_function" href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#ac90463bb2e40ce482e1ddbacb3afb3b7">insert</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno">  960</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a9368d2db76298a9acf4de3649cfea535">k_copy_repository</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_user_repository_root, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno">  961</span>        }</div>
<div class="line"><span class="lineno">  962</span>      <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>)</div>
<div class="line"><span class="lineno">  963</span>        {</div>
<div class="line"><span class="lineno">  964</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;cannot copy user repository: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  965</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7146e0dd4178a81f368372ee7f8f9760">remove_user_repository_dir</a>();</div>
<div class="line"><span class="lineno">  966</span>          <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  967</span>        }</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.push_back(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno">  970</span>    }</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>  <span class="comment">// copy repository directories</span></div>
<div class="line"><span class="lineno">  974</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>)</div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>  <span class="comment">// copy schema and data files</span></div>
<div class="line"><span class="lineno">  979</span>  {</div>
<div class="line"><span class="lineno">  980</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_files</a>[2] = { &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_schema_files, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_data_files };</div>
<div class="line"><span class="lineno">  981</span>    <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_files</a>[2] = { &amp;<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>, &amp;<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a> };</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt; 2; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)</div>
<div class="line"><span class="lineno">  984</span>      {</div>
<div class="line"><span class="lineno">  985</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_files</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>])</div>
<div class="line"><span class="lineno">  986</span>          {</div>
<div class="line"><span class="lineno">  987</span>            <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>.second);</div>
<div class="line"><span class="lineno">  988</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_kernel = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  989</span>            (*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_files</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>])[&amp;<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_full_name] = f;</div>
<div class="line"><span class="lineno">  990</span>          }</div>
<div class="line"><span class="lineno">  991</span>      }</div>
<div class="line"><span class="lineno">  992</span>  }</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>  <span class="comment">// search a class in map is not efficient, if there are many such operations; use array with class index for fast search</span></div>
<div class="line"><span class="lineno">  995</span>  <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> ** <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * [<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_classes.size()];</div>
<div class="line"><span class="lineno">  996</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>(0);</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>  <span class="comment">// copy classes: first iteration to define class names and simple properties</span></div>
<div class="line"><span class="lineno"> 1000</span>  <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>) {</div>
<div class="line"><span class="lineno"> 1001</span>    <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second);</div>
<div class="line"><span class="lineno"> 1002</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_description, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_abstract, <span class="keyword">nullptr</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_transient);   <span class="comment">// pass 0 kernel to avoid class insertion</span></div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_kernel = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno"> 1005</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>[<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().c_str()] = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>;</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>    <span class="keyword">const_cast&lt;</span><a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a>&amp;<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>).p_id = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>++;</div>
<div class="line"><span class="lineno"> 1008</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_id = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_id;</div>
<div class="line"><span class="lineno"> 1009</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_id] = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>;</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_abstract          = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_abstract;</div>
<div class="line"><span class="lineno"> 1012</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_to_be_deleted     = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_to_be_deleted;</div>
<div class="line"><span class="lineno"> 1013</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_instance_size     = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_instance_size;</div>
<div class="line"><span class="lineno"> 1014</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_file              = (*<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_file-&gt;p_full_name)).<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">second</a>;</div>
<div class="line"><span class="lineno"> 1015</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_objects           = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_objects ? <span class="keyword">new</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksObject.html#ac90f50584d1febdbee388a5712def8e5">OksObject::Map</a>() : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a>);</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>    <span class="comment">// copy super-classes</span></div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;std::string *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scls</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_super_classes)</div>
<div class="line"><span class="lineno"> 1020</span>      {</div>
<div class="line"><span class="lineno"> 1021</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_super_classes = <span class="keyword">new</span> std::list&lt;std::string *&gt;();</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scls</a>)</div>
<div class="line"><span class="lineno"> 1024</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_super_classes-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new</a> <a class="code hl_namespace" href="namespacestd.html">std</a>::string(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>));</div>
<div class="line"><span class="lineno"> 1025</span>      }</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span>    <span class="comment">// copy direct attributes</span></div>
<div class="line"><span class="lineno"> 1029</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksAttribute *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">attrs</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_attributes)</div>
<div class="line"><span class="lineno"> 1030</span>      {</div>
<div class="line"><span class="lineno"> 1031</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_attributes = <span class="keyword">new</span> std::list&lt;OksAttribute *&gt;();</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">attrs</a>)</div>
<div class="line"><span class="lineno"> 1034</span>          {</div>
<div class="line"><span class="lineno"> 1035</span>            OksAttribute * a = <span class="keyword">new</span> OksAttribute(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_name, c);</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>            a-&gt;p_range = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_range;</div>
<div class="line"><span class="lineno"> 1038</span>            a-&gt;p_data_type = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_data_type;</div>
<div class="line"><span class="lineno"> 1039</span>            a-&gt;p_multi_values = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_multi_values;</div>
<div class="line"><span class="lineno"> 1040</span>            a-&gt;p_no_null = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_no_null;</div>
<div class="line"><span class="lineno"> 1041</span>            a-&gt;p_init_value = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_init_value;</div>
<div class="line"><span class="lineno"> 1042</span>            a-&gt;p_init_data = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_init_data;</div>
<div class="line"><span class="lineno"> 1043</span>            a-&gt;p_format = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_format;</div>
<div class="line"><span class="lineno"> 1044</span>            a-&gt;p_description = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_description;</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_enumerators)</div>
<div class="line"><span class="lineno"> 1047</span>              a-&gt;p_enumerators = <span class="keyword">new</span> std::vector&lt;std::string&gt;(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_enumerators);</div>
<div class="line"><span class="lineno"> 1048</span> </div>
<div class="line"><span class="lineno"> 1049</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_attributes-&gt;push_back(a);</div>
<div class="line"><span class="lineno"> 1050</span>          }</div>
<div class="line"><span class="lineno"> 1051</span>      }</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>    <span class="comment">// copy direct relationships</span></div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksRelationship *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rels</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_relationships)</div>
<div class="line"><span class="lineno"> 1056</span>      {</div>
<div class="line"><span class="lineno"> 1057</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_relationships = <span class="keyword">new</span> std::list&lt;OksRelationship *&gt;();</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rels</a>)</div>
<div class="line"><span class="lineno"> 1060</span>          {</div>
<div class="line"><span class="lineno"> 1061</span>            OksRelationship * <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a> = <span class="keyword">new</span> OksRelationship(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_name, c);</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_rclass = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_rclass;</div>
<div class="line"><span class="lineno"> 1064</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_low_cc = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_low_cc;</div>
<div class="line"><span class="lineno"> 1065</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_high_cc = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_high_cc;</div>
<div class="line"><span class="lineno"> 1066</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_composite = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_composite;</div>
<div class="line"><span class="lineno"> 1067</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_exclusive = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_exclusive;</div>
<div class="line"><span class="lineno"> 1068</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_dependent = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_dependent;</div>
<div class="line"><span class="lineno"> 1069</span>            <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;p_description = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_description;</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_relationships-&gt;push_back(r);</div>
<div class="line"><span class="lineno"> 1072</span>          }</div>
<div class="line"><span class="lineno"> 1073</span>      }</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>    <span class="comment">// copy direct methods</span></div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksMethod *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mets</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_c</a>.p_methods)</div>
<div class="line"><span class="lineno"> 1078</span>      {</div>
<div class="line"><span class="lineno"> 1079</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_methods = <span class="keyword">new</span> std::list&lt;OksMethod *&gt;();</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mets</a>)</div>
<div class="line"><span class="lineno"> 1082</span>          {</div>
<div class="line"><span class="lineno"> 1083</span>            OksMethod * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#ab785dee5aa37b30c6d5ceb97ced51e41">m</a> = <span class="keyword">new</span> OksMethod(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_description, c);</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>            <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksMethodImplementation *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">impls</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_implementations)</div>
<div class="line"><span class="lineno"> 1086</span>              {</div>
<div class="line"><span class="lineno"> 1087</span>                <a class="code hl_variable" href="namespacehermes-make-dro-map.html#ab785dee5aa37b30c6d5ceb97ced51e41">m</a>-&gt;p_implementations = <span class="keyword">new</span> std::list&lt;OksMethodImplementation *&gt;();</div>
<div class="line"><span class="lineno"> 1088</span> </div>
<div class="line"><span class="lineno"> 1089</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">impls</a>)</div>
<div class="line"><span class="lineno"> 1090</span>                  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#ab785dee5aa37b30c6d5ceb97ced51e41">m</a>-&gt;p_implementations-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new</a> OksMethodImplementation(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;get_language(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;get_prototype(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;get_body(), <a class="code hl_variable" href="namespacehermes-make-dro-map.html#ab785dee5aa37b30c6d5ceb97ced51e41">m</a>));</div>
<div class="line"><span class="lineno"> 1091</span>              }</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_methods-&gt;push_back(m);</div>
<div class="line"><span class="lineno"> 1094</span>          }</div>
<div class="line"><span class="lineno"> 1095</span>      }</div>
<div class="line"><span class="lineno"> 1096</span>  }</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>    <span class="comment">// copy classes: second iteration to resolve pointers to classes</span></div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>)</div>
<div class="line"><span class="lineno"> 1102</span>    {</div>
<div class="line"><span class="lineno"> 1103</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_id];</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>      <span class="comment">// link p_class_type of relationship</span></div>
<div class="line"><span class="lineno"> 1106</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksRelationship *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rels</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_relationships)</div>
<div class="line"><span class="lineno"> 1107</span>        {</div>
<div class="line"><span class="lineno"> 1108</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rels</a>)</div>
<div class="line"><span class="lineno"> 1109</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;find_relationship(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;get_name())-&gt;p_class_type = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_class_type ? <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_class_type-&gt;p_id] : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a>);</div>
<div class="line"><span class="lineno"> 1110</span>        }</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>      <span class="comment">// copy all super- and sub- classes</span></div>
<div class="line"><span class="lineno"> 1113</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">spcls</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_all_super_classes)</div>
<div class="line"><span class="lineno"> 1114</span>        {</div>
<div class="line"><span class="lineno"> 1115</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_super_classes = <span class="keyword">new</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a>();</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">spcls</a>)</div>
<div class="line"><span class="lineno"> 1118</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_super_classes-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_id]);</div>
<div class="line"><span class="lineno"> 1119</span>        }</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sbcls</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_all_sub_classes)</div>
<div class="line"><span class="lineno"> 1122</span>        {</div>
<div class="line"><span class="lineno"> 1123</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes = <span class="keyword">new</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a>();</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sbcls</a>)</div>
<div class="line"><span class="lineno"> 1126</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_id]);</div>
<div class="line"><span class="lineno"> 1127</span>        }</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>      <span class="comment">// create oks object layout information</span></div>
<div class="line"><span class="lineno"> 1130</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_data_info = <span class="keyword">new</span> <a class="code hl_typedef" href="structdunedaq_1_1oks_1_1OksDataInfo.html#abf2421964b2b95a587d7e78825dcf08f">OksDataInfo::Map</a>();</div>
<div class="line"><span class="lineno"> 1131</span>      <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">instance_size</a> = 0;</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>      <span class="comment">// copy all attributes</span></div>
<div class="line"><span class="lineno"> 1134</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksAttribute *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">attrs</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_all_attributes)</div>
<div class="line"><span class="lineno"> 1135</span>        {</div>
<div class="line"><span class="lineno"> 1136</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_attributes = <span class="keyword">new</span> std::list&lt;OksAttribute *&gt;();</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">attrs</a>)</div>
<div class="line"><span class="lineno"> 1139</span>            {</div>
<div class="line"><span class="lineno"> 1140</span>              OksAttribute * a = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_class-&gt;p_id])-&gt;find_direct_attribute(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;get_name());</div>
<div class="line"><span class="lineno"> 1141</span>              <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_attributes-&gt;push_back(a);</div>
<div class="line"><span class="lineno"> 1142</span>              (*<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_data_info)[a-&gt;get_name()] = <span class="keyword">new</span> OksDataInfo(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">instance_size</a>++, a);</div>
<div class="line"><span class="lineno"> 1143</span>            }</div>
<div class="line"><span class="lineno"> 1144</span>        }</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>      <span class="comment">// copy all relationships</span></div>
<div class="line"><span class="lineno"> 1147</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksRelationship *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rels</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_all_relationships)</div>
<div class="line"><span class="lineno"> 1148</span>        {</div>
<div class="line"><span class="lineno"> 1149</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_relationships = <span class="keyword">new</span> std::list&lt;OksRelationship *&gt;();</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rels</a>)</div>
<div class="line"><span class="lineno"> 1152</span>            {</div>
<div class="line"><span class="lineno"> 1153</span>              OksRelationship * <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a> = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_class-&gt;p_id])-&gt;find_direct_relationship(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;get_name());</div>
<div class="line"><span class="lineno"> 1154</span>              <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_relationships-&gt;push_back(r);</div>
<div class="line"><span class="lineno"> 1155</span>              (*<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_data_info)[<a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;get_name()] = <span class="keyword">new</span> OksDataInfo(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">instance_size</a>++, r);</div>
<div class="line"><span class="lineno"> 1156</span>            }</div>
<div class="line"><span class="lineno"> 1157</span>        }</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>      <span class="comment">// copy all methods</span></div>
<div class="line"><span class="lineno"> 1160</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksMethod *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mets</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_all_methods)</div>
<div class="line"><span class="lineno"> 1161</span>        {</div>
<div class="line"><span class="lineno"> 1162</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_methods = <span class="keyword">new</span> std::list&lt;OksMethod *&gt;();</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mets</a>)</div>
<div class="line"><span class="lineno"> 1165</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_methods-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>((<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_class-&gt;p_id])-&gt;find_direct_method(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;get_name()));</div>
<div class="line"><span class="lineno"> 1166</span>        }</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>      <span class="comment">// copy inheritance hierarchy</span></div>
<div class="line"><span class="lineno"> 1169</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> std::vector&lt;OksClass *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ih</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_inheritance_hierarchy)</div>
<div class="line"><span class="lineno"> 1170</span>        {</div>
<div class="line"><span class="lineno"> 1171</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_inheritance_hierarchy = <span class="keyword">new</span> std::vector&lt;OksClass *&gt;();</div>
<div class="line"><span class="lineno"> 1172</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_inheritance_hierarchy-&gt;reserve(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ih</a>-&gt;size());</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ih</a>)</div>
<div class="line"><span class="lineno"> 1175</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_inheritance_hierarchy-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;p_id]);</div>
<div class="line"><span class="lineno"> 1176</span>        }</div>
<div class="line"><span class="lineno"> 1177</span>    }</div>
<div class="line"><span class="lineno"> 1178</span> </div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>    <span class="comment">// copy objects</span></div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_objects.empty()) {</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>      <span class="comment">// search an object in a class is not efficien, if there are many such operations</span></div>
<div class="line"><span class="lineno"> 1185</span>      <span class="comment">// use array with class index for fast search</span></div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> ** <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * [<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_objects.size()];</div>
<div class="line"><span class="lineno"> 1188</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a> = 0;</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>      <span class="comment">// first iteration: create objects with attributes</span></div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>    <span class="keywordflow">for</span>(OksObject::Set::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_objects.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.p_objects.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>) {</div>
<div class="line"><span class="lineno"> 1193</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 1194</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;p_user_data = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>);</div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;uid.class_id-&gt;p_id];</div>
<div class="line"><span class="lineno"> 1197</span> </div>
<div class="line"><span class="lineno"> 1198</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * o = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a>(</div>
<div class="line"><span class="lineno"> 1199</span>        c,</div>
<div class="line"><span class="lineno"> 1200</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;uid.object_id,</div>
<div class="line"><span class="lineno"> 1201</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;p_user_data,</div>
<div class="line"><span class="lineno"> 1202</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;p_int32_id,</div>
<div class="line"><span class="lineno"> 1203</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;p_duplicated_object_id_idx,</div>
<div class="line"><span class="lineno"> 1204</span>    (*<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;file-&gt;p_full_name)).second</div>
<div class="line"><span class="lineno"> 1205</span>      );</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>] = o;</div>
<div class="line"><span class="lineno"> 1208</span>      (*<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_objects)[&amp;o-&gt;uid.object_id] = o;</div>
<div class="line"><span class="lineno"> 1209</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.insert(o);</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>      <span class="keywordflow">if</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_attrs</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_attributes()) {</div>
<div class="line"><span class="lineno"> 1212</span>        <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;data;</div>
<div class="line"><span class="lineno"> 1213</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a> = o-&gt;data;</div>
<div class="line"><span class="lineno"> 1214</span> </div>
<div class="line"><span class="lineno"> 1215</span>    std::list&lt;OksAttribute *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ia_dst</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;all_attributes()-&gt;begin();</div>
<div class="line"><span class="lineno"> 1216</span>    std::list&lt;OksAttribute *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ia_src</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;uid.class_id-&gt;all_attributes()-&gt;begin();</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span>        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> &lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_attrs</a>; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 1219</span>          *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a> = *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>;</div>
<div class="line"><span class="lineno"> 1220</span> </div>
<div class="line"><span class="lineno"> 1221</span>      OksAttribute * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ia_dst</a>);</div>
<div class="line"><span class="lineno"> 1222</span>      </div>
<div class="line"><span class="lineno"> 1223</span>        <span class="comment">// process in a special way CLASS type (reference on class)</span></div>
<div class="line"><span class="lineno"> 1224</span>      </div>
<div class="line"><span class="lineno"> 1225</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>-&gt;get_data_type() == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284adf81e83a0968a3ead23955e22774a5b8">OksData::class_type</a>) {</div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>-&gt;get_is_multi_values() == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 1227</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.CLASS = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.CLASS-&gt;p_id];</div>
<div class="line"><span class="lineno"> 1228</span>        }</div>
<div class="line"><span class="lineno"> 1229</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1230</span>          OksData::List::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_dst</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.LIST-&gt;begin();</div>
<div class="line"><span class="lineno"> 1231</span>          OksData::List::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_src</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.LIST-&gt;begin();</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>          <span class="keywordflow">while</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_dst</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.LIST-&gt;end()) {</div>
<div class="line"><span class="lineno"> 1234</span>            (*li_dst)-&gt;data.CLASS = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[(*li_src)-&gt;data.CLASS-&gt;p_id];</div>
<div class="line"><span class="lineno"> 1235</span>            ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_dst</a>;</div>
<div class="line"><span class="lineno"> 1236</span>            ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_src</a>;</div>
<div class="line"><span class="lineno"> 1237</span>          }</div>
<div class="line"><span class="lineno"> 1238</span>        }</div>
<div class="line"><span class="lineno"> 1239</span>      }</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>        <span class="comment">// process in a special way ENUM type (reference on attribute&#39;s data)</span></div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>-&gt;get_data_type() == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a9d66e00cfa9f7c4097cffe3e012b4a64">OksData::enum_type</a>) {</div>
<div class="line"><span class="lineno"> 1244</span>        OksAttribute * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_src</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ia_src</a>);</div>
<div class="line"><span class="lineno"> 1245</span>        <span class="keyword">const</span> std::string * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p_enumerators_first</a>(&amp;((*(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_src</a>-&gt;p_enumerators))[0]));</div>
<div class="line"><span class="lineno"> 1246</span> </div>
<div class="line"><span class="lineno"> 1247</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>-&gt;get_is_multi_values() == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 1248</span>          <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> dx = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.ENUMERATION - <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p_enumerators_first</a>;</div>
<div class="line"><span class="lineno"> 1249</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.ENUMERATION = &amp;((*(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>-&gt;p_enumerators))[dx]);</div>
<div class="line"><span class="lineno"> 1250</span>        }</div>
<div class="line"><span class="lineno"> 1251</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1252</span>          OksData::List::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_dst</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.LIST-&gt;begin();</div>
<div class="line"><span class="lineno"> 1253</span>          OksData::List::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_src</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.LIST-&gt;begin();</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>          <span class="keywordflow">while</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_dst</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.LIST-&gt;end()) {</div>
<div class="line"><span class="lineno"> 1256</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> dx = (*li_src)-&gt;data.ENUMERATION - <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p_enumerators_first</a>;</div>
<div class="line"><span class="lineno"> 1257</span>            (*li_dst)-&gt;data.ENUMERATION = &amp;((*(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">a_dst</a>-&gt;p_enumerators))[dx]);</div>
<div class="line"><span class="lineno"> 1258</span>            ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_dst</a>;</div>
<div class="line"><span class="lineno"> 1259</span>            ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li_src</a>;</div>
<div class="line"><span class="lineno"> 1260</span>          }</div>
<div class="line"><span class="lineno"> 1261</span>        }</div>
<div class="line"><span class="lineno"> 1262</span>      }</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>++;</div>
<div class="line"><span class="lineno"> 1265</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>++;</div>
<div class="line"><span class="lineno"> 1266</span> </div>
<div class="line"><span class="lineno"> 1267</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ia_dst</a>++;</div>
<div class="line"><span class="lineno"> 1268</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ia_src</a>++;</div>
<div class="line"><span class="lineno"> 1269</span>        }</div>
<div class="line"><span class="lineno"> 1270</span>      }</div>
<div class="line"><span class="lineno"> 1271</span>    }</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>      <span class="comment">// second iteration: link relationships of objects</span></div>
<div class="line"><span class="lineno"> 1275</span> </div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a> : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src</a>.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>) {</div>
<div class="line"><span class="lineno"> 1277</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;uid.class_id-&gt;p_id];</div>
<div class="line"><span class="lineno"> 1278</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * o(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a>[<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;p_user_data)]);</div>
<div class="line"><span class="lineno"> 1279</span> </div>
<div class="line"><span class="lineno"> 1280</span>      <span class="keywordflow">if</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_rels</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_relationships()) {</div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;data + <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_attributes());</div>
<div class="line"><span class="lineno"> 1282</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>(o-&gt;data + <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_attributes());</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> &lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_rels</a>; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 1285</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;type = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;type;</div>
<div class="line"><span class="lineno"> 1286</span>          <span class="keywordflow">switch</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;type) {</div>
<div class="line"><span class="lineno"> 1287</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a1ddc949175081eade711b59356b159dc">OksData::list_type</a>:</div>
<div class="line"><span class="lineno"> 1288</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.LIST = <span class="keyword">new</span> <a class="code hl_typedef" href="structdunedaq_1_1oks_1_1OksData.html#a2edb0fc8072b26e788584fadf1ea81ea">OksData::List</a>();</div>
<div class="line"><span class="lineno"> 1289</span>              <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;<a class="code hl_variable" href="namespaceplot__trigprim__output__data.html#a36ddbfa7e38ab6d7667b717c8e86e669">data</a>.LIST) {</div>
<div class="line"><span class="lineno"> 1290</span>                <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> *<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a>();</div>
<div class="line"><span class="lineno"> 1291</span> </div>
<div class="line"><span class="lineno"> 1292</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">OksData::object_type</a>)</div>
<div class="line"><span class="lineno"> 1293</span>                  {</div>
<div class="line"><span class="lineno"> 1294</span>                    <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;data.OBJECT)</div>
<div class="line"><span class="lineno"> 1295</span>                      {</div>
<div class="line"><span class="lineno"> 1296</span>                        <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;Set(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a>[<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o2</a>-&gt;p_user_data)]);</div>
<div class="line"><span class="lineno"> 1297</span>                      }</div>
<div class="line"><span class="lineno"> 1298</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1299</span>                      {</div>
<div class="line"><span class="lineno"> 1300</span>                        <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;Set((<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *)<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1301</span>                      }</div>
<div class="line"><span class="lineno"> 1302</span>                  }</div>
<div class="line"><span class="lineno"> 1303</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284ad35ece3a3957146e194e2d4360d71e96">OksData::uid_type</a>)</div>
<div class="line"><span class="lineno"> 1304</span>                  {</div>
<div class="line"><span class="lineno"> 1305</span>                    <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;Set(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;data.UID.class_id-&gt;p_id], *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;data.UID.object_id);</div>
<div class="line"><span class="lineno"> 1306</span>                  }</div>
<div class="line"><span class="lineno"> 1307</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a6fca1f18d14d44ea92dfa412527889ca">OksData::uid2_type</a>)</div>
<div class="line"><span class="lineno"> 1308</span>                  {</div>
<div class="line"><span class="lineno"> 1309</span>                    <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;Set(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;data.UID2.class_id, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>-&gt;data.UID2.object_id);</div>
<div class="line"><span class="lineno"> 1310</span>                  }</div>
<div class="line"><span class="lineno"> 1311</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1312</span>                  {</div>
<div class="line"><span class="lineno"> 1313</span>                    <a class="code hl_function" href="namespaceers.html#aff4eee77205a91301c3c942ae1de25c6">ers::error</a>(kernel::InternalError(<a class="code hl_define" href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a>, <span class="stringliteral">&quot;unexpected data type in relationship list&quot;</span>));</div>
<div class="line"><span class="lineno"> 1314</span>                  }</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>                <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.LIST-&gt;push_back(d);</div>
<div class="line"><span class="lineno"> 1317</span>              }</div>
<div class="line"><span class="lineno"> 1318</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">OksData::object_type</a>:</div>
<div class="line"><span class="lineno"> 1321</span>          <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.OBJECT) {</div>
<div class="line"><span class="lineno"> 1322</span>                <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.OBJECT = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a>[<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o2</a>-&gt;p_user_data)];</div>
<div class="line"><span class="lineno"> 1323</span>          }</div>
<div class="line"><span class="lineno"> 1324</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1325</span>                <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.OBJECT = 0;</div>
<div class="line"><span class="lineno"> 1326</span>          }</div>
<div class="line"><span class="lineno"> 1327</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1328</span> </div>
<div class="line"><span class="lineno"> 1329</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284ad35ece3a3957146e194e2d4360d71e96">OksData::uid_type</a>:</div>
<div class="line"><span class="lineno"> 1330</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.UID.class_id  = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.UID.class_id-&gt;p_id];</div>
<div class="line"><span class="lineno"> 1331</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.UID.object_id = <span class="keyword">new</span> OksString(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.UID.object_id);</div>
<div class="line"><span class="lineno"> 1332</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a6fca1f18d14d44ea92dfa412527889ca">OksData::uid2_type</a>:</div>
<div class="line"><span class="lineno"> 1335</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.UID2.class_id  = <span class="keyword">new</span> OksString(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.UID2.class_id);</div>
<div class="line"><span class="lineno"> 1336</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>-&gt;data.UID2.object_id = <span class="keyword">new</span> OksString(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>-&gt;data.UID2.object_id);</div>
<div class="line"><span class="lineno"> 1337</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1340</span>              <a class="code hl_function" href="namespaceers.html#aff4eee77205a91301c3c942ae1de25c6">ers::error</a>(kernel::InternalError(<a class="code hl_define" href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a>, <span class="stringliteral">&quot;unexpected data type in relationship&quot;</span>));</div>
<div class="line"><span class="lineno"> 1341</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1342</span>          }</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_data</a>++;</div>
<div class="line"><span class="lineno"> 1345</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dst_data</a>++;</div>
<div class="line"><span class="lineno"> 1346</span>        }</div>
<div class="line"><span class="lineno"> 1347</span>      }</div>
<div class="line"><span class="lineno"> 1348</span> </div>
<div class="line"><span class="lineno"> 1349</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> std::list&lt;OksRCR *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_rcrs</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_o</a>-&gt;p_rcr)</div>
<div class="line"><span class="lineno"> 1350</span>        {</div>
<div class="line"><span class="lineno"> 1351</span>          o-&gt;p_rcr = <span class="keyword">new</span> std::list&lt;OksRCR *&gt;();</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">src_rcrs</a>)</div>
<div class="line"><span class="lineno"> 1354</span>            o-&gt;p_rcr-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(</div>
<div class="line"><span class="lineno"> 1355</span>                <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new</a> OksRCR(</div>
<div class="line"><span class="lineno"> 1356</span>                    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">reinterpret_cast</a>&lt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unsigned</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long</a>&gt;(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;<a class="code hl_variable" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>-&gt;p_user_data)],</div>
<div class="line"><span class="lineno"> 1357</span>                    (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;relationship-&gt;p_class-&gt;p_id])-&gt;find_direct_relationship(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;relationship-&gt;get_name())</div>
<div class="line"><span class="lineno"> 1358</span>                )</div>
<div class="line"><span class="lineno"> 1359</span>            );</div>
<div class="line"><span class="lineno"> 1360</span>        }</div>
<div class="line"><span class="lineno"> 1361</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1362</span>        {</div>
<div class="line"><span class="lineno"> 1363</span>          o-&gt;p_rcr = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1364</span>        }</div>
<div class="line"><span class="lineno"> 1365</span>    }</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keyword">delete</span> [] <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">o_table</a>;</div>
<div class="line"><span class="lineno"> 1368</span>  }</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>  <span class="keyword">delete</span> [] <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c_table</a>;</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>  <span class="comment">// rename all files</span></div>
<div class="line"><span class="lineno"> 1373</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">copy_repository</a> &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a>)</div>
<div class="line"><span class="lineno"> 1374</span>    {</div>
<div class="line"><span class="lineno"> 1375</span>      <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_map</a>[2] = { &amp;<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>, &amp;<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a> };</div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt; 2; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)</div>
<div class="line"><span class="lineno"> 1378</span>        {</div>
<div class="line"><span class="lineno"> 1379</span>          std::vector&lt;OksFile *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>;</div>
<div class="line"><span class="lineno"> 1380</span> </div>
<div class="line"><span class="lineno"> 1381</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; f : *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_map</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>])</div>
<div class="line"><span class="lineno"> 1382</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">second</a>);</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_map</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>]-&gt;clear();</div>
<div class="line"><span class="lineno"> 1385</span> </div>
<div class="line"><span class="lineno"> 1386</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; f : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>)</div>
<div class="line"><span class="lineno"> 1387</span>            {</div>
<div class="line"><span class="lineno"> 1388</span>              std::string <a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#af58eba15b0bef92ac8321f6b43359551">name</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>;</div>
<div class="line"><span class="lineno"> 1389</span>              <a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#af58eba15b0bef92ac8321f6b43359551">name</a>.push_back(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1390</span>              <a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#af58eba15b0bef92ac8321f6b43359551">name</a>.append(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;get_repository_name());</div>
<div class="line"><span class="lineno"> 1391</span>              <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;rename(name);</div>
<div class="line"><span class="lineno"> 1392</span>              (*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_map</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>])[&amp;<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_full_name] = f;</div>
<div class="line"><span class="lineno"> 1393</span>            }</div>
<div class="line"><span class="lineno"> 1394</span>        }</div>
<div class="line"><span class="lineno"> 1395</span>    }</div>
<div class="line"><span class="lineno"> 1396</span>}</div>
<div class="ttc" id="aLocalContext_8hpp_html_adea523c3dfceb9683f7acb5e719283ee"><div class="ttname"><a href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a></div><div class="ttdeci">#define ERS_HERE</div><div class="ttdef"><b>Definition</b> <a href="LocalContext_8hpp_source.html#l00130">LocalContext.hpp:130</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_a85b8ba52b8c48ca5b85c260d816369d8"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">dunedaq::oks::OksClass::FList</a></div><div class="ttdeci">std::list&lt; OksClass *, boost::fast_pool_allocator&lt; OksClass * &gt; &gt; FList</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00235">class.hpp:235</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a92fa9e7d1c2f15398df45f582ab401f4"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">dunedaq::oks::OksFile::Map</a></div><div class="ttdeci">std::map&lt; const std::string *, OksFile *, SortByName &gt; Map</div><div class="ttdef"><b>Definition</b> <a href="file_8hpp_source.html#l00367">file.hpp:367</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a0781385fa53ab9c1e66ee5850c35c0bc"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">dunedaq::oks::OksKernel::OksClass</a></div><div class="ttdeci">friend class OksClass</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00580">kernel.hpp:580</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a30fd2e07159fbe5ffc1ca3da0be67055"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">dunedaq::oks::OksKernel::p_repository_version</a></div><div class="ttdeci">std::string p_repository_version</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02033">kernel.hpp:2033</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a3cdafe18537c1878dc705dc544556023"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a3cdafe18537c1878dc705dc544556023">dunedaq::oks::OksKernel::p_repository_checkout_ts</a></div><div class="ttdeci">std::time_t p_repository_checkout_ts</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02034">kernel.hpp:2034</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a3dbcee3a353a3d24204b4765a194e1d5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">dunedaq::oks::OksKernel::p_classes</a></div><div class="ttdeci">OksClass::Map p_classes</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02064">kernel.hpp:2064</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a477034829bb0a6654ab8404175ae4604"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">dunedaq::oks::OksKernel::p_schema_files</a></div><div class="ttdeci">OksFile::Map p_schema_files</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02048">kernel.hpp:2048</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a5b74db997373812fa3a1390e0d2455a6"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">dunedaq::oks::OksKernel::OksData</a></div><div class="ttdeci">friend struct OksData</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00583">kernel.hpp:583</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a626691afecd914a9808e008690008103"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">dunedaq::oks::OksKernel::p_repository_dirs</a></div><div class="ttdeci">std::list&lt; std::string &gt; p_repository_dirs</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02059">kernel.hpp:2059</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a7146e0dd4178a81f368372ee7f8f9760"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a7146e0dd4178a81f368372ee7f8f9760">dunedaq::oks::OksKernel::remove_user_repository_dir</a></div><div class="ttdeci">void remove_user_repository_dir()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04943">kernel.cpp:4943</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a80f9d537ea0cdd55cf07d9e5f0f0836a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a80f9d537ea0cdd55cf07d9e5f0f0836a">dunedaq::oks::OksKernel::p_repository_update_ts</a></div><div class="ttdeci">std::time_t p_repository_update_ts</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02035">kernel.hpp:2035</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a9368d2db76298a9acf4de3649cfea535"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a9368d2db76298a9acf4de3649cfea535">dunedaq::oks::OksKernel::k_copy_repository</a></div><div class="ttdeci">void k_copy_repository(const std::string &amp;source, const std::string &amp;destination)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04961">kernel.cpp:4961</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a94f4edb000c1848aac74cfd4e1457a4d"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">dunedaq::oks::OksKernel::OksFile</a></div><div class="ttdeci">friend class OksFile</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00579">kernel.hpp:579</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ac7db7b536426fdcbeab21b6b6eb95d89"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">dunedaq::oks::OksKernel::OksObject</a></div><div class="ttdeci">friend class OksObject</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00581">kernel.hpp:581</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ad09d4dbcba0626d213b076634aafdde0"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">dunedaq::oks::OksKernel::p_objects</a></div><div class="ttdeci">OksObject::Set p_objects</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02070">kernel.hpp:2070</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_af63752813c588c05d1e1b6ce1797a9f5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">dunedaq::oks::OksKernel::p_data_files</a></div><div class="ttdeci">OksFile::Map p_data_files</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02049">kernel.hpp:2049</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksObject_html_ac90f50584d1febdbee388a5712def8e5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksObject.html#ac90f50584d1febdbee388a5712def8e5">dunedaq::oks::OksObject::Map</a></div><div class="ttdeci">std::unordered_map&lt; const std::string *, OksObject *, oks::hash_str, oks::equal_str &gt; Map</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00867">object.hpp:867</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1Oks_html_a74bcaacedd30d66bccc084f5b53179c5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">dunedaq::oks::Oks::real_path</a></div><div class="ttdeci">static bool real_path(std::string &amp;, bool ignore_errors)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00596">kernel.cpp:596</a></div></div>
<div class="ttc" id="anamespaceers_html_aff4eee77205a91301c3c942ae1de25c6"><div class="ttname"><a href="namespaceers.html#aff4eee77205a91301c3c942ae1de25c6">ers::error</a></div><div class="ttdeci">void error(const Issue &amp;issue)</div><div class="ttdef"><b>Definition</b> <a href="ers_8hpp_source.html#l00081">ers.hpp:81</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_ab785dee5aa37b30c6d5ceb97ced51e41"><div class="ttname"><a href="namespacehermes-make-dro-map.html#ab785dee5aa37b30c6d5ceb97ced51e41">hermes-make-dro-map.m</a></div><div class="ttdeci">m</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00011">hermes-make-dro-map.py:11</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_acb32826d255e8de88cf96b20bb270756"><div class="ttname"><a href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">hermes-make-dro-map.f</a></div><div class="ttdeci">f</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00065">hermes-make-dro-map.py:65</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_af9b52fbc05c1575ff304264a11855b22"><div class="ttname"><a href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">hermes-make-dro-map.c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00030">hermes-make-dro-map.py:30</a></div></div>
<div class="ttc" id="anamespacehermesbutler_html_aa4e5701a24fdf944e89003d09ebe3c68"><div class="ttname"><a href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">hermesbutler.obj</a></div><div class="ttdeci">obj</div><div class="ttdef"><b>Definition</b> <a href="hermesbutler_8py_source.html#l00670">hermesbutler.py:670</a></div></div>
<div class="ttc" id="anamespacehermesmodules_1_1rx__endpoints_html_acdd587ec2525eb9b4f2c8bb9ecdac545"><div class="ttname"><a href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">hermesmodules.rx_endpoints.d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition</b> <a href="rx__endpoints_8py_source.html#l00006">rx_endpoints.py:6</a></div></div>
<div class="ttc" id="anamespaceplot__trigprim__output__data_html_a36ddbfa7e38ab6d7667b717c8e86e669"><div class="ttname"><a href="namespaceplot__trigprim__output__data.html#a36ddbfa7e38ab6d7667b717c8e86e669">plot_trigprim_output_data.data</a></div><div class="ttdeci">data</div><div class="ttdef"><b>Definition</b> <a href="plot__trigprim__output__data_8py_source.html#l00010">plot_trigprim_output_data.py:10</a></div></div>
<div class="ttc" id="anamespacesend-recv-restcmd_html_a74a6b511f0c98ffb898a7276a3f2a64c"><div class="ttname"><a href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">send-recv-restcmd.r</a></div><div class="ttdeci">r</div><div class="ttdef"><b>Definition</b> <a href="send-recv-restcmd_8py_source.html#l00120">send-recv-restcmd.py:120</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> <a href="SchemaUtils_8hpp_source.html#l00140">SchemaUtils.hpp:140</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksDataInfo_html_abf2421964b2b95a587d7e78825dcf08f"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksDataInfo.html#abf2421964b2b95a587d7e78825dcf08f">dunedaq::oks::OksDataInfo::Map</a></div><div class="ttdeci">conffwk::map&lt; OksDataInfo * &gt; Map</div><div class="ttdoc">Declare map of pointers to OksDataInfo (unsorted by name)</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00348">object.hpp:348</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_a2edb0fc8072b26e788584fadf1ea81ea"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#a2edb0fc8072b26e788584fadf1ea81ea">dunedaq::oks::OksData::List</a></div><div class="ttdeci">std::list&lt; OksData *, boost::fast_pool_allocator&lt; OksData * &gt; &gt; List</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00457">object.hpp:457</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_acd182ed1bdd90b1e18d411914b9d2284a1ddc949175081eade711b59356b159dc"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a1ddc949175081eade711b59356b159dc">dunedaq::oks::OksData::list_type</a></div><div class="ttdeci">@ list_type</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00477">object.hpp:477</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">dunedaq::oks::OksData::object_type</a></div><div class="ttdeci">@ object_type</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00473">object.hpp:473</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_acd182ed1bdd90b1e18d411914b9d2284a6fca1f18d14d44ea92dfa412527889ca"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a6fca1f18d14d44ea92dfa412527889ca">dunedaq::oks::OksData::uid2_type</a></div><div class="ttdeci">@ uid2_type</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00479">object.hpp:479</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_acd182ed1bdd90b1e18d411914b9d2284a9d66e00cfa9f7c4097cffe3e012b4a64"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a9d66e00cfa9f7c4097cffe3e012b4a64">dunedaq::oks::OksData::enum_type</a></div><div class="ttdeci">@ enum_type</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00481">object.hpp:480</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_acd182ed1bdd90b1e18d411914b9d2284ad35ece3a3957146e194e2d4360d71e96"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284ad35ece3a3957146e194e2d4360d71e96">dunedaq::oks::OksData::uid_type</a></div><div class="ttdeci">@ uid_type</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00478">object.hpp:478</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1OksData_html_acd182ed1bdd90b1e18d411914b9d2284adf81e83a0968a3ead23955e22774a5b8"><div class="ttname"><a href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284adf81e83a0968a3ead23955e22774a5b8">dunedaq::oks::OksData::class_type</a></div><div class="ttdeci">@ class_type</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00472">object.hpp:472</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f7af3dc205ee400111b28a9e3e2236b" name="a6f7af3dc205ee400111b28a9e3e2236b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f7af3dc205ee400111b28a9e3e2236b">&#9670;&#160;</a></span>~OksKernel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dunedaq::oks::OksKernel::~OksKernel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01461">1461</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1462</span>{</div>
<div class="line"><span class="lineno"> 1463</span>  {</div>
<div class="line"><span class="lineno"> 1464</span>    <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5afef54adbf3bcd6bcff65600ce134dfe9">OksProfiler::KernelDestructor</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 1465</span>    <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ENTER</a> OksKernel::~OksKernel()&quot;)</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aa25475635c36479e1586b33237b7b629">close_all_data</a>();</div>
<div class="line"><span class="lineno"> 1468</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aea12ad7ec1242be19249d8a228d3a3b5">close_all_schema</a>();</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>    <a class="code hl_namespace" href="namespacestd.html">std</a>::<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unique_lock</a> lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 1471</span> </div>
<div class="line"><span class="lineno"> 1472</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.erase(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(), <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end());</div>
<div class="line"><span class="lineno"> 1473</span> </div>
<div class="line"><span class="lineno"> 1474</span>    --<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a9c554b2122f46f49a5ab42ded403305b">p_count</a>;</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">if</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a9c554b2122f46f49a5ab42ded403305b">p_count</a> == 0) {</div>
<div class="line"><span class="lineno"> 1477</span>      std::lock_guard <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scoped_lock</a>(<a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a2d71c7c9f08211f1170f4595b0845318">s_get_cwd_mutex</a>);</div>
<div class="line"><span class="lineno"> 1478</span>      <span class="keyword">delete</span> [] <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>;</div>
<div class="line"><span class="lineno"> 1479</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1480</span>    }</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7146e0dd4178a81f368372ee7f8f9760">remove_user_repository_dir</a>();</div>
<div class="line"><span class="lineno"> 1483</span>  }</div>
<div class="line"><span class="lineno"> 1484</span> </div>
<div class="line"><span class="lineno"> 1485</span><span class="preprocessor">#ifndef ERS_NO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1486</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a>) std::cout &lt;&lt; *<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1487</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1488</span> </div>
<div class="line"><span class="lineno"> 1489</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE OksKernel::~OksKernel()&quot;</span>)</div>
<div class="line"><span class="lineno"> 1490</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a1cef12849ae5c6dda13eb705c8006e65"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">dunedaq::oks::OksKernel::s_cwd</a></div><div class="ttdeci">static char * s_cwd</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02061">kernel.hpp:2061</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aa25475635c36479e1586b33237b7b629"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aa25475635c36479e1586b33237b7b629">dunedaq::oks::OksKernel::close_all_data</a></div><div class="ttdeci">void close_all_data()</div><div class="ttdoc">Close all OKS data files.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04245">kernel.cpp:4245</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aea12ad7ec1242be19249d8a228d3a3b5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aea12ad7ec1242be19249d8a228d3a3b5">dunedaq::oks::OksKernel::close_all_schema</a></div><div class="ttdeci">void close_all_schema()</div><div class="ttdoc">Close all OKS schema files.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02885">kernel.cpp:2885</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5afef54adbf3bcd6bcff65600ce134dfe9"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5afef54adbf3bcd6bcff65600ce134dfe9">dunedaq::oks::OksProfiler::KernelDestructor</a></div><div class="ttdeci">@ KernelDestructor</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00019">profiler.hpp:19</a></div></div>
<div class="ttc" id="adefs_8hpp_html_acee4373a49e0afcc5330d31d29983ca9"><div class="ttname"><a href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a></div><div class="ttdeci">#define OSK_PROFILING(FID, K)</div><div class="ttdef"><b>Definition</b> <a href="defs_8hpp_source.html#l00097">defs.hpp:97</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a2d71c7c9f08211f1170f4595b0845318"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a2d71c7c9f08211f1170f4595b0845318">dunedaq::oks::s_get_cwd_mutex</a></div><div class="ttdeci">static std::mutex s_get_cwd_mutex</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00054">kernel.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a43867cc68722cee1fc2d477db077309f" name="a43867cc68722cee1fc2d477db077309f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43867cc68722cee1fc2d477db077309f">&#9670;&#160;</a></span>add_data_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::add_data_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03769">3769</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3770</span>{</div>
<div class="line"><span class="lineno"> 3771</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>[&amp;<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_full_name] = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 3772</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4e44d178e13a22360d2341e5798d601" name="ad4e44d178e13a22360d2341e5798d601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e44d178e13a22360d2341e5798d601">&#9670;&#160;</a></span>add_schema_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::add_schema_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03775">3775</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3776</span>{</div>
<div class="line"><span class="lineno"> 3777</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>[&amp;<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_full_name] = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 3778</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a89d10df789dafc54d5c3557ee5c5cdf9" name="a89d10df789dafc54d5c3557ee5c5cdf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d10df789dafc54d5c3557ee5c5cdf9">&#9670;&#160;</a></span>backup_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::backup_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td>
          <td class="paramname"><em>suffix</em> = <code>&quot;.bak&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backup OKS data file. </p>
<p>The method makes a backup of given OKS data file. The save operation is silent and ignores any consistency rules. The file is always saved in extended format.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS data file descriptor </td></tr>
    <tr><td class="paramname">suffix</td><td>a suffix to be added to the name of file</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03810">3810</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3811</span>{</div>
<div class="line"><span class="lineno"> 3812</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3813</span> </div>
<div class="line"><span class="lineno"> 3814</span>  <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(</div>
<div class="line"><span class="lineno"> 3815</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_full_file_name() + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a>,</div>
<div class="line"><span class="lineno"> 3816</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_logical_name(),</div>
<div class="line"><span class="lineno"> 3817</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_type(),</div>
<div class="line"><span class="lineno"> 3818</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_oks_format(),</div>
<div class="line"><span class="lineno"> 3819</span>    <span class="keyword">this</span></div>
<div class="line"><span class="lineno"> 3820</span>  );</div>
<div class="line"><span class="lineno"> 3821</span> </div>
<div class="line"><span class="lineno"> 3822</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_created_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_created_by;</div>
<div class="line"><span class="lineno"> 3823</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_creation_time = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_creation_time;</div>
<div class="line"><span class="lineno"> 3824</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_created_on = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_created_on;</div>
<div class="line"><span class="lineno"> 3825</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_list_of_include_files = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_list_of_include_files;</div>
<div class="line"><span class="lineno"> 3826</span> </div>
<div class="line"><span class="lineno"> 3827</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 3828</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 3829</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Making backup of data file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&quot;...\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3830</span>  }</div>
<div class="line"><span class="lineno"> 3831</span> </div>
<div class="line"><span class="lineno"> 3832</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>;</div>
<div class="line"><span class="lineno"> 3833</span> </div>
<div class="line"><span class="lineno"> 3834</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3835</span> </div>
<div class="line"><span class="lineno"> 3836</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3837</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">k_save_data</a>(&amp;f, <span class="keyword">true</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 3838</span>  }</div>
<div class="line"><span class="lineno"> 3839</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 3840</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence</a>;</div>
<div class="line"><span class="lineno"> 3841</span>    <span class="keywordflow">throw</span> CanNotBackupFile(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 3842</span>  }</div>
<div class="line"><span class="lineno"> 3843</span> </div>
<div class="line"><span class="lineno"> 3844</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence</a>;</div>
<div class="line"><span class="lineno"> 3845</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_afebe1a2e2109e1715fe2a1b0048f9cbe"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">dunedaq::oks::OksKernel::k_save_data</a></div><div class="ttdeci">void k_save_data(OksFile *, bool=false, OksFile *=nullptr, const OksObject::FSet *=nullptr, bool force_defaults=false)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03851">kernel.cpp:3851</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a584320abeeea8e9f99f9fc759cb41aab" name="a584320abeeea8e9f99f9fc759cb41aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584320abeeea8e9f99f9fc759cb41aab">&#9670;&#160;</a></span>backup_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::backup_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td>
          <td class="paramname"><em>suffix</em> = <code>&quot;.bak&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backup OKS schema file. </p>
<p>The method makes a backup of given OKS schema file. The save operation is silent and ignores any consistency rules.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS data file descriptor </td></tr>
    <tr><td class="paramname">suffix</td><td>a suffix to be added to the name of file</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02556">2556</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2557</span>{</div>
<div class="line"><span class="lineno"> 2558</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2559</span> </div>
<div class="line"><span class="lineno"> 2560</span>  <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(</div>
<div class="line"><span class="lineno"> 2561</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_full_file_name() + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a>,</div>
<div class="line"><span class="lineno"> 2562</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_logical_name(),</div>
<div class="line"><span class="lineno"> 2563</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_type(),</div>
<div class="line"><span class="lineno"> 2564</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_oks_format(),</div>
<div class="line"><span class="lineno"> 2565</span>    <span class="keyword">this</span></div>
<div class="line"><span class="lineno"> 2566</span>  );</div>
<div class="line"><span class="lineno"> 2567</span> </div>
<div class="line"><span class="lineno"> 2568</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_created_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_created_by;</div>
<div class="line"><span class="lineno"> 2569</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_creation_time = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_creation_time;</div>
<div class="line"><span class="lineno"> 2570</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_created_on = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_created_on;</div>
<div class="line"><span class="lineno"> 2571</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_list_of_include_files = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_list_of_include_files;</div>
<div class="line"><span class="lineno"> 2572</span> </div>
<div class="line"><span class="lineno"> 2573</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 2574</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Making backup of schema file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&quot;...\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2575</span>  }</div>
<div class="line"><span class="lineno"> 2576</span> </div>
<div class="line"><span class="lineno"> 2577</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>;</div>
<div class="line"><span class="lineno"> 2578</span> </div>
<div class="line"><span class="lineno"> 2579</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2580</span> </div>
<div class="line"><span class="lineno"> 2581</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2582</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">k_save_schema</a>(&amp;f, <span class="keyword">true</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2583</span>  }</div>
<div class="line"><span class="lineno"> 2584</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2585</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence</a>;</div>
<div class="line"><span class="lineno"> 2586</span>    <span class="keywordflow">throw</span> CanNotBackupFile(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 2587</span>  }</div>
<div class="line"><span class="lineno"> 2588</span> </div>
<div class="line"><span class="lineno"> 2589</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">silence</a>;</div>
<div class="line"><span class="lineno"> 2590</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a0cc5384aa89802ff1d773b51f60de715"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">dunedaq::oks::OksKernel::k_save_schema</a></div><div class="ttdeci">void k_save_schema(OksFile *, bool force=false, OksFile *=0, const OksClass::Map *=0)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02595">kernel.cpp:2595</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad1cfec041c561f5dab31047b08d35b3" name="aad1cfec041c561f5dab31047b08d35b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1cfec041c561f5dab31047b08d35b3">&#9670;&#160;</a></span>bind_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::bind_objects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind oks objects. </p>
<p>The method sets links between oks objects converting whenever it is possible values of relationships from the UID types to the <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html" title="OksObject describes instance of OksClass.">OksObject</a> pointer. It is used after sequential loading of several data files with bind_objects parameter set to false.</p>
<p>The status of the last bind objects call can be checked using <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#ab923597e0e67ea5b962e76e39c3fd08a" title="Return status of oks objects binding.">get_bind_objects_status()</a> method.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04363">4363</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4364</span>{</div>
<div class="line"><span class="lineno"> 4365</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4366</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a988f782010d22e2a8977049627e9f1b7">k_bind_objects</a>();</div>
<div class="line"><span class="lineno"> 4367</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a988f782010d22e2a8977049627e9f1b7"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a988f782010d22e2a8977049627e9f1b7">dunedaq::oks::OksKernel::k_bind_objects</a></div><div class="ttdeci">void k_bind_objects()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04370">kernel.cpp:4370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f6528e28e06eaa1391894af1d5a94a1" name="a1f6528e28e06eaa1391894af1d5a94a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6528e28e06eaa1391894af1d5a94a1">&#9670;&#160;</a></span>check_read_only()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::check_read_only </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the OKS file is read-only. </p>
<p>Method returns true if the file is read-only and false if it is not. The method also changes the read-only flag in the file descriptor.</p>
<p>The method is thread-safe. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01534">1534</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1535</span>{</div>
<div class="line"><span class="lineno"> 1536</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a>;</div>
<div class="line"><span class="lineno"> 1537</span>  <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno"> 1538</span> </div>
<div class="line"><span class="lineno"> 1539</span>  std::call_once(flag, []()</div>
<div class="line"><span class="lineno"> 1540</span>    {</div>
<div class="line"><span class="lineno"> 1541</span>      std::ostringstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno"> 1542</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="charliteral">&#39;-&#39;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0f28238f393433527d5ddd9854707f11">get_user_name</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0e5cdb5dda227374e59d3943c16ffab4">get_host_name</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getpid</a>() &lt;&lt; std::ends;</div>
<div class="line"><span class="lineno"> 1543</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.str();</div>
<div class="line"><span class="lineno"> 1544</span>    }</div>
<div class="line"><span class="lineno"> 1545</span>  );</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>  std::string <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_full_name);</div>
<div class="line"><span class="lineno"> 1548</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">suffix</a>);</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>  {</div>
<div class="line"><span class="lineno"> 1551</span>    <span class="keyword">static</span> std::mutex <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p_check_read_only_mutex</a>;</div>
<div class="line"><span class="lineno"> 1552</span>    std::lock_guard <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scoped_lock</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p_check_read_only_mutex</a>);</div>
<div class="line"><span class="lineno"> 1553</span> </div>
<div class="line"><span class="lineno"> 1554</span>    {</div>
<div class="line"><span class="lineno"> 1555</span>      std::ofstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.c_str(), std::ios::out);</div>
<div class="line"><span class="lineno"> 1556</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_is_read_only = (!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.good());</div>
<div class="line"><span class="lineno"> 1557</span>    }</div>
<div class="line"><span class="lineno"> 1558</span> </div>
<div class="line"><span class="lineno"> 1559</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 3) &lt;&lt; <span class="stringliteral">&quot;read-only test on file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot;\&quot; returns &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_is_read_only ;</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_is_read_only) {</div>
<div class="line"><span class="lineno"> 1562</span>      unlink(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.c_str());</div>
<div class="line"><span class="lineno"> 1563</span>    }</div>
<div class="line"><span class="lineno"> 1564</span> </div>
<div class="line"><span class="lineno"> 1565</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_is_read_only;</div>
<div class="line"><span class="lineno"> 1566</span>  }</div>
<div class="line"><span class="lineno"> 1567</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a0e5cdb5dda227374e59d3943c16ffab4"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a0e5cdb5dda227374e59d3943c16ffab4">dunedaq::oks::OksKernel::get_host_name</a></div><div class="ttdeci">static std::string &amp; get_host_name()</div><div class="ttdoc">Get hostname of given process.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00431">kernel.cpp:431</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a0f28238f393433527d5ddd9854707f11"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a0f28238f393433527d5ddd9854707f11">dunedaq::oks::OksKernel::get_user_name</a></div><div class="ttdeci">static std::string &amp; get_user_name()</div><div class="ttdoc">Get username of given process.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00470">kernel.cpp:470</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_a54d1684ef5066c4ce8af8764d2d0682b"><div class="ttname"><a href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">hermes-make-dro-map.s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00030">hermes-make-dro-map.py:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7194b27de7f5d84b823c976c59e8b987" name="a7194b27de7f5d84b823c976c59e8b987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7194b27de7f5d84b823c976c59e8b987">&#9670;&#160;</a></span>classes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> &amp; dunedaq::oks::OksKernel::classes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get classes. </p>
<p>In multi-threaded environment to iterate through the set it could be necessary to acquire at least read oks kernel lock before calling the method to be sure that another thread does not modify the set of classes (i.e. destroy or create classes, open or close oks schema files).</p>
<dl class="section return"><dt>Returns</dt><dd>The method returns const reference on set of classes loaded in-memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01765">1765</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1765</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf17f0818840737a901622eec411f0b2" name="aaf17f0818840737a901622eec411f0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf17f0818840737a901622eec411f0b2">&#9670;&#160;</a></span>clear_preload_file_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::clear_preload_file_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03527">3527</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3528</span>{</div>
<div class="line"><span class="lineno"> 3529</span>  <span class="keywordflow">for</span>(std::map&lt;const OksFile *, OksFile *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3530</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 3531</span>  }</div>
<div class="line"><span class="lineno"> 3532</span> </div>
<div class="line"><span class="lineno"> 3533</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a>.clear();</div>
<div class="line"><span class="lineno"> 3534</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7ebf40f11e523f6310d4d7917e508f4b">p_preload_added_files</a>.clear();</div>
<div class="line"><span class="lineno"> 3535</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a7ebf40f11e523f6310d4d7917e508f4b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a7ebf40f11e523f6310d4d7917e508f4b">dunedaq::oks::OksKernel::p_preload_added_files</a></div><div class="ttdeci">std::vector&lt; OksFile * &gt; p_preload_added_files</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02080">kernel.hpp:2080</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_af678babfee87cc6ad1c42da687d14646"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">dunedaq::oks::OksKernel::p_preload_file_info</a></div><div class="ttdeci">std::map&lt; const OksFile *, OksFile * &gt; p_preload_file_info</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02079">kernel.hpp:2079</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa25475635c36479e1586b33237b7b629" name="aa25475635c36479e1586b33237b7b629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25475635c36479e1586b33237b7b629">&#9670;&#160;</a></span>close_all_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::close_all_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close all OKS data files. </p>
<p>The method closes all OKS data files which were created or loaded by the OKS kernel.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04245">4245</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4246</span>{</div>
<div class="line"><span class="lineno"> 4247</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter&quot;</span>;</div>
<div class="line"><span class="lineno"> 4248</span> </div>
<div class="line"><span class="lineno"> 4249</span>  {</div>
<div class="line"><span class="lineno"> 4250</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4251</span> </div>
<div class="line"><span class="lineno"> 4252</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">p_close_all</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4253</span> </div>
<div class="line"><span class="lineno"> 4254</span>    <span class="keywordflow">while</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.empty()) {</div>
<div class="line"><span class="lineno"> 4255</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a88e8018731602cac5c5a7f0fa560e6">k_close_data</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.begin()-&gt;second, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4256</span>    }</div>
<div class="line"><span class="lineno"> 4257</span> </div>
<div class="line"><span class="lineno"> 4258</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.empty()) {</div>
<div class="line"><span class="lineno"> 4259</span>      <span class="keywordflow">for</span>(OksObject::Set::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4260</span>        <span class="keyword">delete</span> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>;</div>
<div class="line"><span class="lineno"> 4261</span>      }</div>
<div class="line"><span class="lineno"> 4262</span> </div>
<div class="line"><span class="lineno"> 4263</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.clear();</div>
<div class="line"><span class="lineno"> 4264</span> </div>
<div class="line"><span class="lineno"> 4265</span>      <span class="keywordflow">for</span>(OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4266</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_objects) {</div>
<div class="line"><span class="lineno"> 4267</span>          <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_objects;</div>
<div class="line"><span class="lineno"> 4268</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_objects = 0;</div>
<div class="line"><span class="lineno"> 4269</span>        }</div>
<div class="line"><span class="lineno"> 4270</span>      }</div>
<div class="line"><span class="lineno"> 4271</span>    }</div>
<div class="line"><span class="lineno"> 4272</span> </div>
<div class="line"><span class="lineno"> 4273</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">p_close_all</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4274</span>  }</div>
<div class="line"><span class="lineno"> 4275</span> </div>
<div class="line"><span class="lineno"> 4276</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;exit&quot;</span>;</div>
<div class="line"><span class="lineno"> 4277</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a6a88e8018731602cac5c5a7f0fa560e6"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a6a88e8018731602cac5c5a7f0fa560e6">dunedaq::oks::OksKernel::k_close_data</a></div><div class="ttdeci">void k_close_data(OksFile *, bool)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04194">kernel.cpp:4194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea12ad7ec1242be19249d8a228d3a3b5" name="aea12ad7ec1242be19249d8a228d3a3b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea12ad7ec1242be19249d8a228d3a3b5">&#9670;&#160;</a></span>close_all_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::close_all_schema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close all OKS schema files. </p>
<p>The method closes all OKS schema files which were created or loaded by the OKS kernel.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02885">2885</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2886</span>{</div>
<div class="line"><span class="lineno"> 2887</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter&quot;</span>;</div>
<div class="line"><span class="lineno"> 2888</span> </div>
<div class="line"><span class="lineno"> 2889</span>  {</div>
<div class="line"><span class="lineno"> 2890</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2891</span> </div>
<div class="line"><span class="lineno"> 2892</span>    <span class="keywordflow">for</span>(OksClass::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2893</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_to_be_deleted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2894</span>    }</div>
<div class="line"><span class="lineno"> 2895</span> </div>
<div class="line"><span class="lineno"> 2896</span>    <span class="keywordflow">while</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2897</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40536a3c74de02d4c253b48de3930770">k_close_schema</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.begin()-&gt;second);</div>
<div class="line"><span class="lineno"> 2898</span>    }</div>
<div class="line"><span class="lineno"> 2899</span>  }</div>
<div class="line"><span class="lineno"> 2900</span> </div>
<div class="line"><span class="lineno"> 2901</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;exit&quot;</span>;</div>
<div class="line"><span class="lineno"> 2902</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a40536a3c74de02d4c253b48de3930770"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a40536a3c74de02d4c253b48de3930770">dunedaq::oks::OksKernel::k_close_schema</a></div><div class="ttdeci">void k_close_schema(OksFile *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02831">kernel.cpp:2831</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4d9e9eaf1cd9822c84ea968be6325a6" name="ab4d9e9eaf1cd9822c84ea968be6325a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d9e9eaf1cd9822c84ea968be6325a6">&#9670;&#160;</a></span>close_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::close_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unbind_objects</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close OKS data file. </p>
<p>The method closes given OKS data file. All objects belonging to this data file will be destroyed in-memory. The relationships values of objects from others data files loaded in-memory will be converted from <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html" title="OksObject describes instance of OksClass.">OksObject</a> pointer to UID for all objects of closing data file, if the unbind_objects parameter is true. If it is necessary to close all loaded data files, it is recommended to use <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aa25475635c36479e1586b33237b7b629" title="Close all OKS data files.">close_all_data()</a> method and do not use close_data(..., true) method sequentially by performance reasons.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS schema file descriptor returned by a kernel method </td></tr>
    <tr><td class="paramname">unbind_objects</td><td>convert values of relationships pointing to objects of closing data file from <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html" title="OksObject describes instance of OksClass.">OksObject</a> pointer to the UID </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04185">4185</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4186</span>{</div>
<div class="line"><span class="lineno"> 4187</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4188</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a88e8018731602cac5c5a7f0fa560e6">k_close_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unbind</a>);</div>
<div class="line"><span class="lineno"> 4189</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8d21e3f060508d8a90fc8364b0dc5c2" name="ad8d21e3f060508d8a90fc8364b0dc5c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d21e3f060508d8a90fc8364b0dc5c2">&#9670;&#160;</a></span>close_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::close_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close OKS schema file. </p>
<p>The method closes given OKS schema file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS schema file descriptor returned by a kernel method </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02822">2822</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2823</span>{</div>
<div class="line"><span class="lineno"> 2824</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2825</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40536a3c74de02d4c253b48de3930770">k_close_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2826</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae25038101cb4635c965696c9c43d6a3" name="aae25038101cb4635c965696c9c43d6a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae25038101cb4635c965696c9c43d6a3">&#9670;&#160;</a></span>commit_repository()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::commit_repository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>comments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>credentials</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit user modifications into repository. </p>
<p>The method commits changes made in user repository into origin GIT repository.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comments</td><td>user comments </td></tr>
    <tr><td class="paramname">credentials</td><td>daq token to get real user name (ignore, if empty)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05059">5059</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5060</span>{</div>
<div class="line"><span class="lineno"> 5061</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 5062</span> </div>
<div class="line"><span class="lineno"> 5063</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">OksKernel::get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5064</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;the repository-root is not set (check environment variable TDAQ_DB_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5065</span> </div>
<div class="line"><span class="lineno"> 5066</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5067</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;the user-repository-root is not set (check environment variable TDAQ_DB_USER_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5068</span> </div>
<div class="line"><span class="lineno"> 5069</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-commit.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5070</span> </div>
<div class="line"><span class="lineno"> 5071</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>())</div>
<div class="line"><span class="lineno"> 5072</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -v&quot;</span>);</div>
<div class="line"><span class="lineno"> 5073</span> </div>
<div class="line"><span class="lineno"> 5074</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5075</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5076</span> </div>
<div class="line"><span class="lineno"> 5077</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">comments</a>.empty() || std::all_of(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">comments</a>.begin(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">comments</a>.end(), [](<span class="keywordtype">char</span> c) { return std::isspace(c); }))</div>
<div class="line"><span class="lineno"> 5078</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;the commit message may not be empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 5079</span> </div>
<div class="line"><span class="lineno"> 5080</span>  <span class="keyword">const</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">log_file_name</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">get_temporary_dir</a>() + <span class="charliteral">&#39;/&#39;</span> + <span class="stringliteral">&quot;oks-commit-msg.&quot;</span> + std::to_string(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getpid</a>()) + <span class="charliteral">&#39;:&#39;</span> +  std::to_string(<span class="keyword">reinterpret_cast&lt;</span>std::uintptr_t<span class="keyword">&gt;</span>(<span class="keyword">this</span>)) + <span class="stringliteral">&quot;.txt&quot;</span>);</div>
<div class="line"><span class="lineno"> 5081</span> </div>
<div class="line"><span class="lineno"> 5082</span>  <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno"> 5083</span>    {</div>
<div class="line"><span class="lineno"> 5084</span>      std::ofstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">log_file_name</a>);</div>
<div class="line"><span class="lineno"> 5085</span> </div>
<div class="line"><span class="lineno"> 5086</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.exceptions(std::ostream::failbit | std::ostream::badbit);</div>
<div class="line"><span class="lineno"> 5087</span> </div>
<div class="line"><span class="lineno"> 5088</span>      <span class="keywordflow">if</span> (!f)</div>
<div class="line"><span class="lineno"> 5089</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;create message file failed&quot;</span>);</div>
<div class="line"><span class="lineno"> 5090</span> </div>
<div class="line"><span class="lineno"> 5091</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">comments</a>;</div>
<div class="line"><span class="lineno"> 5092</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.close();</div>
<div class="line"><span class="lineno"> 5093</span>    }</div>
<div class="line"><span class="lineno"> 5094</span>  <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>)</div>
<div class="line"><span class="lineno"> 5095</span>    {</div>
<div class="line"><span class="lineno"> 5096</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ss</a>;</div>
<div class="line"><span class="lineno"> 5097</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ss</a> &lt;&lt; <span class="stringliteral">&quot;cannot write to file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">log_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; to save commit message: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what();</div>
<div class="line"><span class="lineno"> 5098</span>      <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;commit&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ss</a>.str());</div>
<div class="line"><span class="lineno"> 5099</span>    }</div>
<div class="line"><span class="lineno"> 5100</span> </div>
<div class="line"><span class="lineno"> 5101</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -f \&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 5102</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">log_file_name</a>);</div>
<div class="line"><span class="lineno"> 5103</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39;\&#39;&#39;</span>);</div>
<div class="line"><span class="lineno"> 5104</span> </div>
<div class="line"><span class="lineno"> 5105</span>  <span class="comment">// if (!credentials.empty())</span></div>
<div class="line"><span class="lineno"> 5106</span>  <span class="comment">//   {</span></div>
<div class="line"><span class="lineno"> 5107</span>  <span class="comment">//     try</span></div>
<div class="line"><span class="lineno"> 5108</span>  <span class="comment">//       {</span></div>
<div class="line"><span class="lineno"> 5109</span>  <span class="comment">//         auto token = daq::tokens::verify(credentials);</span></div>
<div class="line"><span class="lineno"> 5110</span> </div>
<div class="line"><span class="lineno"> 5111</span>  <span class="comment">//         const std::string author = token.get_subject();</span></div>
<div class="line"><span class="lineno"> 5112</span> </div>
<div class="line"><span class="lineno"> 5113</span>  <span class="comment">//         std::string email;</span></div>
<div class="line"><span class="lineno"> 5114</span> </div>
<div class="line"><span class="lineno"> 5115</span>  <span class="comment">//         if (token.has_payload_claim(&quot;email&quot;))</span></div>
<div class="line"><span class="lineno"> 5116</span>  <span class="comment">//           email = token.get_payload_claim(&quot;email&quot;).as_string();</span></div>
<div class="line"><span class="lineno"> 5117</span> </div>
<div class="line"><span class="lineno"> 5118</span>  <span class="comment">//         if (email.empty())</span></div>
<div class="line"><span class="lineno"> 5119</span>  <span class="comment">//           email = author + &#39;@&#39; + get_domain_name();</span></div>
<div class="line"><span class="lineno"> 5120</span> </div>
<div class="line"><span class="lineno"> 5121</span>  <span class="comment">//         OksSystem::User user(author);</span></div>
<div class="line"><span class="lineno"> 5122</span> </div>
<div class="line"><span class="lineno"> 5123</span>  <span class="comment">//         cmd.append(&quot; -n \&#39;&quot;);</span></div>
<div class="line"><span class="lineno"> 5124</span>  <span class="comment">//         cmd.append(user.real_name());</span></div>
<div class="line"><span class="lineno"> 5125</span>  <span class="comment">//         cmd.append(&quot;\&#39; -e \&#39;&quot;);</span></div>
<div class="line"><span class="lineno"> 5126</span>  <span class="comment">//         cmd.append(email);</span></div>
<div class="line"><span class="lineno"> 5127</span>  <span class="comment">//         cmd.push_back(&#39;\&#39;&#39;);</span></div>
<div class="line"><span class="lineno"> 5128</span> </div>
<div class="line"><span class="lineno"> 5129</span>  <span class="comment">//         static std::once_flag flag;</span></div>
<div class="line"><span class="lineno"> 5130</span> </div>
<div class="line"><span class="lineno"> 5131</span>  <span class="comment">//         std::call_once(flag, []()</span></div>
<div class="line"><span class="lineno"> 5132</span>  <span class="comment">//           {</span></div>
<div class="line"><span class="lineno"> 5133</span>  <span class="comment">//             const char * opt = &quot; -o SendEnv=OKS_COMMIT_USER&quot;;</span></div>
<div class="line"><span class="lineno"> 5134</span> </div>
<div class="line"><span class="lineno"> 5135</span>  <span class="comment">//             std::string val;</span></div>
<div class="line"><span class="lineno"> 5136</span> </div>
<div class="line"><span class="lineno"> 5137</span>  <span class="comment">//             if (const char * s = getenv(&quot;GIT_SSH_COMMAND&quot;))</span></div>
<div class="line"><span class="lineno"> 5138</span>  <span class="comment">//               {</span></div>
<div class="line"><span class="lineno"> 5139</span>  <span class="comment">//                 if (strstr(s, opt) == nullptr)</span></div>
<div class="line"><span class="lineno"> 5140</span>  <span class="comment">//                   val = s;</span></div>
<div class="line"><span class="lineno"> 5141</span>  <span class="comment">//               }</span></div>
<div class="line"><span class="lineno"> 5142</span>  <span class="comment">//             else</span></div>
<div class="line"><span class="lineno"> 5143</span>  <span class="comment">//               {</span></div>
<div class="line"><span class="lineno"> 5144</span>  <span class="comment">//                 val = &quot;ssh&quot;;</span></div>
<div class="line"><span class="lineno"> 5145</span>  <span class="comment">//               }</span></div>
<div class="line"><span class="lineno"> 5146</span> </div>
<div class="line"><span class="lineno"> 5147</span>  <span class="comment">//             if (!val.empty())</span></div>
<div class="line"><span class="lineno"> 5148</span>  <span class="comment">//               {</span></div>
<div class="line"><span class="lineno"> 5149</span>  <span class="comment">//                 val.append(opt);</span></div>
<div class="line"><span class="lineno"> 5150</span>  <span class="comment">//                 setenv(&quot;GIT_SSH_COMMAND&quot;, val.c_str(), 1);</span></div>
<div class="line"><span class="lineno"> 5151</span>  <span class="comment">//               }</span></div>
<div class="line"><span class="lineno"> 5152</span>  <span class="comment">//           }</span></div>
<div class="line"><span class="lineno"> 5153</span>  <span class="comment">//         );</span></div>
<div class="line"><span class="lineno"> 5154</span> </div>
<div class="line"><span class="lineno"> 5155</span>  <span class="comment">//         setenv(&quot;OKS_COMMIT_USER&quot;, credentials.c_str(), 1);</span></div>
<div class="line"><span class="lineno"> 5156</span>  <span class="comment">//       }</span></div>
<div class="line"><span class="lineno"> 5157</span>  <span class="comment">//     catch(const ers::Issue&amp; ex)</span></div>
<div class="line"><span class="lineno"> 5158</span>  <span class="comment">//       {</span></div>
<div class="line"><span class="lineno"> 5159</span>  <span class="comment">//         std::ostringstream text;</span></div>
<div class="line"><span class="lineno"> 5160</span>  <span class="comment">//         text &lt;&lt; &#39;\t&#39; &lt;&lt; ex;</span></div>
<div class="line"><span class="lineno"> 5161</span>  <span class="comment">//         throw RepositoryOperationFailed(&quot;commit&quot;, text.str());</span></div>
<div class="line"><span class="lineno"> 5162</span>  <span class="comment">//       }</span></div>
<div class="line"><span class="lineno"> 5163</span>  <span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 5164</span> </div>
<div class="line"><span class="lineno"> 5165</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a> = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 5166</span> </div>
<div class="line"><span class="lineno"> 5167</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 5168</span>    {</div>
<div class="line"><span class="lineno"> 5169</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5170</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS commit] =&gt; &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5171</span>    }</div>
<div class="line"><span class="lineno"> 5172</span> </div>
<div class="line"><span class="lineno"> 5173</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-commit&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5174</span> </div>
<div class="line"><span class="lineno"> 5175</span>  <span class="keywordtype">int</span> <a class="code hl_function" href="namespacetiming_1_1cli_1_1design.html#a27a30e73c11e1261bbf2dccfe73054fb">status</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str());</div>
<div class="line"><span class="lineno"> 5176</span> </div>
<div class="line"><span class="lineno"> 5177</span>  unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">log_file_name</a>.c_str());</div>
<div class="line"><span class="lineno"> 5178</span> </div>
<div class="line"><span class="lineno"> 5179</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">credentials</a>.empty())</div>
<div class="line"><span class="lineno"> 5180</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unsetenv</a>(<span class="stringliteral">&quot;OKS_COMMIT_USER&quot;</span>);</div>
<div class="line"><span class="lineno"> 5181</span> </div>
<div class="line"><span class="lineno"> 5182</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(status);</div>
<div class="line"><span class="lineno"> 5183</span> </div>
<div class="line"><span class="lineno"> 5184</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a80f9d537ea0cdd55cf07d9e5f0f0836a">p_repository_update_ts</a> = std::time(0);</div>
<div class="line"><span class="lineno"> 5185</span> </div>
<div class="line"><span class="lineno"> 5186</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 5187</span>    {</div>
<div class="line"><span class="lineno"> 5188</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5189</span>      std::cout &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5190</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS commit] =&gt; done in &quot;</span> &lt;&lt; std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(std::chrono::steady_clock::now()-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a>).count() / 1000. &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5191</span>   }</div>
<div class="line"><span class="lineno"> 5192</span> </div>
<div class="line"><span class="lineno"> 5193</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>(<span class="stringliteral">&quot;commit oks version &quot;</span>);</div>
<div class="line"><span class="lineno"> 5194</span>  std::string <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.last_str();</div>
<div class="line"><span class="lineno"> 5195</span>  std::string::size_type pos = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>);</div>
<div class="line"><span class="lineno"> 5196</span> </div>
<div class="line"><span class="lineno"> 5197</span>  <span class="keywordflow">if</span>(pos == 0)</div>
<div class="line"><span class="lineno"> 5198</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a> = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>.size());</div>
<div class="line"><span class="lineno"> 5199</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5200</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;cannot read oks version&quot;</span>);</div>
<div class="line"><span class="lineno"> 5201</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a4bb4a70a6dec8d2fc7d61c506d79f4c3"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">dunedaq::oks::OksKernel::get_verbose_mode</a></div><div class="ttdeci">bool get_verbose_mode() const</div><div class="ttdoc">Get status of verbose mode. The method returns true, if the verbose mode is switched 'On'.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00663">kernel.hpp:663</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a3971596978f15a9c6466adbf9edb7653"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">dunedaq::oks::log_timestamp</a></div><div class="ttdeci">std::ostream &amp; log_timestamp(__LogSeverity__ severity=Log)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05724">kernel.cpp:5724</a></div></div>
<div class="ttc" id="anamespacedunedaq_html_a2936855bbd7a7bb39c961235a438462c"><div class="ttname"><a href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">dunedaq::empty</a></div><div class="ttdeci">SourceID[&quot; &lt;&lt; sourceid &lt;&lt; &quot;] Command daqdataformats::SourceID Readout Initialization std::string initerror Configuration std::string conferror Configuration std::string conferror Couldn t open binary std::string filename Couldn t read properly the binary daqdataformats::SourceID std::string errorstr SourceID[&quot; &lt;&lt; sourceid &lt;&lt; &quot;] Postprocessing has too much daqdataformats::SourceID SourceID[&quot; &lt;&lt; sourceid &lt;&lt; &quot;] Source Buffer is empty</div><div class="ttdef"><b>Definition</b> <a href="DataHandlingIssues_8hpp_source.html#l00083">DataHandlingIssues.hpp:83</a></div></div>
<div class="ttc" id="anamespacedunedaq_html_a32b26ec6a54e0c0849936cd5e14d9308"><div class="ttname"><a href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">dunedaq::cmd</a></div><div class="ttdeci">DAQModule std::string name Command registration std::string cmd((std::string) name)</div></div>
<div class="ttc" id="anamespacetiming_1_1cli_1_1design_html_a27a30e73c11e1261bbf2dccfe73054fb"><div class="ttname"><a href="namespacetiming_1_1cli_1_1design.html#a27a30e73c11e1261bbf2dccfe73054fb">timing.cli.design.status</a></div><div class="ttdeci">status(obj)</div><div class="ttdef"><b>Definition</b> <a href="design_8py_source.html#l00091">design.py:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a48a1bc9db45348f214c1411b1e0b560d" name="a48a1bc9db45348f214c1411b1e0b560d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a1bc9db45348f214c1411b1e0b560d">&#9670;&#160;</a></span>create_file_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::create_file_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>short_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates OKS file descriptor. </p>
<p>Method returns pointer to the OKS file descriptor defined by the file_name parameter or 0 if such file does not exist. The user is responsible to destroy the descriptor after usage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">short_file_name</td><td>short name of the file (e.g. relative to OKS root) </td></tr>
    <tr><td class="paramname">file_name</td><td>an absolute file name</td></tr>
  </table>
  </dd>
</dl>
<p>The method is thread-safe. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01570">1570</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1571</span>{</div>
<div class="line"><span class="lineno"> 1572</span>  <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> = 0;</div>
<div class="line"><span class="lineno"> 1573</span> </div>
<div class="line"><span class="lineno"> 1574</span>  {</div>
<div class="line"><span class="lineno"> 1575</span>    std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_path</a>.c_str()));</div>
<div class="line"><span class="lineno"> 1576</span> </div>
<div class="line"><span class="lineno"> 1577</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;good()) {</div>
<div class="line"><span class="lineno"> 1578</span>      std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(f));</div>
<div class="line"><span class="lineno"> 1579</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_path</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_path</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1580</span>    }</div>
<div class="line"><span class="lineno"> 1581</span>  }</div>
<div class="line"><span class="lineno"> 1582</span>  </div>
<div class="line"><span class="lineno"> 1583</span>    <span class="comment">// check file access permissions</span></div>
<div class="line"><span class="lineno"> 1584</span> </div>
<div class="line"><span class="lineno"> 1585</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>) {</div>
<div class="line"><span class="lineno"> 1586</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">check_read_only</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 1587</span>  }</div>
<div class="line"><span class="lineno"> 1588</span> </div>
<div class="line"><span class="lineno"> 1589</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>;</div>
<div class="line"><span class="lineno"> 1590</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a1f6528e28e06eaa1391894af1d5a94a1"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">dunedaq::oks::OksKernel::check_read_only</a></div><div class="ttdeci">static bool check_read_only(OksFile *f)</div><div class="ttdoc">Check if the OKS file is read-only.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01534">kernel.cpp:1534</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a09519b0e118ddc83733db9de18a255" name="a3a09519b0e118ddc83733db9de18a255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a09519b0e118ddc83733db9de18a255">&#9670;&#160;</a></span>create_list_of_data_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> * &gt; * dunedaq::oks::OksKernel::create_list_of_data_objects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates list of objects which belong to given file. </p>
<p>Method returns pointer to the list of OKS objects or 0 if the file contains no objects. The user is responsible to destroy the list after usage.</p>
<p>The user should acquire a lock on OKS kernel before calling such method in the multi-threaded environment. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04329">4329</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4330</span>{</div>
<div class="line"><span class="lineno"> 4331</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;create_list_of_data_objects&quot;</span>;</div>
<div class="line"><span class="lineno"> 4332</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 4333</span> </div>
<div class="line"><span class="lineno"> 4334</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a9e7ff0dfa5f283bc1fab0aa06076e388">OksProfiler::KernelCreateDataObjectList</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 4335</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ENTER</a> &quot; &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4336</span> </div>
<div class="line"><span class="lineno"> 4337</span> </div>
<div class="line"><span class="lineno"> 4338</span>  <a class="code hl_namespace" href="namespacestd.html">std</a>::list&lt;<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new</a> <a class="code hl_namespace" href="namespacestd.html">std</a>::list&lt;<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *&gt;();</div>
<div class="line"><span class="lineno"> 4339</span> </div>
<div class="line"><span class="lineno"> 4340</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">if</a>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>()) {</div>
<div class="line"><span class="lineno"> 4341</span>    <span class="keywordflow">for</span>(OksObject::Set::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4342</span>      <span class="keywordflow">if</span>((*i)-&gt;file == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>-&gt;push_back(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 4343</span>    }</div>
<div class="line"><span class="lineno"> 4344</span>  }</div>
<div class="line"><span class="lineno"> 4345</span> </div>
<div class="line"><span class="lineno"> 4346</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 4347</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>;</div>
<div class="line"><span class="lineno"> 4348</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a> = 0;</div>
<div class="line"><span class="lineno"> 4349</span>  }</div>
<div class="line"><span class="lineno"> 4350</span> </div>
<div class="line"><span class="lineno"> 4351</span> </div>
<div class="line"><span class="lineno"> 4352</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4353</span> </div>
<div class="line"><span class="lineno"> 4354</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>;</div>
<div class="line"><span class="lineno"> 4355</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a9e7ff0dfa5f283bc1fab0aa06076e388"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a9e7ff0dfa5f283bc1fab0aa06076e388">dunedaq::oks::OksProfiler::KernelCreateDataObjectList</a></div><div class="ttdeci">@ KernelCreateDataObjectList</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00028">profiler.hpp:28</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a26eeaf86b37d412f90d5eef76513acec"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">dunedaq::oks::make_fname</a></div><div class="ttdeci">std::string make_fname(const char *f, size_t f_len, const std::string &amp;file, bool *p, const OksFile *const *fh)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00514">kernel.cpp:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acff94484dbaf0ce7c1c79ed92554f484" name="acff94484dbaf0ce7c1c79ed92554f484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff94484dbaf0ce7c1c79ed92554f484">&#9670;&#160;</a></span>create_list_of_schema_classes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> * &gt; * dunedaq::oks::OksKernel::create_list_of_schema_classes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates list of classes which belong to given file. </p>
<p>Method returns pointer to the list of OKS classes or 0 if the file contains no classes. The user is responsible to destroy the list after usage.</p>
<p>The user should acquire a lock on OKS kernel before calling such method in the multi-threaded environment. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02952">2952</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2953</span>{</div>
<div class="line"><span class="lineno"> 2954</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>(<span class="stringliteral">&quot;OksKernel::create_list_of_schema_classes(&quot;</span>);</div>
<div class="line"><span class="lineno"> 2955</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_full_file_name());</div>
<div class="line"><span class="lineno"> 2956</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>.push_back(<span class="charliteral">&#39;\&#39;&#39;</span>);</div>
<div class="line"><span class="lineno"> 2957</span> </div>
<div class="line"><span class="lineno"> 2958</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a3402b6bc8c9b2fe33164509c8ce1d9ed">OksProfiler::KernelCreateSchemaClassList</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 2959</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ENTER</a> &quot; &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2960</span> </div>
<div class="line"><span class="lineno"> 2961</span>  <a class="code hl_namespace" href="namespacestd.html">std</a>::list&lt;<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">clist</a> = <span class="keywordtype">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2962</span> </div>
<div class="line"><span class="lineno"> 2963</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">if</a>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>()) {</div>
<div class="line"><span class="lineno"> 2964</span>    <span class="keywordflow">for</span>(OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2965</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_file) {</div>
<div class="line"><span class="lineno"> 2966</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">clist</a> &amp;&amp; !(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">clist</a> = <span class="keyword">new</span> std::list&lt;OksClass *&gt;())) {</div>
<div class="line"><span class="lineno"> 2967</span>          <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2968</span>        }</div>
<div class="line"><span class="lineno"> 2969</span> </div>
<div class="line"><span class="lineno"> 2970</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">clist</a>-&gt;push_back(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 2971</span>      }</div>
<div class="line"><span class="lineno"> 2972</span>    }</div>
<div class="line"><span class="lineno"> 2973</span>  }</div>
<div class="line"><span class="lineno"> 2974</span> </div>
<div class="line"><span class="lineno"> 2975</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2976</span> </div>
<div class="line"><span class="lineno"> 2977</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">clist</a>;</div>
<div class="line"><span class="lineno"> 2978</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a3402b6bc8c9b2fe33164509c8ce1d9ed"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a3402b6bc8c9b2fe33164509c8ce1d9ed">dunedaq::oks::OksProfiler::KernelCreateSchemaClassList</a></div><div class="ttdeci">@ KernelCreateSchemaClassList</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00024">profiler.hpp:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37239b386578d51e03b85c5c9302cd59" name="a37239b386578d51e03b85c5c9302cd59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37239b386578d51e03b85c5c9302cd59">&#9670;&#160;</a></span>create_lists_of_updated_data_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::create_lists_of_updated_data_files </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **&#160;</td>
          <td class="paramname"><em>updated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **&#160;</td>
          <td class="paramname"><em>removed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get modified data files. </p>
<p>The method returns all data files which were modified or removed by an external process. The method checks file system status of all OKS data files loaded and created by the OKS kernel. The file is considered to be updated if it was modified after it was last time saved by the OKS kernel, or modified after it was loaded or created.</p>
<p>The method return parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updated</td><td>pointer to the list of modified data files </td></tr>
    <tr><td class="paramname">removed</td><td>pointer to the list of removed data files</td></tr>
  </table>
  </dd>
</dl>
<p>The user is responsible to delete returned pointers after usage.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03011">3011</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3012</span>{</div>
<div class="line"><span class="lineno"> 3013</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3014</span> </div>
<div class="line"><span class="lineno"> 3015</span>  <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a181c6ac307e36b9e47e940efeb8a6511">create_updated_lists</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ufs</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rfs</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksFile.html#a836df3b2c5788be8b90dcb0f72c4dfe6a24d876d3f2a4bd2d6199a8ab5e58bb20">OksFile::FileModified</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksFile.html#a836df3b2c5788be8b90dcb0f72c4dfe6a02e79f91394aac46cb53565dd0c0b7ab">OksFile::FileRemoved</a>);</div>
<div class="line"><span class="lineno"> 3016</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a836df3b2c5788be8b90dcb0f72c4dfe6a02e79f91394aac46cb53565dd0c0b7ab"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a836df3b2c5788be8b90dcb0f72c4dfe6a02e79f91394aac46cb53565dd0c0b7ab">dunedaq::oks::OksFile::FileRemoved</a></div><div class="ttdeci">@ FileRemoved</div><div class="ttdef"><b>Definition</b> <a href="file_8hpp_source.html#l00359">file.hpp:358</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a836df3b2c5788be8b90dcb0f72c4dfe6a24d876d3f2a4bd2d6199a8ab5e58bb20"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a836df3b2c5788be8b90dcb0f72c4dfe6a24d876d3f2a4bd2d6199a8ab5e58bb20">dunedaq::oks::OksFile::FileModified</a></div><div class="ttdeci">@ FileModified</div><div class="ttdef"><b>Definition</b> <a href="file_8hpp_source.html#l00356">file.hpp:356</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a181c6ac307e36b9e47e940efeb8a6511"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a181c6ac307e36b9e47e940efeb8a6511">dunedaq::oks::create_updated_lists</a></div><div class="ttdeci">static void create_updated_lists(const OksFile::Map &amp;files, std::list&lt; OksFile * &gt; **ufs, std::list&lt; OksFile * &gt; **rfs, OksFile::FileStatus wu, OksFile::FileStatus wr)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02983">kernel.cpp:2983</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6dda75c5f11be0357fe513795806a2e7" name="a6dda75c5f11be0357fe513795806a2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dda75c5f11be0357fe513795806a2e7">&#9670;&#160;</a></span>create_lists_of_updated_schema_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::create_lists_of_updated_schema_files </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **&#160;</td>
          <td class="paramname"><em>updated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; **&#160;</td>
          <td class="paramname"><em>removed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get modified schema files. </p>
<p>The method returns all schema files which were modified or removed by an external process. The method checks file system status of all OKS schema files loaded and created by the OKS kernel. The file is considered to be updated if it was modified after it was last time saved by the OKS kernel, or modified after it was loaded or created.</p>
<p>The method return parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updated</td><td>pointer to the list of modified schema files </td></tr>
    <tr><td class="paramname">removed</td><td>pointer to the list of removed schema files</td></tr>
  </table>
  </dd>
</dl>
<p>The user is responsible to delete returned pointers after usage.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03003">3003</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3004</span>{</div>
<div class="line"><span class="lineno"> 3005</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3006</span> </div>
<div class="line"><span class="lineno"> 3007</span>  <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a181c6ac307e36b9e47e940efeb8a6511">create_updated_lists</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ufs</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rfs</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksFile.html#a836df3b2c5788be8b90dcb0f72c4dfe6a24d876d3f2a4bd2d6199a8ab5e58bb20">OksFile::FileModified</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksFile.html#a836df3b2c5788be8b90dcb0f72c4dfe6a02e79f91394aac46cb53565dd0c0b7ab">OksFile::FileRemoved</a>);</div>
<div class="line"><span class="lineno"> 3008</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a518786ac5c732b761b246c1741abaa97" name="a518786ac5c732b761b246c1741abaa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518786ac5c732b761b246c1741abaa97">&#9670;&#160;</a></span>create_user_repository_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::create_user_repository_dir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02227">2227</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2228</span>{</div>
<div class="line"><span class="lineno"> 2229</span>  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> * path = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_USER_REPOSITORY_PATH&quot;</span>))</div>
<div class="line"><span class="lineno"> 2230</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#a18949ef2938f68c2625ea1e1038987de">path</a>;</div>
<div class="line"><span class="lineno"> 2231</span> </div>
<div class="line"><span class="lineno"> 2232</span>  <span class="comment">// create user repository directory if necessary</span></div>
<div class="line"><span class="lineno"> 2233</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>;</div>
<div class="line"><span class="lineno"> 2234</span> </div>
<div class="line"><span class="lineno"> 2235</span>  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo_base</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_USER_REPOSITORY_ROOT&quot;</span>))</div>
<div class="line"><span class="lineno"> 2236</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo_base</a>;</div>
<div class="line"><span class="lineno"> 2237</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2238</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">get_temporary_dir</a>();</div>
<div class="line"><span class="lineno"> 2239</span> </div>
<div class="line"><span class="lineno"> 2240</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>.push_back(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 2241</span>  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo_pattern</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_USER_REPOSITORY_PATTERN&quot;</span>))</div>
<div class="line"><span class="lineno"> 2242</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo_pattern</a>);</div>
<div class="line"><span class="lineno"> 2243</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2244</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>.append(<span class="stringliteral">&quot;oks.XXXXXX&quot;</span>);</div>
<div class="line"><span class="lineno"> 2245</span> </div>
<div class="line"><span class="lineno"> 2246</span>  std::unique_ptr&lt;char[]&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir_template</a>(<span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>.size() + 1]);</div>
<div class="line"><span class="lineno"> 2247</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strcpy</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir_template</a>.get(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>.c_str());</div>
<div class="line"><span class="lineno"> 2248</span> </div>
<div class="line"><span class="lineno"> 2249</span>  <span class="keywordflow">if</span> (<span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_dirname</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mkdtemp</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir_template</a>.get()))</div>
<div class="line"><span class="lineno"> 2250</span>    {</div>
<div class="line"><span class="lineno"> 2251</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_dirname</a>;</div>
<div class="line"><span class="lineno"> 2252</span>    }</div>
<div class="line"><span class="lineno"> 2253</span> </div>
<div class="line"><span class="lineno"> 2254</span>  <span class="keywordflow">throw</span> CanNotCreateRepositoryDir(<span class="stringliteral">&quot;make_user_repository_dir&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">user_repo</a>);</div>
<div class="line"><span class="lineno"> 2255</span>}</div>
<div class="ttc" id="anamespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink_html_a18949ef2938f68c2625ea1e1038987de"><div class="ttname"><a href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#a18949ef2938f68c2625ea1e1038987de">dbscan_ta_to_sink.dbscan_ta_to_sink.path</a></div><div class="ttdeci">path</div><div class="ttdef"><b>Definition</b> <a href="dbscan__ta__to__sink_8py_source.html#l00027">dbscan_ta_to_sink.py:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ca7fdf462816560fbe4d2884285623b" name="a2ca7fdf462816560fbe4d2884285623b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca7fdf462816560fbe4d2884285623b">&#9670;&#160;</a></span>data_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> &amp; dunedaq::oks::OksKernel::data_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all data files. </p>
<p>Get all data files which were created or loaded by the OKS kernel. The method is thread-safe.</p>
<dl class="section return"><dt>Returns</dt><dd>Return map of the OKS data file descriptors (sorted by file names). </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01491">1491</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1491</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a02e1009ac16e5c63abb3b9c2a3705630" name="a02e1009ac16e5c63abb3b9c2a3705630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e1009ac16e5c63abb3b9c2a3705630">&#9670;&#160;</a></span>define()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::define </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02146">2146</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2146</span>{ std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a06159b5ff8335605dc992309a22409ae">p_objects_mutex</a>); <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.insert(o);  }</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a06159b5ff8335605dc992309a22409ae"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a06159b5ff8335605dc992309a22409ae">dunedaq::oks::OksKernel::p_objects_mutex</a></div><div class="ttdeci">std::mutex p_objects_mutex</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02041">kernel.hpp:2041</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab703148e756df9ab0018745dbce450e5" name="ab703148e756df9ab0018745dbce450e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab703148e756df9ab0018745dbce450e5">&#9670;&#160;</a></span>find_class() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> * dunedaq::oks::OksKernel::find_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> *&#160;</td>
          <td class="paramname"><em>class_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find class by name (C-string). </p>
<p>If the method is used in the multi-threaded environment, it could be necessary to set read kernel lock before calling the method, if other threads can to create or to destroy oks classes and to open or close oks schema files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">class_name</td><td>name of the class</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer on OKS class or null pointer, if such class cannot be found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04453">4453</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4454</span>{</div>
<div class="line"><span class="lineno"> 4455</span>  OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.find(name);</div>
<div class="line"><span class="lineno"> 4456</span>  <span class="keywordflow">return</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end() ? <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second : 0);</div>
<div class="line"><span class="lineno"> 4457</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7dce86768be0ee65bca13c12cffb746" name="ad7dce86768be0ee65bca13c12cffb746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7dce86768be0ee65bca13c12cffb746">&#9670;&#160;</a></span>find_class() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> * dunedaq::oks::OksKernel::find_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>class_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find class by name (C++ string). </p>
<p>If the method is used in the multi-threaded environment, it could be necessary to set read kernel lock before calling the method, if other threads can to create or to destroy oks classes and to open or close oks schema files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">class_name</td><td>name of the class (std::string)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer on OKS class or null pointer, if such class can not be found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01812">1812</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1812</span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ad7dce86768be0ee65bca13c12cffb746">find_class</a>(class_name.c_str()); }</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ad7dce86768be0ee65bca13c12cffb746"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ad7dce86768be0ee65bca13c12cffb746">dunedaq::oks::OksKernel::find_class</a></div><div class="ttdeci">OksClass * find_class(const std::string &amp;class_name) const</div><div class="ttdoc">Find class by name (C++ string).</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01812">kernel.hpp:1812</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b91bb526a41a0a6d37fe3127c1d4bdd" name="a3b91bb526a41a0a6d37fe3127c1d4bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b91bb526a41a0a6d37fe3127c1d4bdd">&#9670;&#160;</a></span>find_data_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::find_data_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds OKS data file. </p>
<p>Method returns pointer to the OKS data file with name s or 0, if there is no such data file found.</p>
<p>The user should acquire a lock on OKS kernel before calling such method in the multi-threaded environment. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02289">2289</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2290</span>{</div>
<div class="line"><span class="lineno"> 2291</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7db4620ad72c6251da029a0538232581">find_file</a>(s, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>);</div>
<div class="line"><span class="lineno"> 2292</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a7db4620ad72c6251da029a0538232581"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a7db4620ad72c6251da029a0538232581">dunedaq::oks::OksKernel::find_file</a></div><div class="ttdeci">OksFile * find_file(const std::string &amp;s, const OksFile::Map &amp;files) const</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02259">kernel.cpp:2259</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7db4620ad72c6251da029a0538232581" name="a7db4620ad72c6251da029a0538232581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db4620ad72c6251da029a0538232581">&#9670;&#160;</a></span>find_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::find_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> &amp;&#160;</td>
          <td class="paramname"><em>files</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02259">2259</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2260</span>{</div>
<div class="line"><span class="lineno"> 2261</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2262</span>    std::string at = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(s, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2263</span>    OksFile::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>.find(&amp;at);</div>
<div class="line"><span class="lineno"> 2264</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>.end()) <span class="keywordflow">return</span> (*i).second;</div>
<div class="line"><span class="lineno"> 2265</span>  }</div>
<div class="line"><span class="lineno"> 2266</span>  <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2267</span>    <span class="comment">// return 0;</span></div>
<div class="line"><span class="lineno"> 2268</span>  }</div>
<div class="line"><span class="lineno"> 2269</span> </div>
<div class="line"><span class="lineno"> 2270</span>  <span class="comment">// search files included as relative to parent</span></div>
<div class="line"><span class="lineno"> 2271</span>  <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; f : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>)</div>
<div class="line"><span class="lineno"> 2272</span>    {</div>
<div class="line"><span class="lineno"> 2273</span>      <span class="keywordflow">if</span> (s == <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.second-&gt;get_short_file_name())</div>
<div class="line"><span class="lineno"> 2274</span>        {</div>
<div class="line"><span class="lineno"> 2275</span>          <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.second;</div>
<div class="line"><span class="lineno"> 2276</span>        }</div>
<div class="line"><span class="lineno"> 2277</span>    }</div>
<div class="line"><span class="lineno"> 2278</span> </div>
<div class="line"><span class="lineno"> 2279</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2280</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a5860041c8ac8636fe5f56bf6a3ee7f49"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">dunedaq::oks::OksKernel::get_file_path</a></div><div class="ttdeci">std::string get_file_path(const std::string &amp;path, const OksFile *parent_file=0, bool strict_paths=true) const</div><div class="ttdoc">Calculates full path to file.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01662">kernel.cpp:1662</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a752af55e3df2503d519e1ac93a125c7c" name="a752af55e3df2503d519e1ac93a125c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a752af55e3df2503d519e1ac93a125c7c">&#9670;&#160;</a></span>find_schema_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::find_schema_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds OKS schema file. </p>
<p>Method returns pointer to the OKS schema file with name s or 0, if there is no such schema file found.</p>
<p>The user should acquire a lock on OKS kernel before calling such method in the multi-threaded environment. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02283">2283</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2284</span>{</div>
<div class="line"><span class="lineno"> 2285</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7db4620ad72c6251da029a0538232581">find_file</a>(s, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>);</div>
<div class="line"><span class="lineno"> 2286</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a06b90eb17532f7264cb7b712d51a58f2" name="a06b90eb17532f7264cb7b712d51a58f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b90eb17532f7264cb7b712d51a58f2">&#9670;&#160;</a></span>get_active_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::get_active_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get active OKS data file. </p>
<p>The method is thread-safe.</p>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the active OKS data file descriptor or 0 if there is no an active data file. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01479">1479</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1479</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a030fe611d12d063528bf70a7e4777a7f" name="a030fe611d12d063528bf70a7e4777a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030fe611d12d063528bf70a7e4777a7f">&#9670;&#160;</a></span>get_active_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::get_active_schema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get active OKS schema file. </p>
<p>The method returns active schema file.</p>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the active OKS schema file descriptor or 0 if there is no an active schema.</dd></dl>
<p>The method is thread-safe. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01208">1208</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1208</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af777fb306f078fb1c97ba42f5acf6416" name="af777fb306f078fb1c97ba42f5acf6416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af777fb306f078fb1c97ba42f5acf6416">&#9670;&#160;</a></span>get_all_classes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::get_all_classes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>names_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq_1_1oks.html#a990fc79a321c88e52faa70787a292071">ClassSet</a> &amp;&#160;</td>
          <td class="paramname"><em>classes_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The method searches all classes including subclasses for given names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">names_in</td><td>array of names of the classes to search in </td></tr>
    <tr><td class="paramname">classes_out</td><td>the output containing pointers to all classes by above names and their subclasses </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04677">4677</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4678</span>{</div>
<div class="line"><span class="lineno"> 4679</span>  <span class="keywordflow">for</span>(std::vector&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">names_in</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">names_in</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4680</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ad7dce86768be0ee65bca13c12cffb746">find_class</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 4681</span>    <span class="keywordflow">if</span>(c != 0 &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">classes_out</a>.find(c) == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">classes_out</a>.end()) {</div>
<div class="line"><span class="lineno"> 4682</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">classes_out</a>.insert(c);</div>
<div class="line"><span class="lineno"> 4683</span>      <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sc</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;all_sub_classes()) {</div>
<div class="line"><span class="lineno"> 4684</span>        <span class="keywordflow">for</span>(OksClass::FList::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sc</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sc</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 4685</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">classes_out</a>.insert(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>);</div>
<div class="line"><span class="lineno"> 4686</span>        }</div>
<div class="line"><span class="lineno"> 4687</span>      }</div>
<div class="line"><span class="lineno"> 4688</span>    }</div>
<div class="line"><span class="lineno"> 4689</span>  }</div>
<div class="line"><span class="lineno"> 4690</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b9143bb934799aa93c2566eb5267d69" name="a9b9143bb934799aa93c2566eb5267d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b9143bb934799aa93c2566eb5267d69">&#9670;&#160;</a></span>get_allow_duplicated_classes_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::get_allow_duplicated_classes_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of duplicated classes mode. The method returns true, if the duplicated classes mode is switched 'On'. In such case the OKS will allow to load classes with equal names. Only first loaded class is taken into account, the next ones are ignored. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00728">728</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  728</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a60a1390720618d5fdda29357d60e8d71" name="a60a1390720618d5fdda29357d60e8d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60a1390720618d5fdda29357d60e8d71">&#9670;&#160;</a></span>get_allow_duplicated_objects_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::get_allow_duplicated_objects_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of duplicated objects mode. The method returns true, if the duplicated objects mode is switched 'On'. In such case the OKS will allow to load objects of the same class with equal IDs. The ID for duplicated object will be generated automatically. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00739">739</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  739</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">p_allow_duplicated_objects</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4178aa167acfd96d9df80ddbda6e356e" name="a4178aa167acfd96d9df80ddbda6e356e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4178aa167acfd96d9df80ddbda6e356e">&#9670;&#160;</a></span>get_bind_classes_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp; dunedaq::oks::OksKernel::get_bind_classes_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return status of oks classes binding. </p>
<p>The method checks lack of dangling references on class types and returns string containing unbound references if any.</p>
<dl class="section return"><dt>Returns</dt><dd>If all classes were successfully linked, the string is empty. Otherwise it contains description of unbound references and classes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02005">2005</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2005</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a98deca8b0f40dc677caca63479acc0c3">p_bind_classes_status</a>; }</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a98deca8b0f40dc677caca63479acc0c3"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a98deca8b0f40dc677caca63479acc0c3">dunedaq::oks::OksKernel::p_bind_classes_status</a></div><div class="ttdeci">std::string p_bind_classes_status</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02075">kernel.hpp:2075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab923597e0e67ea5b962e76e39c3fd08a" name="ab923597e0e67ea5b962e76e39c3fd08a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab923597e0e67ea5b962e76e39c3fd08a">&#9670;&#160;</a></span>get_bind_objects_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp; dunedaq::oks::OksKernel::get_bind_objects_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return status of oks objects binding. </p>
<p>The method returns string containing unbound references after last <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aad1cfec041c561f5dab31047b08d35b3" title="Bind oks objects.">bind_objects()</a> call.</p>
<dl class="section return"><dt>Returns</dt><dd>If all objects were successfully linked, the string is empty. Otherwise it contains description of unbound references and objects. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01993">1993</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1993</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>; }</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a41302a21b195f3c0222a6cfcdc8aa41f"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">dunedaq::oks::OksKernel::p_bind_objects_status</a></div><div class="ttdeci">std::string p_bind_objects_status</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02074">kernel.hpp:2074</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc165ff51306648a03171cf173891437" name="abc165ff51306648a03171cf173891437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc165ff51306648a03171cf173891437">&#9670;&#160;</a></span>get_cwd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> * dunedaq::oks::OksKernel::get_cwd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>current working dir </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00691">691</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  692</span>{</div>
<div class="line"><span class="lineno">  693</span>  std::lock_guard <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scoped_lock</a>(<a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a2d71c7c9f08211f1170f4595b0845318">s_get_cwd_mutex</a>);</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>)</div>
<div class="line"><span class="lineno">  696</span>  {</div>
<div class="line"><span class="lineno">  697</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a> = 0;</div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pathconf</a>(<span class="stringliteral">&quot;.&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_PC_PATH_MAX</a>);</div>
<div class="line"><span class="lineno">  699</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>)</div>
<div class="line"><span class="lineno">  700</span>      {</div>
<div class="line"><span class="lineno">  701</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;pathconf(\&quot;.\&quot;, _PC_PATH_MAX) has failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a> &lt;&lt; <span class="stringliteral">&quot;: \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  702</span>      }</div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  704</span>      {</div>
<div class="line"><span class="lineno">  705</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a> == -1)</div>
<div class="line"><span class="lineno">  706</span>          {</div>
<div class="line"><span class="lineno">  707</span>            <a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">PATH_MAX</a>;</div>
<div class="line"><span class="lineno">  708</span>          }</div>
<div class="line"><span class="lineno">  709</span>        <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a>];</div>
<div class="line"><span class="lineno">  710</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getcwd</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>, (<span class="keywordtype">size_t</span>) <a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a>))</div>
<div class="line"><span class="lineno">  711</span>          {</div>
<div class="line"><span class="lineno">  712</span>            <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;getcwd() has failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a> &lt;&lt; <span class="stringliteral">&quot;: \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  713</span>            <span class="keyword">delete</span>[] <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>;</div>
<div class="line"><span class="lineno">  714</span>            <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> = 0;</div>
<div class="line"><span class="lineno">  715</span>          }</div>
<div class="line"><span class="lineno">  716</span>      }</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>)</div>
<div class="line"><span class="lineno">  719</span>      {</div>
<div class="line"><span class="lineno">  720</span>        <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[2];</div>
<div class="line"><span class="lineno">  721</span>        <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>[0] = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno">  722</span>        <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>[1] = 0;</div>
<div class="line"><span class="lineno">  723</span>      }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(1) &lt;&lt; <span class="stringliteral">&quot;Current working dir: \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno">  726</span>  }</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>;</div>
<div class="line"><span class="lineno">  729</span>}</div>
<div class="ttc" id="anamespacedunedaq_html_a6a387bfb8b1d0cb5f41f0dd603e08294"><div class="ttname"><a href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">dunedaq::size</a></div><div class="ttdeci">FELIX Initialization std::string initerror FELIX queue timed std::string queuename Unexpected chunk size</div><div class="ttdef"><b>Definition</b> <a href="FelixIssues_8hpp_source.html#l00027">FelixIssues.hpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea4f27ce28aae944bdba4ae06f11e33e" name="aea4f27ce28aae944bdba4ae06f11e33e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea4f27ce28aae944bdba4ae06f11e33e">&#9670;&#160;</a></span>get_domain_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string &amp; dunedaq::oks::OksKernel::get_domain_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get domain name of host. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00449">449</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  450</span>{</div>
<div class="line"><span class="lineno">  451</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_domain_name</a>;</div>
<div class="line"><span class="lineno">  452</span>  <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>  std::call_once(flag, []()</div>
<div class="line"><span class="lineno">  455</span>    {</div>
<div class="line"><span class="lineno">  456</span>      std::string::size_type <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0e5cdb5dda227374e59d3943c16ffab4">get_host_name</a>().find(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a> != std::string::npos)</div>
<div class="line"><span class="lineno">  459</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_domain_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0e5cdb5dda227374e59d3943c16ffab4">get_host_name</a>().substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>+1);</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_domain_name</a>.empty())</div>
<div class="line"><span class="lineno">  462</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_domain_name</a> = <span class="stringliteral">&quot;unknown.domain&quot;</span>;</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span>  );</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_domain_name</a>;</div>
<div class="line"><span class="lineno">  467</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5860041c8ac8636fe5f56bf6a3ee7f49" name="a5860041c8ac8636fe5f56bf6a3ee7f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5860041c8ac8636fe5f56bf6a3ee7f49">&#9670;&#160;</a></span>get_file_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::get_file_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent_file</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>strict_paths</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates full path to file. </p>
<p>Method calculates full path to file. It takes into account the values of the OKS_DB_ROOT, TDAQ_DB_REPOSITORY, TDAQ_DB_USER_REPOSITORY and TDAQ_DB_PATH environment variables and optionally checks if the path is relative to the parent file defined by the parent_file parameter.</p>
<p>The method is thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>short, relative or absolute path to file </td></tr>
    <tr><td class="paramname">parent_file</td><td>pointer to file including given one</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td>std::exception in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01662">1662</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1663</span>{</div>
<div class="line"><span class="lineno"> 1664</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strict_paths</a> &amp;= <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a240f6bd8b9dbea5b2263dae112ad53a1">p_use_strict_repository_paths</a>;</div>
<div class="line"><span class="lineno"> 1665</span> </div>
<div class="line"><span class="lineno"> 1666</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;get_file_path&quot;</span>;</div>
<div class="line"><span class="lineno"> 1667</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>;</div>
<div class="line"><span class="lineno"> 1668</span> </div>
<div class="line"><span class="lineno"> 1669</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, s, <span class="keyword">nullptr</span>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 1670</span> </div>
<div class="line"><span class="lineno"> 1671</span>  std::list&lt;std::string&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tested_files</a>;</div>
<div class="line"><span class="lineno"> 1672</span> </div>
<div class="line"><span class="lineno"> 1673</span>  <span class="comment">// check absolute path or path relative to working directory</span></div>
<div class="line"><span class="lineno"> 1674</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1675</span> </div>
<div class="line"><span class="lineno"> 1676</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>(s);</div>
<div class="line"><span class="lineno"> 1677</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a4b9f0b9511be1355ec86bf2cd6354933">Oks::substitute_variables</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>);</div>
<div class="line"><span class="lineno"> 1678</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>) - 1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <span class="keyword">nullptr</span>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 1679</span> </div>
<div class="line"><span class="lineno"> 1680</span>  <span class="comment">// test if file has an absolute path</span></div>
<div class="line"><span class="lineno"> 1681</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>[0] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 1682</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span>  <span class="comment">// continue only if the file is an absolute path or it is not included</span></div>
<div class="line"><span class="lineno"> 1685</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a> || <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> == 0)</div>
<div class="line"><span class="lineno"> 1686</span>    {</div>
<div class="line"><span class="lineno"> 1687</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a> &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> &amp;&amp; *<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>)</div>
<div class="line"><span class="lineno"> 1688</span>        {</div>
<div class="line"><span class="lineno"> 1689</span>          std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s3</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>;</div>
<div class="line"><span class="lineno"> 1690</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s3</a>.push_back(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1691</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s3</a> + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>;</div>
<div class="line"><span class="lineno"> 1692</span>        }</div>
<div class="line"><span class="lineno"> 1693</span> </div>
<div class="line"><span class="lineno"> 1694</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">Oks::real_path</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1695</span>        {</div>
<div class="line"><span class="lineno"> 1696</span>          <span class="keywordflow">if</span> (!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>() &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strict_paths</a>)</div>
<div class="line"><span class="lineno"> 1697</span>            {</div>
<div class="line"><span class="lineno"> 1698</span>              <span class="keywordflow">if</span> (!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a060734f716776f044f59324f7bd25d1f">get_repository_mapping_dir</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>() &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.find(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a060734f716776f044f59324f7bd25d1f">get_repository_mapping_dir</a>()) == 0)</div>
<div class="line"><span class="lineno"> 1699</span>                {</div>
<div class="line"><span class="lineno"> 1700</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.erase(0, <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a060734f716776f044f59324f7bd25d1f">get_repository_mapping_dir</a>().<a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a>()+1);</div>
<div class="line"><span class="lineno"> 1701</span>                  <a class="code hl_define" href="kernel_8cpp.html#a34181677c08cbef4799c5bbf7006759c">TEST_PATH_TOKEN</a>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <span class="stringliteral">&quot;user&quot;</span>)</div>
<div class="line"><span class="lineno"> 1702</span>                }</div>
<div class="line"><span class="lineno"> 1703</span>              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.find(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>()) == 0)</div>
<div class="line"><span class="lineno"> 1704</span>                {</div>
<div class="line"><span class="lineno"> 1705</span>                  <span class="comment">// presumably from explicitly set TDAQ_DB_USER_REPOSITORY created externally</span></div>
<div class="line"><span class="lineno"> 1706</span>                  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> &lt;&lt; <span class="stringliteral">&quot; returns external \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; (an absolute filename or relative to CWD=\&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1707</span>                  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>;</div>
<div class="line"><span class="lineno"> 1708</span>                }</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>              std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 1711</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> &lt;&lt; <span class="stringliteral">&quot; file does not belong to oks git repository\n&quot;</span></div>
<div class="line"><span class="lineno"> 1712</span>                  <span class="stringliteral">&quot;provide file repository name, or unset TDAQ_DB_REPOSITORY and try again with the DUNEDAQ_DB_PATH environment variable&quot;</span>;</div>
<div class="line"><span class="lineno"> 1713</span>              <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 1714</span>            }</div>
<div class="line"><span class="lineno"> 1715</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1716</span>            {</div>
<div class="line"><span class="lineno"> 1717</span>              <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> &lt;&lt; <span class="stringliteral">&quot; returns \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; (an absolute filename or relative to CWD=\&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1718</span>              <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>;</div>
<div class="line"><span class="lineno"> 1719</span>            }</div>
<div class="line"><span class="lineno"> 1720</span>        }</div>
<div class="line"><span class="lineno"> 1721</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1722</span>        {</div>
<div class="line"><span class="lineno"> 1723</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a>)</div>
<div class="line"><span class="lineno"> 1724</span>            {</div>
<div class="line"><span class="lineno"> 1725</span>              <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>[] = <span class="stringliteral">&quot;an absolute file name&quot;</span>;</div>
<div class="line"><span class="lineno"> 1726</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tested_files</a>.push_back(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#ad45ff9203193fe04fea4b623fd9b065a">mk_name_and_test</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>) - 1));</div>
<div class="line"><span class="lineno"> 1727</span>            }</div>
<div class="line"><span class="lineno"> 1728</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1729</span>            {</div>
<div class="line"><span class="lineno"> 1730</span>              <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>[] = <span class="stringliteral">&quot;relative to current working directory&quot;</span>;</div>
<div class="line"><span class="lineno"> 1731</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tested_files</a>.push_back(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#ad45ff9203193fe04fea4b623fd9b065a">mk_name_and_test</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>) - 1));</div>
<div class="line"><span class="lineno"> 1732</span>            }</div>
<div class="line"><span class="lineno"> 1733</span>        }</div>
<div class="line"><span class="lineno"> 1734</span>    }</div>
<div class="line"><span class="lineno"> 1735</span> </div>
<div class="line"><span class="lineno"> 1736</span>  <span class="keywordflow">if</span>( !<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 1737</span>    {</div>
<div class="line"><span class="lineno"> 1738</span>      <a class="code hl_define" href="kernel_8cpp.html#a34181677c08cbef4799c5bbf7006759c">TEST_PATH_TOKEN</a>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>(), s, <span class="stringliteral">&quot;user&quot;</span>)</div>
<div class="line"><span class="lineno"> 1739</span>    }</div>
<div class="line"><span class="lineno"> 1740</span> </div>
<div class="line"><span class="lineno"> 1741</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>() || !<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a240f6bd8b9dbea5b2263dae112ad53a1">p_use_strict_repository_paths</a>)</div>
<div class="line"><span class="lineno"> 1742</span>    {</div>
<div class="line"><span class="lineno"> 1743</span>    <span class="comment">// check paths relative to OKS database root directories</span></div>
<div class="line"><span class="lineno"> 1744</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a>)</div>
<div class="line"><span class="lineno"> 1745</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>)</div>
<div class="line"><span class="lineno"> 1746</span>        {</div>
<div class="line"><span class="lineno"> 1747</span>          <a class="code hl_define" href="kernel_8cpp.html#a34181677c08cbef4799c5bbf7006759c">TEST_PATH_TOKEN</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, s, <span class="stringliteral">&quot;DUNEDAQ_DB_PATH&quot;</span>)</div>
<div class="line"><span class="lineno"> 1748</span>        }</div>
<div class="line"><span class="lineno"> 1749</span> </div>
<div class="line"><span class="lineno"> 1750</span>    <span class="comment">// check non-absolute path relative to parent file if any</span></div>
<div class="line"><span class="lineno"> 1751</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> &amp;&amp; !<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">is_absolute_path</a>)</div>
<div class="line"><span class="lineno"> 1752</span>      {</div>
<div class="line"><span class="lineno"> 1753</span>        std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;get_full_file_name());</div>
<div class="line"><span class="lineno"> 1754</span>        std::string::size_type pos = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.find_last_of(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno"> 1755</span> </div>
<div class="line"><span class="lineno"> 1756</span>        <span class="keywordflow">if</span> (pos != std::string::npos)</div>
<div class="line"><span class="lineno"> 1757</span>          {</div>
<div class="line"><span class="lineno"> 1758</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.erase(pos + 1);</div>
<div class="line"><span class="lineno"> 1759</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.append(s);</div>
<div class="line"><span class="lineno"> 1760</span>            <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a4b9f0b9511be1355ec86bf2cd6354933">Oks::substitute_variables</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>);</div>
<div class="line"><span class="lineno"> 1761</span> </div>
<div class="line"><span class="lineno"> 1762</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">Oks::real_path</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1763</span>              {</div>
<div class="line"><span class="lineno"> 1764</span>                <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> &lt;&lt; <span class="stringliteral">&quot; returns \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; (filename relative to parent file)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1765</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>;</div>
<div class="line"><span class="lineno"> 1766</span>              }</div>
<div class="line"><span class="lineno"> 1767</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1768</span>              {</div>
<div class="line"><span class="lineno"> 1769</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>[] = <span class="stringliteral">&quot;relative to parent file&quot;</span>;</div>
<div class="line"><span class="lineno"> 1770</span>                <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tested_files</a>.push_back(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#ad45ff9203193fe04fea4b623fd9b065a">mk_name_and_test</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_test_name</a>) - 1));</div>
<div class="line"><span class="lineno"> 1771</span>              }</div>
<div class="line"><span class="lineno"> 1772</span>          }</div>
<div class="line"><span class="lineno"> 1773</span>      }</div>
<div class="line"><span class="lineno"> 1774</span>  }</div>
<div class="line"><span class="lineno"> 1775</span> </div>
<div class="line"><span class="lineno"> 1776</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> &lt;&lt; <span class="stringliteral">&quot; throw exception (file was not found)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>  std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 1779</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> &lt;&lt; <span class="stringliteral">&quot; found no readable file among &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tested_files</a>.size() &lt;&lt; <span class="stringliteral">&quot; tested:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1780</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tested_files</a>)</div>
<div class="line"><span class="lineno"> 1781</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <a class="code hl_namespace" href="namespacestd.html">std</a>::<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">endl</a>;</div>
<div class="line"><span class="lineno"> 1782</span> </div>
<div class="line"><span class="lineno"> 1783</span>  <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 1784</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a060734f716776f044f59324f7bd25d1f"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a060734f716776f044f59324f7bd25d1f">dunedaq::oks::OksKernel::get_repository_mapping_dir</a></div><div class="ttdeci">static const std::string &amp; get_repository_mapping_dir()</div><div class="ttdoc">Get OKS repository name.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00352">kernel.cpp:352</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1Oks_html_a4b9f0b9511be1355ec86bf2cd6354933"><div class="ttname"><a href="classdunedaq_1_1oks_1_1Oks.html#a4b9f0b9511be1355ec86bf2cd6354933">dunedaq::oks::Oks::substitute_variables</a></div><div class="ttdeci">static void substitute_variables(std::string &amp;)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00572">kernel.cpp:572</a></div></div>
<div class="ttc" id="akernel_8cpp_html_a34181677c08cbef4799c5bbf7006759c"><div class="ttname"><a href="kernel_8cpp.html#a34181677c08cbef4799c5bbf7006759c">TEST_PATH_TOKEN</a></div><div class="ttdeci">#define TEST_PATH_TOKEN(path, file, msg)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01646">kernel.cpp:1646</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_ad45ff9203193fe04fea4b623fd9b065a"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#ad45ff9203193fe04fea4b623fd9b065a">dunedaq::oks::mk_name_and_test</a></div><div class="ttdeci">std::string mk_name_and_test(const std::string &amp;name, const char *test, size_t test_len)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01637">kernel.cpp:1637</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e5cdb5dda227374e59d3943c16ffab4" name="a0e5cdb5dda227374e59d3943c16ffab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e5cdb5dda227374e59d3943c16ffab4">&#9670;&#160;</a></span>get_host_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string &amp; dunedaq::oks::OksKernel::get_host_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get hostname of given process. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00431">431</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  432</span>{</div>
<div class="line"><span class="lineno">  433</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_host_name</a>;</div>
<div class="line"><span class="lineno">  434</span>  <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>  std::call_once(flag, []()</div>
<div class="line"><span class="lineno">  437</span>    {</div>
<div class="line"><span class="lineno">  438</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_host_name</a> = <a class="code hl_function" href="classOksSystem_1_1LocalHost.html#a826d067483c84993f959fd6e4cda0b53">OksSystem::LocalHost::instance</a>()-&gt;<a class="code hl_function" href="classOksSystem_1_1LocalHost.html#a54d8b92d276709c96aa90c450258b2bf">full_local_name</a>();</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_host_name</a>.empty())</div>
<div class="line"><span class="lineno">  441</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_host_name</a> = <span class="stringliteral">&quot;unknown.host&quot;</span>;</div>
<div class="line"><span class="lineno">  442</span>    }</div>
<div class="line"><span class="lineno">  443</span>  );</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_host_name</a>;</div>
<div class="line"><span class="lineno">  446</span>}</div>
<div class="ttc" id="aclassOksSystem_1_1LocalHost_html_a54d8b92d276709c96aa90c450258b2bf"><div class="ttname"><a href="classOksSystem_1_1LocalHost.html#a54d8b92d276709c96aa90c450258b2bf">OksSystem::LocalHost::full_local_name</a></div><div class="ttdeci">static const std::string &amp; full_local_name()</div><div class="ttdoc">fully qualified local host name</div><div class="ttdef"><b>Definition</b> <a href="Host_8cpp_source.html#l00211">Host.cpp:211</a></div></div>
<div class="ttc" id="aclassOksSystem_1_1LocalHost_html_a826d067483c84993f959fd6e4cda0b53"><div class="ttname"><a href="classOksSystem_1_1LocalHost.html#a826d067483c84993f959fd6e4cda0b53">OksSystem::LocalHost::instance</a></div><div class="ttdeci">static const LocalHost * instance()</div><div class="ttdoc">pointer to the singleton local host</div><div class="ttdef"><b>Definition</b> <a href="Host_8cpp_source.html#l00221">Host.cpp:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd8e3269bba31f5ca61aae180f4b90ed" name="afd8e3269bba31f5ca61aae180f4b90ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8e3269bba31f5ca61aae180f4b90ed">&#9670;&#160;</a></span>get_includes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::get_includes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>includes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_repository_name</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens file and reads its shallow includes. </p>
<p>The method is thread-safe.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td>std::exception in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01916">1916</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1917</span>{</div>
<div class="line"><span class="lineno"> 1918</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1919</span>    std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream(file_name.c_str()));</div>
<div class="line"><span class="lineno"> 1920</span> </div>
<div class="line"><span class="lineno"> 1921</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;good()) {</div>
<div class="line"><span class="lineno"> 1922</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;get_includes(): cannot open file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1923</span>    }</div>
<div class="line"><span class="lineno"> 1924</span> </div>
<div class="line"><span class="lineno"> 1925</span>    std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(f));</div>
<div class="line"><span class="lineno"> 1926</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, file_name, file_name, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1927</span> </div>
<div class="line"><span class="lineno"> 1928</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>.p_list_of_include_files.size()) {</div>
<div class="line"><span class="lineno"> 1929</span>      <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>.p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>.p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 1930</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>.insert(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">use_repository_name</a> ? <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>).substr(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a>()+1) : <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>));</div>
<div class="line"><span class="lineno"> 1931</span>      }</div>
<div class="line"><span class="lineno"> 1932</span>    }</div>
<div class="line"><span class="lineno"> 1933</span> </div>
<div class="line"><span class="lineno"> 1934</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;close();</div>
<div class="line"><span class="lineno"> 1935</span>  }</div>
<div class="line"><span class="lineno"> 1936</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1937</span>    <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;file&quot;</span>, file_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>));</div>
<div class="line"><span class="lineno"> 1938</span>  }</div>
<div class="line"><span class="lineno"> 1939</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1940</span>    <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;file&quot;</span>, file_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what()));</div>
<div class="line"><span class="lineno"> 1941</span>  }</div>
<div class="line"><span class="lineno"> 1942</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2abf85bd3ed0d4af3c30cdd5f989438e" name="a2abf85bd3ed0d4af3c30cdd5f989438e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2abf85bd3ed0d4af3c30cdd5f989438e">&#9670;&#160;</a></span>get_modified_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::get_modified_files </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>mfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>rfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get modified data files. </p>
<p>The method returns the data files modified or removed by an external process in file system or repository.</p>
<p>The method return parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mfs</td><td>set of modified data files </td></tr>
    <tr><td class="paramname">rfs</td><td>set of removed data files </td></tr>
    <tr><td class="paramname">version</td><td>repository version to compare with (if needed)</td></tr>
  </table>
  </dd>
</dl>
<p>The user is responsible to delete returned pointers after usage.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03019">3019</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3020</span>{</div>
<div class="line"><span class="lineno"> 3021</span>  std::list&lt;OksFile *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[] =</div>
<div class="line"><span class="lineno"> 3022</span>    { <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span> };</div>
<div class="line"><span class="lineno"> 3023</span> </div>
<div class="line"><span class="lineno"> 3024</span>  std::set&lt;OksFile *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sets</a>[] =</div>
<div class="line"><span class="lineno"> 3025</span>    { &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">mfs</a>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rfs</a> };</div>
<div class="line"><span class="lineno"> 3026</span> </div>
<div class="line"><span class="lineno"> 3027</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a37239b386578d51e03b85c5c9302cd59">create_lists_of_updated_data_files</a>(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[0], &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[1]);</div>
<div class="line"><span class="lineno"> 3028</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6dda75c5f11be0357fe513795806a2e7">create_lists_of_updated_schema_files</a>(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[2], &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[3]);</div>
<div class="line"><span class="lineno"> 3029</span> </div>
<div class="line"><span class="lineno"> 3030</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt; 4; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)</div>
<div class="line"><span class="lineno"> 3031</span>    <span class="keywordflow">if</span> (std::list&lt;OksFile *&gt; * f = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>])</div>
<div class="line"><span class="lineno"> 3032</span>      {</div>
<div class="line"><span class="lineno"> 3033</span>        <span class="keywordflow">while</span> (!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;empty())</div>
<div class="line"><span class="lineno"> 3034</span>          {</div>
<div class="line"><span class="lineno"> 3035</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sets</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> % 2]-&gt;insert(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;front());</div>
<div class="line"><span class="lineno"> 3036</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;pop_front();</div>
<div class="line"><span class="lineno"> 3037</span>          }</div>
<div class="line"><span class="lineno"> 3038</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 3039</span>      }</div>
<div class="line"><span class="lineno"> 3040</span> </div>
<div class="line"><span class="lineno"> 3041</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>() &amp;&amp; !<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.empty())</div>
<div class="line"><span class="lineno"> 3042</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; file_name : <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a14ac19ae0836d40564fbae295cf2bf18">get_repository_versions_diff</a>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ab1153ff96a7da26b2c74b07de6a24904">get_repository_version</a>(), <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>))</div>
<div class="line"><span class="lineno"> 3043</span>      {</div>
<div class="line"><span class="lineno"> 3044</span>        <span class="keywordflow">if</span> (<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * f = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a3b91bb526a41a0a6d37fe3127c1d4bdd">find_data_file</a>(file_name))</div>
<div class="line"><span class="lineno"> 3045</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sets</a>[0]-&gt;insert(f);</div>
<div class="line"><span class="lineno"> 3046</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * f = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a752af55e3df2503d519e1ac93a125c7c">find_schema_file</a>(file_name))</div>
<div class="line"><span class="lineno"> 3047</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sets</a>[0]-&gt;insert(f);</div>
<div class="line"><span class="lineno"> 3048</span>      }</div>
<div class="line"><span class="lineno"> 3049</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a14ac19ae0836d40564fbae295cf2bf18"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a14ac19ae0836d40564fbae295cf2bf18">dunedaq::oks::OksKernel::get_repository_versions_diff</a></div><div class="ttdeci">std::list&lt; std::string &gt; get_repository_versions_diff(const std::string &amp;sha1, const std::string &amp;sha2)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05251">kernel.cpp:5251</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a37239b386578d51e03b85c5c9302cd59"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a37239b386578d51e03b85c5c9302cd59">dunedaq::oks::OksKernel::create_lists_of_updated_data_files</a></div><div class="ttdeci">void create_lists_of_updated_data_files(std::list&lt; OksFile * &gt; **updated, std::list&lt; OksFile * &gt; **removed) const</div><div class="ttdoc">Get modified data files.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03011">kernel.cpp:3011</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a3b91bb526a41a0a6d37fe3127c1d4bdd"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a3b91bb526a41a0a6d37fe3127c1d4bdd">dunedaq::oks::OksKernel::find_data_file</a></div><div class="ttdeci">OksFile * find_data_file(const std::string &amp;s) const</div><div class="ttdoc">Finds OKS data file.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02289">kernel.cpp:2289</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a6dda75c5f11be0357fe513795806a2e7"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a6dda75c5f11be0357fe513795806a2e7">dunedaq::oks::OksKernel::create_lists_of_updated_schema_files</a></div><div class="ttdeci">void create_lists_of_updated_schema_files(std::list&lt; OksFile * &gt; **updated, std::list&lt; OksFile * &gt; **removed) const</div><div class="ttdoc">Get modified schema files.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03003">kernel.cpp:3003</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a752af55e3df2503d519e1ac93a125c7c"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a752af55e3df2503d519e1ac93a125c7c">dunedaq::oks::OksKernel::find_schema_file</a></div><div class="ttdeci">OksFile * find_schema_file(const std::string &amp;s) const</div><div class="ttdoc">Finds OKS schema file.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02283">kernel.cpp:2283</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ab1153ff96a7da26b2c74b07de6a24904"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ab1153ff96a7da26b2c74b07de6a24904">dunedaq::oks::OksKernel::get_repository_version</a></div><div class="ttdeci">const std::string &amp; get_repository_version()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00934">kernel.hpp:934</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c59392c4c951ba956f1dcf447e2ce35" name="a8c59392c4c951ba956f1dcf447e2ce35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c59392c4c951ba956f1dcf447e2ce35">&#9670;&#160;</a></span>get_mutex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_mutex &amp; dunedaq::oks::OksKernel::get_mutex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return OKS kernel mutex. </p>
<p>The mutex is used to lock most OKS kernel update operations like loading of files. It is used by the RDB server performing OKS operations in multi-threaded environment. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00818">818</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  818</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a10c68fec504e0bb39586aa45b1e4a90a" name="a10c68fec504e0bb39586aa45b1e4a90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c68fec504e0bb39586aa45b1e4a90a">&#9670;&#160;</a></span>get_profiling_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::get_profiling_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of profiling mode. The method returns true, if the profiling mode is switched 'On'. In such case the OKS will report time spend to execute main methods and a summary table of their calls on the OKS kernel destroy. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00706">706</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  706</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c2c78de1304d2c4fd54c3e9d787b656" name="a9c2c78de1304d2c4fd54c3e9d787b656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c2c78de1304d2c4fd54c3e9d787b656">&#9670;&#160;</a></span>get_repository_checkout_ts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t dunedaq::oks::OksKernel::get_repository_checkout_ts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return repository checkout timestamp. </p>
<p>Return timestamp when the repository was checkout or updated last time (e.g. to track new changes). </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01582">1582</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1583</span>    {</div>
<div class="line"><span class="lineno"> 1584</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3cdafe18537c1878dc705dc544556023">p_repository_checkout_ts</a>;</div>
<div class="line"><span class="lineno"> 1585</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="add0877f0382a2cae9c1c2ef2ee9f43b0" name="add0877f0382a2cae9c1c2ef2ee9f43b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0877f0382a2cae9c1c2ef2ee9f43b0">&#9670;&#160;</a></span>get_repository_dirs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::list&lt; std::string &gt; &amp; dunedaq::oks::OksKernel::get_repository_dirs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get repository search directories. </p>
<p>The method is not thread-safe.</p>
<dl class="section return"><dt>Returns</dt><dd>The method returns list of repository search directories. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01543">1543</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1543</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a060734f716776f044f59324f7bd25d1f" name="a060734f716776f044f59324f7bd25d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060734f716776f044f59324f7bd25d1f">&#9670;&#160;</a></span>get_repository_mapping_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp; dunedaq::oks::OksKernel::get_repository_mapping_dir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get OKS repository name. </p>
<p>The repository name is defined by last directory of the TDAQ_DB_REPOSITORY environment variable, e.g.: for the name of oks-repository-root="/usr/local/databases/v10" is "v10". The method returns an empty string, if the oks-repository-root is not set or its value contains no name. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00352">352</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  353</span>{</div>
<div class="line"><span class="lineno">  354</span>  <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>  std::call_once(flag, []()</div>
<div class="line"><span class="lineno">  357</span>    {</div>
<div class="line"><span class="lineno">  358</span>      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> * s = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;OKS_REPOSITORY_MAPPING_DIR&quot;</span>))</div>
<div class="line"><span class="lineno">  359</span>        {</div>
<div class="line"><span class="lineno">  360</span>          <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7c388d2cef0d147eac31f486e2246084">p_repository_mapping_dir</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno">  361</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">Oks::real_path</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7c388d2cef0d147eac31f486e2246084">p_repository_mapping_dir</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  362</span>        }</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span>  );</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7c388d2cef0d147eac31f486e2246084">p_repository_mapping_dir</a>;</div>
<div class="line"><span class="lineno">  367</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a7c388d2cef0d147eac31f486e2246084"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a7c388d2cef0d147eac31f486e2246084">dunedaq::oks::OksKernel::p_repository_mapping_dir</a></div><div class="ttdeci">static std::string p_repository_mapping_dir</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02029">kernel.hpp:2029</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aade265849b397edf161fc12715b1e979" name="aade265849b397edf161fc12715b1e979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade265849b397edf161fc12715b1e979">&#9670;&#160;</a></span>get_repository_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp; dunedaq::oks::OksKernel::get_repository_root </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get OKS repository root. </p>
<p>The repository root is defined by the TDAQ_DB_REPOSITORY environment variable. The method returns an empty string, if the variable is not set or its value is empty. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00306">306</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  307</span>{</div>
<div class="line"><span class="lineno">  308</span>  <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>  std::call_once(flag, []()</div>
<div class="line"><span class="lineno">  311</span>    {</div>
<div class="line"><span class="lineno">  312</span>       <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> * s = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_REPOSITORY&quot;</span>))</div>
<div class="line"><span class="lineno">  313</span>         {</div>
<div class="line"><span class="lineno">  314</span>           std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rep</a>(s);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>           <span class="keywordflow">if</span> (!std::all_of(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rep</a>.begin(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rep</a>.end(), [](<span class="keywordtype">char</span> c) { return std::isspace(c); }))</div>
<div class="line"><span class="lineno">  317</span>             {</div>
<div class="line"><span class="lineno">  318</span>               <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;OKS_GIT_PROTOCOL&quot;</span>);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> &amp;&amp; !*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>)</div>
<div class="line"><span class="lineno">  321</span>                 <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>               Oks::Tokenizer <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">t</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rep</a>, <span class="stringliteral">&quot;|&quot;</span>);</div>
<div class="line"><span class="lineno">  324</span>               std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>;</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>               <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">t</a>.next(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>) &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">p_repository_root</a>.empty())</div>
<div class="line"><span class="lineno">  327</span>                 {</div>
<div class="line"><span class="lineno">  328</span>                   <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>)</div>
<div class="line"><span class="lineno">  329</span>                     {</div>
<div class="line"><span class="lineno">  330</span>                       <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>) == 0)</div>
<div class="line"><span class="lineno">  331</span>                         {</div>
<div class="line"><span class="lineno">  332</span>                           <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">p_repository_root</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>;</div>
<div class="line"><span class="lineno">  333</span>                         }</div>
<div class="line"><span class="lineno">  334</span>                     }</div>
<div class="line"><span class="lineno">  335</span>                   <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  336</span>                     {</div>
<div class="line"><span class="lineno">  337</span>                       <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">p_repository_root</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>;</div>
<div class="line"><span class="lineno">  338</span>                     }</div>
<div class="line"><span class="lineno">  339</span>                 }</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">p_repository_root</a>.empty())</div>
<div class="line"><span class="lineno">  342</span>                 <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::OksKernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;cannot find OKS_GIT_PROTOCOL=\&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> &lt;&lt; <span class="stringliteral">&quot;\&quot; in TDAQ_DB_REPOSITORY=\&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rep</a> &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  343</span>             }</div>
<div class="line"><span class="lineno">  344</span>         }</div>
<div class="line"><span class="lineno">  345</span>    }</div>
<div class="line"><span class="lineno">  346</span>  );</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">p_repository_root</a>;</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a376982cc6357b8191ba7e5a11f81e3b3"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a376982cc6357b8191ba7e5a11f81e3b3">dunedaq::oks::OksKernel::p_repository_root</a></div><div class="ttdeci">static std::string p_repository_root</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02028">kernel.hpp:2028</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36ee7b88b184c11f8f2c76bf34a71806" name="a36ee7b88b184c11f8f2c76bf34a71806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36ee7b88b184c11f8f2c76bf34a71806">&#9670;&#160;</a></span>get_repository_unmerged_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::string &gt; dunedaq::oks::OksKernel::get_repository_unmerged_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Special behavior of <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a14ac19ae0836d40564fbae295cf2bf18">get_repository_versions_diff()</a>, return unmerged files </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01644">1644</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1645</span>    {</div>
<div class="line"><span class="lineno"> 1646</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a14ac19ae0836d40564fbae295cf2bf18">get_repository_versions_diff</a>(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1647</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1153ff96a7da26b2c74b07de6a24904" name="ab1153ff96a7da26b2c74b07de6a24904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1153ff96a7da26b2c74b07de6a24904">&#9670;&#160;</a></span>get_repository_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp; dunedaq::oks::OksKernel::get_repository_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00934">934</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  935</span>    {</div>
<div class="line"><span class="lineno">  936</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a>;</div>
<div class="line"><span class="lineno">  937</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72fccce5e5a0188a9f1e0bdb630c39d3" name="a72fccce5e5a0188a9f1e0bdb630c39d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72fccce5e5a0188a9f1e0bdb630c39d3">&#9670;&#160;</a></span>get_repository_versions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structdunedaq_1_1oks_1_1OksRepositoryVersion.html">OksRepositoryVersion</a> &gt; dunedaq::oks::OksKernel::get_repository_versions </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_irrelevant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>command_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return repository versions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip_irrelevant</td><td>ignore changes not affecting loaded configuration </td></tr>
    <tr><td class="paramname">command_line</td><td>forward command line parameter to the oks-git-log.sh</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05331">5331</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5332</span>{</div>
<div class="line"><span class="lineno"> 5333</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-log.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5334</span> </div>
<div class="line"><span class="lineno"> 5335</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>())</div>
<div class="line"><span class="lineno"> 5336</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -v&quot;</span>);</div>
<div class="line"><span class="lineno"> 5337</span> </div>
<div class="line"><span class="lineno"> 5338</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5339</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5340</span> </div>
<div class="line"><span class="lineno"> 5341</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>);</div>
<div class="line"><span class="lineno"> 5342</span> </div>
<div class="line"><span class="lineno"> 5343</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-log&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5344</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 5345</span> </div>
<div class="line"><span class="lineno"> 5346</span>  std::string output = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5347</span> </div>
<div class="line"><span class="lineno"> 5348</span>  std::istringstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>(output);</div>
<div class="line"><span class="lineno"> 5349</span> </div>
<div class="line"><span class="lineno"> 5350</span>  std::string line;</div>
<div class="line"><span class="lineno"> 5351</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5352</span> </div>
<div class="line"><span class="lineno"> 5353</span>  <span class="keywordflow">while</span> (std::getline(s, line))</div>
<div class="line"><span class="lineno"> 5354</span>    <span class="keywordflow">if</span> (line.find(<span class="stringliteral">&quot;git log &quot;</span>) == 0)</div>
<div class="line"><span class="lineno"> 5355</span>      {</div>
<div class="line"><span class="lineno"> 5356</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5357</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5358</span>      }</div>
<div class="line"><span class="lineno"> 5359</span> </div>
<div class="line"><span class="lineno"> 5360</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5361</span>    {</div>
<div class="line"><span class="lineno"> 5362</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 5363</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot find \&quot;git log\&quot; pattern in output of oks-log.sh:\n&quot;</span> &lt;&lt; output;</div>
<div class="line"><span class="lineno"> 5364</span>      <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;log&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str());</div>
<div class="line"><span class="lineno"> 5365</span>    }</div>
<div class="line"><span class="lineno"> 5366</span> </div>
<div class="line"><span class="lineno"> 5367</span>  std::set&lt;std::string&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">loaded_files</a>;</div>
<div class="line"><span class="lineno"> 5368</span> </div>
<div class="line"><span class="lineno"> 5369</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a>)</div>
<div class="line"><span class="lineno"> 5370</span>    {</div>
<div class="line"><span class="lineno"> 5371</span>      std::size_t <a class="code hl_function" href="namespaceafc_1_1click__texttable.html#acb388ff15df60eece94dfd33b4eefe9b">len</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().size()+1;</div>
<div class="line"><span class="lineno"> 5372</span> </div>
<div class="line"><span class="lineno"> 5373</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> : <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>)</div>
<div class="line"><span class="lineno"> 5374</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">loaded_files</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">emplace</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">first</a>-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">substr</a>(<a class="code hl_function" href="namespaceafc_1_1click__texttable.html#acb388ff15df60eece94dfd33b4eefe9b">len</a>));</div>
<div class="line"><span class="lineno"> 5375</span> </div>
<div class="line"><span class="lineno"> 5376</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> : <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>)</div>
<div class="line"><span class="lineno"> 5377</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">loaded_files</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">emplace</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">first</a>-&gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">substr</a>(<a class="code hl_function" href="namespaceafc_1_1click__texttable.html#acb388ff15df60eece94dfd33b4eefe9b">len</a>));</div>
<div class="line"><span class="lineno"> 5378</span>    }</div>
<div class="line"><span class="lineno"> 5379</span> </div>
<div class="line"><span class="lineno"> 5380</span>  std::vector&lt;OksRepositoryVersion&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vec</a>;</div>
<div class="line"><span class="lineno"> 5381</span>  OksRepositoryVersion <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>;</div>
<div class="line"><span class="lineno"> 5382</span> </div>
<div class="line"><span class="lineno"> 5383</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5384</span> </div>
<div class="line"><span class="lineno"> 5385</span>  <span class="keywordflow">while</span> (std::getline(s, line))</div>
<div class="line"><span class="lineno"> 5386</span>    {</div>
<div class="line"><span class="lineno"> 5387</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5388</span>        {</div>
<div class="line"><span class="lineno"> 5389</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.clear();</div>
<div class="line"><span class="lineno"> 5390</span> </div>
<div class="line"><span class="lineno"> 5391</span>          std::string::size_type <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a> = 0;</div>
<div class="line"><span class="lineno"> 5392</span>          std::string::size_type <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a> = line.find(<span class="charliteral">&#39;|&#39;</span>);</div>
<div class="line"><span class="lineno"> 5393</span> </div>
<div class="line"><span class="lineno"> 5394</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a> != std::string::npos)</div>
<div class="line"><span class="lineno"> 5395</span>            {</div>
<div class="line"><span class="lineno"> 5396</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.m_commit_hash = line.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a>);</div>
<div class="line"><span class="lineno"> 5397</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a>+1;</div>
<div class="line"><span class="lineno"> 5398</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a> = line.find(<span class="charliteral">&#39;|&#39;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>);</div>
<div class="line"><span class="lineno"> 5399</span> </div>
<div class="line"><span class="lineno"> 5400</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a> != std::string::npos)</div>
<div class="line"><span class="lineno"> 5401</span>                {</div>
<div class="line"><span class="lineno"> 5402</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.m_user = line.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a>-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>);</div>
<div class="line"><span class="lineno"> 5403</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a>+1;</div>
<div class="line"><span class="lineno"> 5404</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a> = line.find(<span class="charliteral">&#39;|&#39;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>);</div>
<div class="line"><span class="lineno"> 5405</span> </div>
<div class="line"><span class="lineno"> 5406</span>                  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a> != std::string::npos)</div>
<div class="line"><span class="lineno"> 5407</span>                    {</div>
<div class="line"><span class="lineno"> 5408</span>                      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.m_date = std::stol(line.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a>-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx1</a>));</div>
<div class="line"><span class="lineno"> 5409</span>                      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.m_comment = line.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx2</a>+1);</div>
<div class="line"><span class="lineno"> 5410</span>                    }</div>
<div class="line"><span class="lineno"> 5411</span>                }</div>
<div class="line"><span class="lineno"> 5412</span>            }</div>
<div class="line"><span class="lineno"> 5413</span> </div>
<div class="line"><span class="lineno"> 5414</span> </div>
<div class="line"><span class="lineno"> 5415</span>          <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.m_comment.empty())</div>
<div class="line"><span class="lineno"> 5416</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5417</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5418</span>            {</div>
<div class="line"><span class="lineno"> 5419</span>              std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 5420</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;unexpected line \&quot;&quot;</span> &lt;&lt; line &lt;&lt; <span class="stringliteral">&quot;\&quot; in output of oks-log.sh:\n&quot;</span> &lt;&lt; output;</div>
<div class="line"><span class="lineno"> 5421</span>              <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;log&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str());</div>
<div class="line"><span class="lineno"> 5422</span>            }</div>
<div class="line"><span class="lineno"> 5423</span>        }</div>
<div class="line"><span class="lineno"> 5424</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5425</span>        {</div>
<div class="line"><span class="lineno"> 5426</span>          <span class="keywordflow">if</span> (line.empty())</div>
<div class="line"><span class="lineno"> 5427</span>            {</div>
<div class="line"><span class="lineno"> 5428</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5429</span> </div>
<div class="line"><span class="lineno"> 5430</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a> &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a35edf2d2912ce6cec4e0b50a4c00306e">check_relevant</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">loaded_files</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>) == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5431</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 5432</span> </div>
<div class="line"><span class="lineno"> 5433</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vec</a>.emplace_back(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>);</div>
<div class="line"><span class="lineno"> 5434</span>            }</div>
<div class="line"><span class="lineno"> 5435</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5436</span>            {</div>
<div class="line"><span class="lineno"> 5437</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>.m_files.push_back(line);</div>
<div class="line"><span class="lineno"> 5438</span>            }</div>
<div class="line"><span class="lineno"> 5439</span>        }</div>
<div class="line"><span class="lineno"> 5440</span>    }</div>
<div class="line"><span class="lineno"> 5441</span> </div>
<div class="line"><span class="lineno"> 5442</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a>)</div>
<div class="line"><span class="lineno"> 5443</span>    {</div>
<div class="line"><span class="lineno"> 5444</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a> == <span class="keyword">false</span> || <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a35edf2d2912ce6cec4e0b50a4c00306e">check_relevant</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">loaded_files</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>))</div>
<div class="line"><span class="lineno"> 5445</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vec</a>.emplace_back(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ver</a>);</div>
<div class="line"><span class="lineno"> 5446</span>    }</div>
<div class="line"><span class="lineno"> 5447</span> </div>
<div class="line"><span class="lineno"> 5448</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">vec</a>;</div>
<div class="line"><span class="lineno"> 5449</span>}</div>
<div class="ttc" id="anamespaceafc_1_1click__texttable_html_acb388ff15df60eece94dfd33b4eefe9b"><div class="ttname"><a href="namespaceafc_1_1click__texttable.html#acb388ff15df60eece94dfd33b4eefe9b">afc.click_texttable.len</a></div><div class="ttdeci">len(iterable)</div><div class="ttdef"><b>Definition</b> <a href="click__texttable_8py_source.html#l00110">click_texttable.py:110</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a35edf2d2912ce6cec4e0b50a4c00306e"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a35edf2d2912ce6cec4e0b50a4c00306e">dunedaq::oks::check_relevant</a></div><div class="ttdeci">static bool check_relevant(const std::set&lt; std::string &gt; &amp;loaded_files, const OksRepositoryVersion &amp;ver)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05321">kernel.cpp:5321</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a791a3e1070c5ddbbf7a0012849a5f8ea" name="a791a3e1070c5ddbbf7a0012849a5f8ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a791a3e1070c5ddbbf7a0012849a5f8ea">&#9670;&#160;</a></span>get_repository_versions_by_date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structdunedaq_1_1oks_1_1OksRepositoryVersion.html">OksRepositoryVersion</a> &gt; dunedaq::oks::OksKernel::get_repository_versions_by_date </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_irrelevant</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>since</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>until</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return repository versions between timestamps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip_irrelevant</td><td>ignore changes not affecting loaded configuration </td></tr>
    <tr><td class="paramname">since</td><td>limit the versions committed on-or-after the specified date/time </td></tr>
    <tr><td class="paramname">until</td><td>limit the versions committed on-or-before the specified date/time</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05488">5488</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5489</span>{</div>
<div class="line"><span class="lineno"> 5490</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>;</div>
<div class="line"><span class="lineno"> 5491</span> </div>
<div class="line"><span class="lineno"> 5492</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>.empty())</div>
<div class="line"><span class="lineno"> 5493</span>    {</div>
<div class="line"><span class="lineno"> 5494</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<span class="stringliteral">&quot; --since &quot;</span>);</div>
<div class="line"><span class="lineno"> 5495</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#a567d451428b6a46812fb999563403631">replace_datetime_spaces</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>));</div>
<div class="line"><span class="lineno"> 5496</span>    }</div>
<div class="line"><span class="lineno"> 5497</span> </div>
<div class="line"><span class="lineno"> 5498</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>.empty())</div>
<div class="line"><span class="lineno"> 5499</span>    {</div>
<div class="line"><span class="lineno"> 5500</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<span class="stringliteral">&quot; --until &quot;</span>);</div>
<div class="line"><span class="lineno"> 5501</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#a567d451428b6a46812fb999563403631">replace_datetime_spaces</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>));</div>
<div class="line"><span class="lineno"> 5502</span>    }</div>
<div class="line"><span class="lineno"> 5503</span> </div>
<div class="line"><span class="lineno"> 5504</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<span class="stringliteral">&quot; origin/master&quot;</span>);</div>
<div class="line"><span class="lineno"> 5505</span> </div>
<div class="line"><span class="lineno"> 5506</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a72fccce5e5a0188a9f1e0bdb630c39d3">get_repository_versions</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>);</div>
<div class="line"><span class="lineno"> 5507</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a72fccce5e5a0188a9f1e0bdb630c39d3"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a72fccce5e5a0188a9f1e0bdb630c39d3">dunedaq::oks::OksKernel::get_repository_versions</a></div><div class="ttdeci">std::vector&lt; OksRepositoryVersion &gt; get_repository_versions(bool skip_irrelevant, const std::string &amp;command_line)</div><div class="ttdoc">Return repository versions.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05331">kernel.cpp:5331</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a567d451428b6a46812fb999563403631"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a567d451428b6a46812fb999563403631">dunedaq::oks::replace_datetime_spaces</a></div><div class="ttdeci">static std::string replace_datetime_spaces(const std::string &amp;in)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05479">kernel.cpp:5479</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf067c060cca0a2b1c025eb15d9fad32" name="abf067c060cca0a2b1c025eb15d9fad32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf067c060cca0a2b1c025eb15d9fad32">&#9670;&#160;</a></span>get_repository_versions_by_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structdunedaq_1_1oks_1_1OksRepositoryVersion.html">OksRepositoryVersion</a> &gt; dunedaq::oks::OksKernel::get_repository_versions_by_hash </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_irrelevant</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>sha1</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>sha2</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return repository versions between hash keys. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip_irrelevant</td><td>ignore changes not affecting loaded configuration </td></tr>
    <tr><td class="paramname">sha1</td><td>limit the versions committed on-or-after the specified hash key; if empty, start from earliest available </td></tr>
    <tr><td class="paramname">sha2</td><td>limit the versions committed on-or-before the specified hash key; if empty, retrieve all versions until "origin/master"</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05452">5452</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5453</span>{</div>
<div class="line"><span class="lineno"> 5454</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>;</div>
<div class="line"><span class="lineno"> 5455</span> </div>
<div class="line"><span class="lineno"> 5456</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>.empty() &amp;&amp; !<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>.empty())</div>
<div class="line"><span class="lineno"> 5457</span>    {</div>
<div class="line"><span class="lineno"> 5458</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.push_back(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 5459</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>);</div>
<div class="line"><span class="lineno"> 5460</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<span class="stringliteral">&quot;..&quot;</span>);</div>
<div class="line"><span class="lineno"> 5461</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>);</div>
<div class="line"><span class="lineno"> 5462</span>    }</div>
<div class="line"><span class="lineno"> 5463</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>.empty())</div>
<div class="line"><span class="lineno"> 5464</span>    {</div>
<div class="line"><span class="lineno"> 5465</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.push_back(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 5466</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">since</a>);</div>
<div class="line"><span class="lineno"> 5467</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<span class="stringliteral">&quot;..origin/master&quot;</span>);</div>
<div class="line"><span class="lineno"> 5468</span>    }</div>
<div class="line"><span class="lineno"> 5469</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>.empty())</div>
<div class="line"><span class="lineno"> 5470</span>    {</div>
<div class="line"><span class="lineno"> 5471</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<span class="stringliteral">&quot; ..&quot;</span>);</div>
<div class="line"><span class="lineno"> 5472</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">until</a>);</div>
<div class="line"><span class="lineno"> 5473</span>    }</div>
<div class="line"><span class="lineno"> 5474</span> </div>
<div class="line"><span class="lineno"> 5475</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a72fccce5e5a0188a9f1e0bdb630c39d3">get_repository_versions</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_irrelevant</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">command_line</a>);</div>
<div class="line"><span class="lineno"> 5476</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a14ac19ae0836d40564fbae295cf2bf18" name="a14ac19ae0836d40564fbae295cf2bf18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ac19ae0836d40564fbae295cf2bf18">&#9670;&#160;</a></span>get_repository_versions_diff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::string &gt; dunedaq::oks::OksKernel::get_repository_versions_diff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>sha1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>sha2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return names of files updated between revisions.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05251">5251</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5252</span>{</div>
<div class="line"><span class="lineno"> 5253</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 5254</span> </div>
<div class="line"><span class="lineno"> 5255</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">OksKernel::get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5256</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;diff&quot;</span>, <span class="stringliteral">&quot;the repository-root is not set (check environment variable TDAQ_DB_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5257</span> </div>
<div class="line"><span class="lineno"> 5258</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5259</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;diff&quot;</span>, <span class="stringliteral">&quot;the user-repository-root is not set (check environment variable TDAQ_DB_USER_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5260</span> </div>
<div class="line"><span class="lineno"> 5261</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-diff.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5262</span> </div>
<div class="line"><span class="lineno"> 5263</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>())</div>
<div class="line"><span class="lineno"> 5264</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -v&quot;</span>);</div>
<div class="line"><span class="lineno"> 5265</span> </div>
<div class="line"><span class="lineno"> 5266</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5267</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5268</span> </div>
<div class="line"><span class="lineno"> 5269</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha1</a>.empty() &amp;&amp; !<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha2</a>.empty())</div>
<div class="line"><span class="lineno"> 5270</span>    {</div>
<div class="line"><span class="lineno"> 5271</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; --sha &quot;</span>);</div>
<div class="line"><span class="lineno"> 5272</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha1</a>);</div>
<div class="line"><span class="lineno"> 5273</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 5274</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sha2</a>);</div>
<div class="line"><span class="lineno"> 5275</span>    }</div>
<div class="line"><span class="lineno"> 5276</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5277</span>    {</div>
<div class="line"><span class="lineno"> 5278</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; --unmerged&quot;</span>);</div>
<div class="line"><span class="lineno"> 5279</span>    }</div>
<div class="line"><span class="lineno"> 5280</span> </div>
<div class="line"><span class="lineno"> 5281</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-diff&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5282</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 5283</span> </div>
<div class="line"><span class="lineno"> 5284</span>  std::string output = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5285</span> </div>
<div class="line"><span class="lineno"> 5286</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 5287</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5288</span>    std::cout &lt;&lt; output &lt;&lt; <span class="stringliteral">&quot;[OKS get_diff] =&gt; done&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5289</span>  }</div>
<div class="line"><span class="lineno"> 5290</span> </div>
<div class="line"><span class="lineno"> 5291</span>  std::istringstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>(output);</div>
<div class="line"><span class="lineno"> 5292</span> </div>
<div class="line"><span class="lineno"> 5293</span>  std::string line;</div>
<div class="line"><span class="lineno"> 5294</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5295</span> </div>
<div class="line"><span class="lineno"> 5296</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">diff_pattern</a> = <span class="stringliteral">&quot;git diff --name-only &quot;</span>;</div>
<div class="line"><span class="lineno"> 5297</span> </div>
<div class="line"><span class="lineno"> 5298</span>  <span class="keywordflow">while</span> (std::getline(s, line))</div>
<div class="line"><span class="lineno"> 5299</span>    <span class="keywordflow">if</span> (line.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">diff_pattern</a>) == 0)</div>
<div class="line"><span class="lineno"> 5300</span>      {</div>
<div class="line"><span class="lineno"> 5301</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5302</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5303</span>      }</div>
<div class="line"><span class="lineno"> 5304</span> </div>
<div class="line"><span class="lineno"> 5305</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5306</span>    {</div>
<div class="line"><span class="lineno"> 5307</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 5308</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot find \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">diff_pattern</a> &lt;&lt; <span class="stringliteral">&quot;\&quot; pattern in output of oks-diff.sh:\n&quot;</span> &lt;&lt; output;</div>
<div class="line"><span class="lineno"> 5309</span>      <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;get_diff&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str());</div>
<div class="line"><span class="lineno"> 5310</span>    }</div>
<div class="line"><span class="lineno"> 5311</span> </div>
<div class="line"><span class="lineno"> 5312</span>  std::list&lt;std::string&gt; result;</div>
<div class="line"><span class="lineno"> 5313</span> </div>
<div class="line"><span class="lineno"> 5314</span>  <span class="keywordflow">while</span> (std::getline(s, line))</div>
<div class="line"><span class="lineno"> 5315</span>    result.push_back(line);</div>
<div class="line"><span class="lineno"> 5316</span> </div>
<div class="line"><span class="lineno"> 5317</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 5318</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8be9a66ded0447a40178b463d8daa77" name="ad8be9a66ded0447a40178b463d8daa77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8be9a66ded0447a40178b463d8daa77">&#9670;&#160;</a></span>get_silence_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::get_silence_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of silence mode. The method returns true, if the silence mode is switched 'On'. In such case the OKS will not print any info, warnings and error messages. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00684">684</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  684</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a928958fedbb686a9d6cf48fc3d0e6e1f" name="a928958fedbb686a9d6cf48fc3d0e6e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928958fedbb686a9d6cf48fc3d0e6e1f">&#9670;&#160;</a></span>get_skip_string_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> bool dunedaq::oks::OksKernel::get_skip_string_range </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of string range validator. </p>
<p>The method returns true, if the check is switched 'Off'. If the check is switched 'On', OKS will validate string value using regexp regular expression, if it is defined for related attribute. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00797">797</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  797</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa5f313975428a5db86a1f15e04affd2a">p_skip_string_range</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a51319cf5a543a3f31c80db7b835ae46a" name="a51319cf5a543a3f31c80db7b835ae46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51319cf5a543a3f31c80db7b835ae46a">&#9670;&#160;</a></span>get_test_duplicated_objects_via_inheritance_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::get_test_duplicated_objects_via_inheritance_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of test inherited duplicated objects mode. The method returns true, if the mode is switched 'On'. In such case the OKS will throw exception when there are objects with equal IDs within class inheritance hierarchy. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00763">763</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  763</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">p_test_duplicated_objects_via_inheritance</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9dcba4f04ab1b532fc9f28380044289" name="ab9dcba4f04ab1b532fc9f28380044289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9dcba4f04ab1b532fc9f28380044289">&#9670;&#160;</a></span>get_tmp_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::get_tmp_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates temporal file name. </p>
<p>Method generates temporal file name by adding numeric suffix to the file_name and testing the file existence.</p>
<dl class="section return"><dt>Returns</dt><dd>Return name of temporal file.</dd></dl>
<p>The method is not thread-safe. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00667">667</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  668</span>{</div>
<div class="line"><span class="lineno">  669</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = 0;</div>
<div class="line"><span class="lineno">  670</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>;</div>
<div class="line"><span class="lineno">  671</span>  std::ostringstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>  <span class="keywordflow">while</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>++ &lt; 1000000) {</div>
<div class="line"><span class="lineno">  674</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.str(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a> &lt;&lt; <span class="charliteral">&#39;.&#39;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0f28238f393433527d5ddd9854707f11">get_user_name</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0e5cdb5dda227374e59d3943c16ffab4">get_host_name</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getpid</a>() &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>;</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.str();</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    std::ofstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>.c_str(), std::ios::in);</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordflow">if</span>(!f) <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s2</a>;</div>
<div class="line"><span class="lineno">  682</span>  }</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s3</a>(<a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>);</div>
<div class="line"><span class="lineno">  685</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s3</a> += <span class="stringliteral">&quot;.tmp&quot;</span>;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s3</a>;</div>
<div class="line"><span class="lineno">  688</span>}</div>
<div class="ttc" id="anamespacedunedaq_html_a314dafe259ca3ab13074ea13176ea86c"><div class="ttname"><a href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">dunedaq::file</a></div><div class="ttdeci">SourceID[&quot; &lt;&lt; sourceid &lt;&lt; &quot;] Command daqdataformats::SourceID Readout Initialization std::string initerror Configuration std::string conferror Configuration std::string conferror Couldn t open binary file</div><div class="ttdef"><b>Definition</b> <a href="DataHandlingIssues_8hpp_source.html#l00060">DataHandlingIssues.hpp:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dd232de023f75ad55daf2035fca5969" name="a8dd232de023f75ad55daf2035fca5969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dd232de023f75ad55daf2035fca5969">&#9670;&#160;</a></span>get_updated_repository_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::get_updated_repository_files </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>updated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>added</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>removed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get repository modified schema files. </p>
<p>The method returns those schema files which corresponding repository files were modified or removed by an external process. The method checks file system status of all OKS schema files loaded and created by the OKS kernel. The file is considered to be updated if it was modified after it was last time saved by the OKS kernel, or modified after it was loaded or created.</p>
<p>The method return parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updated</td><td>pointer to the list of modified schema files </td></tr>
    <tr><td class="paramname">removed</td><td>pointer to the list of removed schema files</td></tr>
  </table>
  </dd>
</dl>
<p>The user is responsible to delete returned pointers after usage.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05548">5548</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5549</span>{</div>
<div class="line"><span class="lineno"> 5550</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 5551</span> </div>
<div class="line"><span class="lineno"> 5552</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">OksKernel::get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5553</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;the repository-root is not set (check environment variable TDAQ_DB_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5554</span> </div>
<div class="line"><span class="lineno"> 5555</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5556</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;the user-repository-root is not set (check environment variable TDAQ_DB_USER_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5557</span> </div>
<div class="line"><span class="lineno"> 5558</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-status.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5559</span> </div>
<div class="line"><span class="lineno"> 5560</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5561</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5562</span> </div>
<div class="line"><span class="lineno"> 5563</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-status&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5564</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 5565</span> </div>
<div class="line"><span class="lineno"> 5566</span>  std::string output = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5567</span> </div>
<div class="line"><span class="lineno"> 5568</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 5569</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5570</span>    std::cout &lt;&lt; output &lt;&lt; <span class="stringliteral">&quot;[OKS get_status] =&gt; done&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5571</span>  }</div>
<div class="line"><span class="lineno"> 5572</span> </div>
<div class="line"><span class="lineno"> 5573</span>  std::istringstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>(output);</div>
<div class="line"><span class="lineno"> 5574</span> </div>
<div class="line"><span class="lineno"> 5575</span>  std::string line;</div>
<div class="line"><span class="lineno"> 5576</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 5577</span> </div>
<div class="line"><span class="lineno"> 5578</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">diff_pattern</a> = <span class="stringliteral">&quot;git status --porcelain&quot;</span>;</div>
<div class="line"><span class="lineno"> 5579</span> </div>
<div class="line"><span class="lineno"> 5580</span>  <span class="keywordflow">while</span> (std::getline(s, line))</div>
<div class="line"><span class="lineno"> 5581</span>    <span class="keywordflow">if</span> (line.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">diff_pattern</a>) == 0)</div>
<div class="line"><span class="lineno"> 5582</span>      {</div>
<div class="line"><span class="lineno"> 5583</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 5584</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5585</span>      }</div>
<div class="line"><span class="lineno"> 5586</span> </div>
<div class="line"><span class="lineno"> 5587</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 5588</span>    {</div>
<div class="line"><span class="lineno"> 5589</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 5590</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot find \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">diff_pattern</a> &lt;&lt; <span class="stringliteral">&quot;\&quot; pattern in output of oks-status.sh:\n&quot;</span> &lt;&lt; output;</div>
<div class="line"><span class="lineno"> 5591</span>      <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;status&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str());</div>
<div class="line"><span class="lineno"> 5592</span>    }</div>
<div class="line"><span class="lineno"> 5593</span> </div>
<div class="line"><span class="lineno"> 5594</span>  std::list&lt;std::string&gt; result;</div>
<div class="line"><span class="lineno"> 5595</span> </div>
<div class="line"><span class="lineno"> 5596</span>  <span class="keywordflow">while</span> (std::getline(s, line))</div>
<div class="line"><span class="lineno"> 5597</span>    {</div>
<div class="line"><span class="lineno"> 5598</span>      <span class="keywordflow">if</span> (line.find(<span class="stringliteral">&quot; D &quot;</span>) == 0)</div>
<div class="line"><span class="lineno"> 5599</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">removed</a>.insert(line.substr(3));</div>
<div class="line"><span class="lineno"> 5600</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line.find(<span class="stringliteral">&quot; M &quot;</span>) == 0)</div>
<div class="line"><span class="lineno"> 5601</span>        updated.insert(line.substr(3));</div>
<div class="line"><span class="lineno"> 5602</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line.find(<span class="stringliteral">&quot;?? &quot;</span>) == 0)</div>
<div class="line"><span class="lineno"> 5603</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">added</a>.insert(line.substr(3));</div>
<div class="line"><span class="lineno"> 5604</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5605</span>        {</div>
<div class="line"><span class="lineno"> 5606</span>          std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 5607</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;unexpected output \&quot;&quot;</span> &lt;&lt; line &lt;&lt; <span class="stringliteral">&quot;\&quot; in output of oks-status.sh:\n&quot;</span> &lt;&lt; output;</div>
<div class="line"><span class="lineno"> 5608</span>          <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;status&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str());</div>
<div class="line"><span class="lineno"> 5609</span>        }</div>
<div class="line"><span class="lineno"> 5610</span>    }</div>
<div class="line"><span class="lineno"> 5611</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f28238f393433527d5ddd9854707f11" name="a0f28238f393433527d5ddd9854707f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f28238f393433527d5ddd9854707f11">&#9670;&#160;</a></span>get_user_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string &amp; dunedaq::oks::OksKernel::get_user_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get username of given process. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00470">470</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_user_name</a>;</div>
<div class="line"><span class="lineno">  473</span>  <span class="keyword">static</span> std::once_flag flag;</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>  std::call_once(flag, []()</div>
<div class="line"><span class="lineno">  476</span>    {</div>
<div class="line"><span class="lineno">  477</span>      <a class="code hl_class" href="classOksSystem_1_1User.html">OksSystem::User</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">myself</a>;</div>
<div class="line"><span class="lineno">  478</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_user_name</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">myself</a>.<a class="code hl_function" href="classOksSystem_1_1User.html#a6ee9a734529544a9d8525532495333ad">name_safe</a>();</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_user_name</a>.empty())</div>
<div class="line"><span class="lineno">  481</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_user_name</a> = <span class="stringliteral">&quot;unknown.user&quot;</span>;</div>
<div class="line"><span class="lineno">  482</span>    }</div>
<div class="line"><span class="lineno">  483</span>  );</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">s_user_name</a>;</div>
<div class="line"><span class="lineno">  486</span>}</div>
<div class="ttc" id="aclassOksSystem_1_1User_html"><div class="ttname"><a href="classOksSystem_1_1User.html">OksSystem::User</a></div><div class="ttdoc">User.</div><div class="ttdef"><b>Definition</b> <a href="User_8hpp_source.html#l00025">User.hpp:25</a></div></div>
<div class="ttc" id="aclassOksSystem_1_1User_html_a6ee9a734529544a9d8525532495333ad"><div class="ttname"><a href="classOksSystem_1_1User.html#a6ee9a734529544a9d8525532495333ad">OksSystem::User::name_safe</a></div><div class="ttdeci">const std::string &amp; name_safe() const</div><div class="ttdoc">username - no exception</div><div class="ttdef"><b>Definition</b> <a href="User_8cpp_source.html#l00204">User.cpp:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09102313f879350a437e7e56b2f351f4" name="a09102313f879350a437e7e56b2f351f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09102313f879350a437e7e56b2f351f4">&#9670;&#160;</a></span>get_user_repository_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp; dunedaq::oks::OksKernel::get_user_repository_root </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get user OKS repository root. </p>
<p>The user repository root is defined by the TDAQ_DB_USER_REPOSITORY environment variable. The method returns an empty string, if the variable is not set or its value is empty. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00372">372</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  373</span>{</div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a>)</div>
<div class="line"><span class="lineno">  375</span>    {</div>
<div class="line"><span class="lineno">  376</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a52759678bd7d15ba5b57eddee62238fe">OksKernel</a> * k(<span class="keyword">const_cast&lt;</span><a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a52759678bd7d15ba5b57eddee62238fe">OksKernel</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  377</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a>) {</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">if</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> * s = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;TDAQ_DB_USER_REPOSITORY&quot;</span>)) {</div>
<div class="line"><span class="lineno">  379</span>          <span class="keywordflow">if</span>(s[0] != 0) {</div>
<div class="line"><span class="lineno">  380</span>            k-&gt;set_user_repository_root(s);</div>
<div class="line"><span class="lineno">  381</span>          }</div>
<div class="line"><span class="lineno">  382</span>        }</div>
<div class="line"><span class="lineno">  383</span>        k-&gt;p_user_repository_root_inited = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  384</span>      }</div>
<div class="line"><span class="lineno">  385</span>    }</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>;</div>
<div class="line"><span class="lineno">  388</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a52759678bd7d15ba5b57eddee62238fe"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a52759678bd7d15ba5b57eddee62238fe">dunedaq::oks::OksKernel::OksKernel</a></div><div class="ttdeci">OksKernel(bool silence_mode=false, bool verbose_mode=false, bool profiling_mode=false, bool allow_repository=true, const char *version=nullptr, std::string branch_name=&quot;&quot;)</div><div class="ttdoc">Constructor to build OksKernel object.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00735">kernel.cpp:735</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bb4a70a6dec8d2fc7d61c506d79f4c3" name="a4bb4a70a6dec8d2fc7d61c506d79f4c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb4a70a6dec8d2fc7d61c506d79f4c3">&#9670;&#160;</a></span>get_verbose_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::get_verbose_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get status of verbose mode. The method returns true, if the verbose mode is switched 'On'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00663">663</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  663</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae102a9949524bb63949b4d0baae58712" name="ae102a9949524bb63949b4d0baae58712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae102a9949524bb63949b4d0baae58712">&#9670;&#160;</a></span>GetOksProfiler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksProfiler.html">OksProfiler</a> * dunedaq::oks::OksKernel::GetOksProfiler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00612">612</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad562e2929c98997a68fe0f83570d3f36" name="ad562e2929c98997a68fe0f83570d3f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad562e2929c98997a68fe0f83570d3f36">&#9670;&#160;</a></span>GetVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> * dunedaq::oks::OksKernel::GetVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get OKS version. The method returns string containing CVS tag and date of OKS build. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00299">299</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  300</span>{</div>
<div class="line"><span class="lineno">  301</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;862f2957270&quot;</span>;</div>
<div class="line"><span class="lineno">  302</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aee096dfea896cd0310f6d99beae4ddca" name="aee096dfea896cd0310f6d99beae4ddca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee096dfea896cd0310f6d99beae4ddca">&#9670;&#160;</a></span>insert_repository_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::insert_repository_dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>push_back</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert repository search directory. </p>
<p>The method trues to insert new repository search directory. If no such directory exists, then the method inserts new directory and returns its fully qualified name. Otherwise method does nothing and return empty string.</p>
<p>The method is not thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>directory name </td></tr>
    <tr><td class="paramname">push_back</td><td>if true, push new directory back; otherwise push directory front </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01400">1400</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1401</span>{</div>
<div class="line"><span class="lineno"> 1402</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>  std::string <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir</a>);</div>
<div class="line"><span class="lineno"> 1405</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a4b9f0b9511be1355ec86bf2cd6354933">Oks::substitute_variables</a>(s);</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1408</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">Oks::real_path</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>    <span class="keywordflow">if</span>(std::find(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.begin(), <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.end(), s) == <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.end()) {</div>
<div class="line"><span class="lineno"> 1411</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a>) <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.push_back(s); <span class="keywordflow">else</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.push_front(s);</div>
<div class="line"><span class="lineno"> 1412</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 1413</span>        std::cout &lt;&lt; <span class="stringliteral">&quot; * push &quot;</span> &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">push_back</a> ? <span class="stringliteral">&quot;back&quot;</span> : <span class="stringliteral">&quot;front&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; repository search directory \&#39;&quot;</span> &lt;&lt; s &lt;&lt; <span class="stringliteral">&quot;\&#39;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1414</span>      }</div>
<div class="line"><span class="lineno"> 1415</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno"> 1416</span>    }</div>
<div class="line"><span class="lineno"> 1417</span>  }</div>
<div class="line"><span class="lineno"> 1418</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 1419</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1) &lt;&lt; <span class="stringliteral">&quot;Cannot insert repository dir \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;:\n\tcaused by: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a> ;</div>
<div class="line"><span class="lineno"> 1420</span>  }</div>
<div class="line"><span class="lineno"> 1421</span> </div>
<div class="line"><span class="lineno"> 1422</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1423</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a141121802945af1a8b92d76def56b4e5" name="a141121802945af1a8b92d76def56b4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141121802945af1a8b92d76def56b4e5">&#9670;&#160;</a></span>is_dangling() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::is_dangling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *&#160;</td>
          <td class="paramname"><em>class_ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check pointer on oks class. </p>
<p>A pointer on class becomes dangling if such class was destroyed, or the schema file which contains it was closed. The method scans through all oks classes and checks if given pointer is valid, i.e. points to an oks class.</p>
<p>If the method is used in the multi-threaded environment, it may be necessary to set read kernel lock before calling the method, in case if another threads can to create or to destroy classes or to open or to close oks schema files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">class_ptr</td><td>a pointer to the oks class to be tested</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return true if the pointer on class is not valid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04640">4640</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4641</span>{</div>
<div class="line"><span class="lineno"> 4642</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a68a477bac82c43302316761adba3bcfa">OksProfiler::KernelIsDanglingClass</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 4643</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">Enter</a> OksKernel::<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a>(<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *)&quot;)</div>
<div class="line"><span class="lineno"> 4644</span> </div>
<div class="line"><span class="lineno"> 4645</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>;</div>
<div class="line"><span class="lineno"> 4646</span> </div>
<div class="line"><span class="lineno"> 4647</span>  {</div>
<div class="line"><span class="lineno"> 4648</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.empty()) {</div>
<div class="line"><span class="lineno"> 4649</span>      <span class="keywordflow">for</span>(OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4650</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second == c) {</div>
<div class="line"><span class="lineno"> 4651</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4652</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4653</span>        }</div>
<div class="line"><span class="lineno"> 4654</span>      }</div>
<div class="line"><span class="lineno"> 4655</span>    }</div>
<div class="line"><span class="lineno"> 4656</span>  }</div>
<div class="line"><span class="lineno"> 4657</span> </div>
<div class="line"><span class="lineno"> 4658</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 4659</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>(<span class="stringliteral">&quot;OksKernel::is_dangling(&quot;</span>);</div>
<div class="line"><span class="lineno"> 4660</span> </div>
<div class="line"><span class="lineno"> 4661</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a>)</div>
<div class="line"><span class="lineno"> 4662</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <span class="stringliteral">&quot;?class?) returns true&quot;</span>;</div>
<div class="line"><span class="lineno"> 4663</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4664</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4665</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name();</div>
<div class="line"><span class="lineno"> 4666</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <span class="stringliteral">&quot;\&quot;) returns false&quot;</span>;</div>
<div class="line"><span class="lineno"> 4667</span>    }</div>
<div class="line"><span class="lineno"> 4668</span> </div>
<div class="line"><span class="lineno"> 4669</span>    <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>.c_str())</div>
<div class="line"><span class="lineno"> 4670</span>  }</div>
<div class="line"><span class="lineno"> 4671</span> </div>
<div class="line"><span class="lineno"> 4672</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a>;</div>
<div class="line"><span class="lineno"> 4673</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a141121802945af1a8b92d76def56b4e5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">dunedaq::oks::OksKernel::is_dangling</a></div><div class="ttdeci">bool is_dangling(OksClass *class_ptr) const</div><div class="ttdoc">Check pointer on oks class.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04640">kernel.cpp:4640</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a68a477bac82c43302316761adba3bcfa"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a68a477bac82c43302316761adba3bcfa">dunedaq::oks::OksProfiler::KernelIsDanglingClass</a></div><div class="ttdeci">@ KernelIsDanglingClass</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00030">profiler.hpp:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8eca47925942e19ae8b4d6630bdd2174" name="a8eca47925942e19ae8b4d6630bdd2174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eca47925942e19ae8b4d6630bdd2174">&#9670;&#160;</a></span>is_dangling() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::is_dangling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *&#160;</td>
          <td class="paramname"><em>obj_ptr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check pointer on oks object. </p>
<p>A pointer on object becomes dangling if such object was destroyed, or the data file which contains it was closed. The method scans through all oks objects and checks if given pointer is valid, i.e. points to an oks object.</p>
<p>If the method is used in the multi-threaded environment, it may be necessary to set read kernel lock before calling the method, in case if another threads can to create or to destroy objects or to open or to close oks data files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj_ptr</td><td>a pointer to the oks object to be tested</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return true if the pointer on object is not valid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04609">4609</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4610</span>{</div>
<div class="line"><span class="lineno"> 4611</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a76ba77c92e3c16c7857a24581148297c">OksProfiler::KernelIsDanglingObject</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 4612</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">Enter</a> OksKernel::<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a>(<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *)&quot;)</div>
<div class="line"><span class="lineno"> 4613</span> </div>
<div class="line"><span class="lineno"> 4614</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a>;</div>
<div class="line"><span class="lineno"> 4615</span> </div>
<div class="line"><span class="lineno"> 4616</span>  {</div>
<div class="line"><span class="lineno"> 4617</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a06159b5ff8335605dc992309a22409ae">p_objects_mutex</a>);</div>
<div class="line"><span class="lineno"> 4618</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a> = (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.find(o) == <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end());</div>
<div class="line"><span class="lineno"> 4619</span>  }</div>
<div class="line"><span class="lineno"> 4620</span> </div>
<div class="line"><span class="lineno"> 4621</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 4622</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>(<span class="stringliteral">&quot;OksKernel::is_dangling(&quot;</span>);</div>
<div class="line"><span class="lineno"> 4623</span> </div>
<div class="line"><span class="lineno"> 4624</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a>)</div>
<div class="line"><span class="lineno"> 4625</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <span class="stringliteral">&quot;?object?) returns true&quot;</span>;</div>
<div class="line"><span class="lineno"> 4626</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4627</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4628</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += o-&gt;GetId();</div>
<div class="line"><span class="lineno"> 4629</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> += <span class="stringliteral">&quot;\&quot;) returns false&quot;</span>;</div>
<div class="line"><span class="lineno"> 4630</span>    }</div>
<div class="line"><span class="lineno"> 4631</span> </div>
<div class="line"><span class="lineno"> 4632</span>    <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>.c_str())</div>
<div class="line"><span class="lineno"> 4633</span>  }</div>
<div class="line"><span class="lineno"> 4634</span> </div>
<div class="line"><span class="lineno"> 4635</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">not_found</a>;</div>
<div class="line"><span class="lineno"> 4636</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a76ba77c92e3c16c7857a24581148297c"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a76ba77c92e3c16c7857a24581148297c">dunedaq::oks::OksProfiler::KernelIsDanglingObject</a></div><div class="ttdeci">@ KernelIsDanglingObject</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00029">profiler.hpp:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e499a770cff76018d8c5fbd43889fe3" name="a3e499a770cff76018d8c5fbd43889fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e499a770cff76018d8c5fbd43889fe3">&#9670;&#160;</a></span>is_user_repository_created()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::is_user_repository_created </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00940">940</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  941</span>    {</div>
<div class="line"><span class="lineno">  942</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a>;</div>
<div class="line"><span class="lineno">  943</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a583921f9ac8f6fcfa281282e86ce84b8" name="a583921f9ac8f6fcfa281282e86ce84b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a583921f9ac8f6fcfa281282e86ce84b8">&#9670;&#160;</a></span>k_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04461">4461</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4462</span>{</div>
<div class="line"><span class="lineno"> 4463</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter for class \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name() &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4464</span> </div>
<div class="line"><span class="lineno"> 4465</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> == 0) {</div>
<div class="line"><span class="lineno"> 4466</span>    <span class="keywordflow">throw</span> CannotAddClass(*c, <span class="stringliteral">&quot;no active schema&quot;</span>);</div>
<div class="line"><span class="lineno"> 4467</span>  }</div>
<div class="line"><span class="lineno"> 4468</span> </div>
<div class="line"><span class="lineno"> 4469</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.find(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().c_str()) != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end()) {</div>
<div class="line"><span class="lineno"> 4470</span>    <span class="keywordflow">throw</span> CannotAddClass(*c, <span class="stringliteral">&quot;class already exists&quot;</span>);</div>
<div class="line"><span class="lineno"> 4471</span>  }</div>
<div class="line"><span class="lineno"> 4472</span> </div>
<div class="line"><span class="lineno"> 4473</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_kernel = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno"> 4474</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_file = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>;</div>
<div class="line"><span class="lineno"> 4475</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_file-&gt;p_is_updated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 4476</span> </div>
<div class="line"><span class="lineno"> 4477</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>[<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().c_str()] = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>;</div>
<div class="line"><span class="lineno"> 4478</span> </div>
<div class="line"><span class="lineno"> 4479</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4480</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40347912eeda877c475e98ec39130df7">registrate_all_classes</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 4481</span>  }</div>
<div class="line"><span class="lineno"> 4482</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4483</span>    <span class="keywordflow">throw</span> CannotAddClass(*c, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 4484</span>  }</div>
<div class="line"><span class="lineno"> 4485</span> </div>
<div class="line"><span class="lineno"> 4486</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">OksClass::create_notify_fn</a>) (*OksClass::create_notify_fn)(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>);</div>
<div class="line"><span class="lineno"> 4487</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a40347912eeda877c475e98ec39130df7"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a40347912eeda877c475e98ec39130df7">dunedaq::oks::OksKernel::registrate_all_classes</a></div><div class="ttdeci">void registrate_all_classes(bool skip_registered=false)</div><div class="ttdoc">The method rebuilds all classes taking into account inheritance.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04501">kernel.cpp:4501</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a988f782010d22e2a8977049627e9f1b7" name="a988f782010d22e2a8977049627e9f1b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988f782010d22e2a8977049627e9f1b7">&#9670;&#160;</a></span>k_bind_objects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_bind_objects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04370">4370</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4371</span>{</div>
<div class="line"><span class="lineno"> 4372</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter&quot;</span>;</div>
<div class="line"><span class="lineno"> 4373</span> </div>
<div class="line"><span class="lineno"> 4374</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>.clear();</div>
<div class="line"><span class="lineno"> 4375</span> </div>
<div class="line"><span class="lineno"> 4376</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.empty()) {</div>
<div class="line"><span class="lineno"> 4377</span>    <span class="keywordflow">for</span>(OksObject::Set::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4378</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4379</span>        (*i)-&gt;bind_objects();</div>
<div class="line"><span class="lineno"> 4380</span>      }</div>
<div class="line"><span class="lineno"> 4381</span>      <span class="keywordflow">catch</span>(ObjectBindError&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4382</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.p_is_error) {</div>
<div class="line"><span class="lineno"> 4383</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 4384</span>    }</div>
<div class="line"><span class="lineno"> 4385</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4386</span>      <span class="keyword">const</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">error_text</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">strchr</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what(), <span class="charliteral">&#39;\n&#39;</span>)+1);</div>
<div class="line"><span class="lineno"> 4387</span>          <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>.empty()) <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>.push_back(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 4388</span>            <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">error_text</a>);</div>
<div class="line"><span class="lineno"> 4389</span> </div>
<div class="line"><span class="lineno"> 4390</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(1) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">error_text</a>;</div>
<div class="line"><span class="lineno"> 4391</span>    }</div>
<div class="line"><span class="lineno"> 4392</span>      }</div>
<div class="line"><span class="lineno"> 4393</span>    }</div>
<div class="line"><span class="lineno"> 4394</span>  }</div>
<div class="line"><span class="lineno"> 4395</span> </div>
<div class="line"><span class="lineno"> 4396</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> &amp;&amp; !<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>.empty()) {</div>
<div class="line"><span class="lineno"> 4397</span>    <a class="code hl_function" href="namespaceers.html#a1f13d0d03ff2e1c3f3b2a9c388a20648">ers::warning</a>(kernel::BindError(<a class="code hl_define" href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a>, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>));</div>
<div class="line"><span class="lineno"> 4398</span>  }</div>
<div class="line"><span class="lineno"> 4399</span> </div>
<div class="line"><span class="lineno"> 4400</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;exit with status:\n&quot;</span> &lt;&lt; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a41302a21b195f3c0222a6cfcdc8aa41f">p_bind_objects_status</a>;</div>
<div class="line"><span class="lineno"> 4401</span>}</div>
<div class="ttc" id="anamespaceers_html_a1f13d0d03ff2e1c3f3b2a9c388a20648"><div class="ttname"><a href="namespaceers.html#a1f13d0d03ff2e1c3f3b2a9c388a20648">ers::warning</a></div><div class="ttdeci">void warning(const Issue &amp;issue)</div><div class="ttdef"><b>Definition</b> <a href="ers_8hpp_source.html#l00115">ers.hpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33c97793bb43245809c330afad3754b5" name="a33c97793bb43245809c330afad3754b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33c97793bb43245809c330afad3754b5">&#9670;&#160;</a></span>k_check_bind_classes_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_check_bind_classes_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05712">5712</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5713</span>{</div>
<div class="line"><span class="lineno"> 5714</span>  std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#a291b829cf1388628b50f25c8a625adcf">out</a>;</div>
<div class="line"><span class="lineno"> 5715</span> </div>
<div class="line"><span class="lineno"> 5716</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; c : <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>)</div>
<div class="line"><span class="lineno"> 5717</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">second</a>-&gt;check_relationships(<a class="code hl_variable" href="namespacedunedaq.html#a291b829cf1388628b50f25c8a625adcf">out</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a>);</div>
<div class="line"><span class="lineno"> 5718</span> </div>
<div class="line"><span class="lineno"> 5719</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a98deca8b0f40dc677caca63479acc0c3">p_bind_classes_status</a> = <a class="code hl_variable" href="namespacedunedaq.html#a291b829cf1388628b50f25c8a625adcf">out</a>.str();</div>
<div class="line"><span class="lineno"> 5720</span>}</div>
<div class="ttc" id="anamespacedunedaq_html_a291b829cf1388628b50f25c8a625adcf"><div class="ttname"><a href="namespacedunedaq.html#a291b829cf1388628b50f25c8a625adcf">dunedaq::out</a></div><div class="ttdeci">FELIX Initialization std::string initerror FELIX queue timed out</div><div class="ttdef"><b>Definition</b> <a href="FelixIssues_8hpp_source.html#l00023">FelixIssues.hpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af1e13422a4423294503a4ec3c86d56e5" name="af1e13422a4423294503a4ec3c86d56e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1e13422a4423294503a4ec3c86d56e5">&#9670;&#160;</a></span>k_checkout_repository()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_checkout_repository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>branch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check out repository files into local user directory. </p>
<p>The method checks out GIT repository files into local user directory. The files have to be loaded from repository defined by TDAQ_DB_REPOSITORY environment. The TDAQ_DB_USER_REPOSITORY environment defines user directory and must be set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>forward parameter to oks-git-checkout.sh </td></tr>
    <tr><td class="paramname">val</td><td>forward value of above parameter to oks-git-checkout.sh </td></tr>
    <tr><td class="paramname">branch</td><td>name of the branch to check out</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04882">4882</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4883</span>{</div>
<div class="line"><span class="lineno"> 4884</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 4885</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;checkout&quot;</span>, <span class="stringliteral">&quot;the repository root is not set&quot;</span>);</div>
<div class="line"><span class="lineno"> 4886</span> </div>
<div class="line"><span class="lineno"> 4887</span>  ReposDirs <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">reps</a>(<span class="stringliteral">&quot;checkout&quot;</span>, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 4888</span> </div>
<div class="line"><span class="lineno"> 4889</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-checkout.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 4890</span> </div>
<div class="line"><span class="lineno"> 4891</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>()) { <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a> += <span class="stringliteral">&quot; -v&quot;</span>; }</div>
<div class="line"><span class="lineno"> 4892</span> </div>
<div class="line"><span class="lineno"> 4893</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 4894</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 4895</span> </div>
<div class="line"><span class="lineno"> 4896</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>.empty())</div>
<div class="line"><span class="lineno"> 4897</span>    {</div>
<div class="line"><span class="lineno"> 4898</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; --&quot;</span>);</div>
<div class="line"><span class="lineno"> 4899</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>);</div>
<div class="line"><span class="lineno"> 4900</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 4901</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 4902</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>);</div>
<div class="line"><span class="lineno"> 4903</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 4904</span>    }</div>
<div class="line"><span class="lineno"> 4905</span> </div>
<div class="line"><span class="lineno"> 4906</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch_name</a>.empty())</div>
<div class="line"><span class="lineno"> 4907</span>    {</div>
<div class="line"><span class="lineno"> 4908</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -b &quot;</span>);</div>
<div class="line"><span class="lineno"> 4909</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">branch_name</a>);</div>
<div class="line"><span class="lineno"> 4910</span>    }</div>
<div class="line"><span class="lineno"> 4911</span> </div>
<div class="line"><span class="lineno"> 4912</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a> = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 4913</span> </div>
<div class="line"><span class="lineno"> 4914</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 4915</span>    {</div>
<div class="line"><span class="lineno"> 4916</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 4917</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS checkout] =&gt; &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4918</span>    }</div>
<div class="line"><span class="lineno"> 4919</span> </div>
<div class="line"><span class="lineno"> 4920</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-checkout&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 4921</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 4922</span> </div>
<div class="line"><span class="lineno"> 4923</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3cdafe18537c1878dc705dc544556023">p_repository_checkout_ts</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a80f9d537ea0cdd55cf07d9e5f0f0836a">p_repository_update_ts</a> = std::time(0);</div>
<div class="line"><span class="lineno"> 4924</span> </div>
<div class="line"><span class="lineno"> 4925</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 4926</span>    {</div>
<div class="line"><span class="lineno"> 4927</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 4928</span>      std::cout &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 4929</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS checkout] =&gt; done in &quot;</span> &lt;&lt; std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(std::chrono::steady_clock::now()-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a>).count() / 1000. &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4930</span>    }</div>
<div class="line"><span class="lineno"> 4931</span> </div>
<div class="line"><span class="lineno"> 4932</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>(<span class="stringliteral">&quot;checkout oks version &quot;</span>);</div>
<div class="line"><span class="lineno"> 4933</span>  std::string <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.last_str();</div>
<div class="line"><span class="lineno"> 4934</span>  std::string::size_type pos = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>);</div>
<div class="line"><span class="lineno"> 4935</span> </div>
<div class="line"><span class="lineno"> 4936</span>  <span class="keywordflow">if</span> (pos == 0)</div>
<div class="line"><span class="lineno"> 4937</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a> = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>.size());</div>
<div class="line"><span class="lineno"> 4938</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4939</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;checkout&quot;</span>, <span class="stringliteral">&quot;cannot read oks version&quot;</span>);</div>
<div class="line"><span class="lineno"> 4940</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b71543197f7a918025083730637e93e" name="a3b71543197f7a918025083730637e93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b71543197f7a918025083730637e93e">&#9670;&#160;</a></span>k_close_dangling_includes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_close_dangling_includes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close files which lost their parent. </p>
<p>When a file is closed or an include is removed, some files may lost their parent and needs to be closed.</p>
<p>The method is not thread-safe. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01963">1963</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1964</span>{</div>
<div class="line"><span class="lineno"> 1965</span>    <span class="comment">// build inclusion graph</span></div>
<div class="line"><span class="lineno"> 1966</span> </div>
<div class="line"><span class="lineno"> 1967</span>  <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksFile.html#a485a58457c8a7358ea1c65b879f11534">OksFile::IMap</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>;</div>
<div class="line"><span class="lineno"> 1968</span> </div>
<div class="line"><span class="lineno"> 1969</span>  <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 1970</span>    <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>) {</div>
<div class="line"><span class="lineno"> 1971</span>      std::string <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 1972</span>      OksFile::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.find(&amp;f);</div>
<div class="line"><span class="lineno"> 1973</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 1974</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second].insert(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 1975</span>      }</div>
<div class="line"><span class="lineno"> 1976</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1977</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;cannot find schema &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> &lt;&lt; <span class="stringliteral">&quot; included by &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1978</span>      }</div>
<div class="line"><span class="lineno"> 1979</span>    }</div>
<div class="line"><span class="lineno"> 1980</span>  }</div>
<div class="line"><span class="lineno"> 1981</span> </div>
<div class="line"><span class="lineno"> 1982</span>  <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 1983</span>    <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>) {</div>
<div class="line"><span class="lineno"> 1984</span>      std::string <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 1985</span>      OksFile::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.find(&amp;f);</div>
<div class="line"><span class="lineno"> 1986</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 1987</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second].insert(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 1988</span>      }</div>
<div class="line"><span class="lineno"> 1989</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1990</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.find(&amp;f);</div>
<div class="line"><span class="lineno"> 1991</span>    </div>
<div class="line"><span class="lineno"> 1992</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 1993</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second].insert(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">it</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 1994</span>        }</div>
<div class="line"><span class="lineno"> 1995</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1996</span>          std::cerr &lt;&lt; <span class="stringliteral">&quot;cannot find file &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> &lt;&lt; <span class="stringliteral">&quot; included by &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1997</span>        }</div>
<div class="line"><span class="lineno"> 1998</span>      }</div>
<div class="line"><span class="lineno"> 1999</span>    }</div>
<div class="line"><span class="lineno"> 2000</span>  }</div>
<div class="line"><span class="lineno"> 2001</span> </div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_schema_files</a>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#af50a2b929cc2958cd32c38e18c48787a">schema_files</a>().<a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a>());</div>
<div class="line"><span class="lineno"> 2004</span> </div>
<div class="line"><span class="lineno"> 2005</span> </div>
<div class="line"><span class="lineno"> 2006</span>    <span class="comment">// calculate files to be closed</span></div>
<div class="line"><span class="lineno"> 2007</span>    </div>
<div class="line"><span class="lineno"> 2008</span>  <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 2009</span>    std::list&lt;OksFile *&gt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#af50a2b929cc2958cd32c38e18c48787a">schema_files</a>, <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a2ca7fdf462816560fbe4d2884285623b">data_files</a>;  <span class="comment">// files to be closed</span></div>
<div class="line"><span class="lineno"> 2010</span>    </div>
<div class="line"><span class="lineno"> 2011</span>    <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[2] = {&amp;<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>, &amp;<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>};</div>
<div class="line"><span class="lineno"> 2012</span>    std::list&lt;OksFile *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">to_be_closed</a>[2];</div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c = 0; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> &lt; 2; ++<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>) {</div>
<div class="line"><span class="lineno"> 2015</span>      <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[c]-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files</a>[<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>]-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2016</span>        <span class="keywordflow">if</span>(<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> = <span class="keyword">const_cast&lt;</span><a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_included_by)) {</div>
<div class="line"><span class="lineno"> 2017</span>          <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_parent</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2018</span> </div>
<div class="line"><span class="lineno"> 2019</span>            <span class="comment">// check, the parent is valid</span></div>
<div class="line"><span class="lineno"> 2020</span> </div>
<div class="line"><span class="lineno"> 2021</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>) != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.end()) {</div>
<div class="line"><span class="lineno"> 2022</span>        OksFile::IMap::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>);</div>
<div class="line"><span class="lineno"> 2023</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aa468682b3daebae06e04c92becbedd2b">test_parent</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>)) {</div>
<div class="line"><span class="lineno"> 2024</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2025</span>        }</div>
<div class="line"><span class="lineno"> 2026</span>          }</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>          <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;the parent of file &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot; is not valid&quot;</span> ;</div>
<div class="line"><span class="lineno"> 2029</span> </div>
<div class="line"><span class="lineno"> 2030</span> </div>
<div class="line"><span class="lineno"> 2031</span>            <span class="comment">// try to find new parent</span></div>
<div class="line"><span class="lineno"> 2032</span> </div>
<div class="line"><span class="lineno"> 2033</span>          <span class="keywordflow">for</span>(OksFile::IMap::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 2034</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aa468682b3daebae06e04c92becbedd2b">test_parent</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>)) {</div>
<div class="line"><span class="lineno"> 2035</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_parent</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2036</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2037</span>        }</div>
<div class="line"><span class="lineno"> 2038</span>          }</div>
<div class="line"><span class="lineno"> 2039</span> </div>
<div class="line"><span class="lineno"> 2040</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_parent</a> == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 2041</span>            <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;the file &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot; is not included by any other file and will be closed&quot;</span> ;</div>
<div class="line"><span class="lineno"> 2042</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">to_be_closed</a>[<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>].push_back(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 2043</span>          }</div>
<div class="line"><span class="lineno"> 2044</span>        }</div>
<div class="line"><span class="lineno"> 2045</span>      }</div>
<div class="line"><span class="lineno"> 2046</span>    }</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num</a> = 0;</div>
<div class="line"><span class="lineno"> 2049</span> </div>
<div class="line"><span class="lineno"> 2050</span>    <span class="keywordflow">for</span>(std::list&lt;OksFile *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">to_be_closed</a>[1].begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">to_be_closed</a>[1].end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2051</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num</a> += (*i)-&gt;p_list_of_include_files.size();</div>
<div class="line"><span class="lineno"> 2052</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a88e8018731602cac5c5a7f0fa560e6">k_close_data</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2053</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.erase(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 2054</span>    }</div>
<div class="line"><span class="lineno"> 2055</span> </div>
<div class="line"><span class="lineno"> 2056</span>    <span class="keywordflow">for</span>(std::list&lt;OksFile *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">to_be_closed</a>[0].begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">to_be_closed</a>[0].end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2057</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num</a> += (*i)-&gt;p_list_of_include_files.size();</div>
<div class="line"><span class="lineno"> 2058</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40536a3c74de02d4c253b48de3930770">k_close_schema</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 2059</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">igraph</a>.erase(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 2060</span>    }</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 2063</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;go into recursive call, number of potentially closed includes is &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num</a> ;</div>
<div class="line"><span class="lineno"> 2064</span>    }</div>
<div class="line"><span class="lineno"> 2065</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2066</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;break loop&quot;</span>;</div>
<div class="line"><span class="lineno"> 2067</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2068</span>    }</div>
<div class="line"><span class="lineno"> 2069</span>  }</div>
<div class="line"><span class="lineno"> 2070</span>  </div>
<div class="line"><span class="lineno"> 2071</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_schema_files</a> != <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#af50a2b929cc2958cd32c38e18c48787a">schema_files</a>().<a class="code hl_variable" href="namespacedunedaq.html#a6a387bfb8b1d0cb5f41f0dd603e08294">size</a>()) {</div>
<div class="line"><span class="lineno"> 2072</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;rebuild classes since number of schema files has been changed from &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_schema_files</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#af50a2b929cc2958cd32c38e18c48787a">schema_files</a>().size() ;</div>
<div class="line"><span class="lineno"> 2073</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40347912eeda877c475e98ec39130df7">registrate_all_classes</a>();</div>
<div class="line"><span class="lineno"> 2074</span>  }</div>
<div class="line"><span class="lineno"> 2075</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a485a58457c8a7358ea1c65b879f11534"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a485a58457c8a7358ea1c65b879f11534">dunedaq::oks::OksFile::IMap</a></div><div class="ttdeci">std::unordered_map&lt; OksFile *, Set, oks::hash_file_ptr, oks::equal_file_ptr &gt; IMap</div><div class="ttdef"><b>Definition</b> <a href="file_8hpp_source.html#l00370">file.hpp:370</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a2ca7fdf462816560fbe4d2884285623b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a2ca7fdf462816560fbe4d2884285623b">dunedaq::oks::OksKernel::data_files</a></div><div class="ttdeci">const OksFile::Map &amp; data_files() const</div><div class="ttdoc">Get all data files.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01491">kernel.hpp:1491</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aa468682b3daebae06e04c92becbedd2b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aa468682b3daebae06e04c92becbedd2b">dunedaq::oks::OksKernel::test_parent</a></div><div class="ttdeci">bool test_parent(OksFile *file, OksFile::IMap::iterator &amp;i)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01945">kernel.cpp:1945</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_af50a2b929cc2958cd32c38e18c48787a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#af50a2b929cc2958cd32c38e18c48787a">dunedaq::oks::OksKernel::schema_files</a></div><div class="ttdeci">const OksFile::Map &amp; schema_files() const</div><div class="ttdoc">Get all schema files.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01221">kernel.hpp:1221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a88e8018731602cac5c5a7f0fa560e6" name="a6a88e8018731602cac5c5a7f0fa560e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a88e8018731602cac5c5a7f0fa560e6">&#9670;&#160;</a></span>k_close_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_close_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unbind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04194">4194</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4195</span>{</div>
<div class="line"><span class="lineno"> 4196</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_close_data&quot;</span>;</div>
<div class="line"><span class="lineno"> 4197</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_full_name, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unbind</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 4198</span> </div>
<div class="line"><span class="lineno"> 4199</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a1dcd3af298e780d61b7aa84b3c9c00b2">OksProfiler::KernelCloseData</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 4200</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ENTER</a> &quot; &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4201</span> </div>
<div class="line"><span class="lineno"> 4202</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">try</a> {</div>
<div class="line"><span class="lineno"> 4203</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;unlock();</div>
<div class="line"><span class="lineno"> 4204</span>  }</div>
<div class="line"><span class="lineno"> 4205</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4206</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4207</span>  }</div>
<div class="line"><span class="lineno"> 4208</span> </div>
<div class="line"><span class="lineno"> 4209</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 4210</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 4211</span>    std::cout &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_included_by ? <span class="stringliteral">&quot; * c&quot;</span> : <span class="stringliteral">&quot;C&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;lose OKS data \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&quot;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4212</span>  }</div>
<div class="line"><span class="lineno"> 4213</span> </div>
<div class="line"><span class="lineno"> 4214</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unbind</a>) {</div>
<div class="line"><span class="lineno"> 4215</span>    <span class="keywordflow">for</span>(OksObject::Set::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4216</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *o = *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>;</div>
<div class="line"><span class="lineno"> 4217</span>      <span class="keywordflow">if</span>(o-&gt;file != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>) o-&gt;unbind_file(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 4218</span>    }</div>
<div class="line"><span class="lineno"> 4219</span>  }</div>
<div class="line"><span class="lineno"> 4220</span> </div>
<div class="line"><span class="lineno"> 4221</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a8a38de67fc48d5c5c2169eda863252cc">p_close_all</a> == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 4222</span>    std::list&lt;OksObject *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a3a09519b0e118ddc83733db9de18a255">create_list_of_data_objects</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 4223</span> </div>
<div class="line"><span class="lineno"> 4224</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>) {</div>
<div class="line"><span class="lineno"> 4225</span>      <span class="keywordflow">while</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 4226</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *o = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>-&gt;front();</div>
<div class="line"><span class="lineno"> 4227</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>-&gt;pop_front();</div>
<div class="line"><span class="lineno"> 4228</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a>(o)) <span class="keyword">delete</span> o;</div>
<div class="line"><span class="lineno"> 4229</span>      }</div>
<div class="line"><span class="lineno"> 4230</span> </div>
<div class="line"><span class="lineno"> 4231</span>      <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">olist</a>;</div>
<div class="line"><span class="lineno"> 4232</span>    }</div>
<div class="line"><span class="lineno"> 4233</span>  }</div>
<div class="line"><span class="lineno"> 4234</span> </div>
<div class="line"><span class="lineno"> 4235</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">remove_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 4236</span>  <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 4237</span> </div>
<div class="line"><span class="lineno"> 4238</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>) <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> = 0;</div>
<div class="line"><span class="lineno"> 4239</span> </div>
<div class="line"><span class="lineno"> 4240</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4241</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a3a09519b0e118ddc83733db9de18a255"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a3a09519b0e118ddc83733db9de18a255">dunedaq::oks::OksKernel::create_list_of_data_objects</a></div><div class="ttdeci">std::list&lt; OksObject * &gt; * create_list_of_data_objects(OksFile *) const</div><div class="ttdoc">Creates list of objects which belong to given file.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04329">kernel.cpp:4329</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_adbb82ac0b9e50c4cd9bc6e4b3bab50dc"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">dunedaq::oks::OksKernel::remove_data_file</a></div><div class="ttdeci">void remove_data_file(OksFile *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03781">kernel.cpp:3781</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a1dcd3af298e780d61b7aa84b3c9c00b2"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a1dcd3af298e780d61b7aa84b3c9c00b2">dunedaq::oks::OksProfiler::KernelCloseData</a></div><div class="ttdeci">@ KernelCloseData</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00027">profiler.hpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a40536a3c74de02d4c253b48de3930770" name="a40536a3c74de02d4c253b48de3930770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40536a3c74de02d4c253b48de3930770">&#9670;&#160;</a></span>k_close_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_close_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02831">2831</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2832</span>{</div>
<div class="line"><span class="lineno"> 2833</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a23b91fb9ecfb81524796e345ae5e2795">OksProfiler::KernelCloseSchema</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 2834</span> </div>
<div class="line"><span class="lineno"> 2835</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">if</a>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>) {</div>
<div class="line"><span class="lineno"> 2836</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(1) &lt;&lt; <span class="stringliteral">&quot;enter for file (null)&quot;</span>;</div>
<div class="line"><span class="lineno"> 2837</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2838</span>  }</div>
<div class="line"><span class="lineno"> 2839</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2840</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;enter for file &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name;</div>
<div class="line"><span class="lineno"> 2841</span>  }</div>
<div class="line"><span class="lineno"> 2842</span> </div>
<div class="line"><span class="lineno"> 2843</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>) <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> = 0;</div>
<div class="line"><span class="lineno"> 2844</span> </div>
<div class="line"><span class="lineno"> 2845</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2846</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a24c05049efffc9fc917cddecc603a367">unlock</a>();</div>
<div class="line"><span class="lineno"> 2847</span>  }</div>
<div class="line"><span class="lineno"> 2848</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2849</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::k_close_schema()&quot;</span>) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2850</span>  }</div>
<div class="line"><span class="lineno"> 2851</span> </div>
<div class="line"><span class="lineno"> 2852</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 2853</span>    std::cout &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_included_by ? <span class="stringliteral">&quot; * c&quot;</span> : <span class="stringliteral">&quot;C&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;lose OKS schema \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&quot;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 2854</span> </div>
<div class="line"><span class="lineno"> 2855</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2856</span> </div>
<div class="line"><span class="lineno"> 2857</span>      <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2858</span>      <span class="comment">// The fastest way to delete classes is delete</span></div>
<div class="line"><span class="lineno"> 2859</span>      <span class="comment">// them in order of superclasses descreasing</span></div>
<div class="line"><span class="lineno"> 2860</span>      <span class="comment">// because this reduces amount of work to restructure</span></div>
<div class="line"><span class="lineno"> 2861</span>      <span class="comment">// child classes when their parent was deleted and</span></div>
<div class="line"><span class="lineno"> 2862</span>      <span class="comment">// there will be no dangling classes</span></div>
<div class="line"><span class="lineno"> 2863</span>      <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2864</span> </div>
<div class="line"><span class="lineno"> 2865</span>    std::set&lt;OksClass *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>;</div>
<div class="line"><span class="lineno"> 2866</span> </div>
<div class="line"><span class="lineno"> 2867</span>    <span class="keywordflow">for</span>(OksClass::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2868</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 2869</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> == <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_file) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.insert(c);</div>
<div class="line"><span class="lineno"> 2870</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_to_be_deleted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2871</span>    }</div>
<div class="line"><span class="lineno"> 2872</span> </div>
<div class="line"><span class="lineno"> 2873</span>    <span class="keywordflow">for</span>(std::set&lt;OksClass *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 2874</span>      <span class="keyword">delete</span> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>;</div>
<div class="line"><span class="lineno"> 2875</span>    }</div>
<div class="line"><span class="lineno"> 2876</span>  }</div>
<div class="line"><span class="lineno"> 2877</span> </div>
<div class="line"><span class="lineno"> 2878</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a8d215f90bf982566d30eea7d44bd597a">remove_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2879</span>  <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>;</div>
<div class="line"><span class="lineno"> 2880</span> </div>
<div class="line"><span class="lineno"> 2881</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;exit for file &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>;</div>
<div class="line"><span class="lineno"> 2882</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a24c05049efffc9fc917cddecc603a367"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a24c05049efffc9fc917cddecc603a367">dunedaq::oks::OksFile::unlock</a></div><div class="ttdeci">void unlock()</div><div class="ttdoc">Unlock OKS file.</div><div class="ttdef"><b>Definition</b> <a href="file_8cpp_source.html#l01143">file.cpp:1143</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a8d215f90bf982566d30eea7d44bd597a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a8d215f90bf982566d30eea7d44bd597a">dunedaq::oks::OksKernel::remove_schema_file</a></div><div class="ttdeci">void remove_schema_file(OksFile *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03787">kernel.cpp:3787</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a23b91fb9ecfb81524796e345ae5e2795"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a23b91fb9ecfb81524796e345ae5e2795">dunedaq::oks::OksProfiler::KernelCloseSchema</a></div><div class="ttdeci">@ KernelCloseSchema</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00023">profiler.hpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9368d2db76298a9acf4de3649cfea535" name="a9368d2db76298a9acf4de3649cfea535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9368d2db76298a9acf4de3649cfea535">&#9670;&#160;</a></span>k_copy_repository()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_copy_repository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04961">4961</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4962</span>{</div>
<div class="line"><span class="lineno"> 4963</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-copy.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 4964</span> </div>
<div class="line"><span class="lineno"> 4965</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>())</div>
<div class="line"><span class="lineno"> 4966</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -v&quot;</span>);</div>
<div class="line"><span class="lineno"> 4967</span> </div>
<div class="line"><span class="lineno"> 4968</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -s &quot;</span>);</div>
<div class="line"><span class="lineno"> 4969</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(source);</div>
<div class="line"><span class="lineno"> 4970</span> </div>
<div class="line"><span class="lineno"> 4971</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -d &quot;</span>);</div>
<div class="line"><span class="lineno"> 4972</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(destination);</div>
<div class="line"><span class="lineno"> 4973</span> </div>
<div class="line"><span class="lineno"> 4974</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -c &quot;</span>);</div>
<div class="line"><span class="lineno"> 4975</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ab1153ff96a7da26b2c74b07de6a24904">get_repository_version</a>());</div>
<div class="line"><span class="lineno"> 4976</span> </div>
<div class="line"><span class="lineno"> 4977</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a> = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 4978</span> </div>
<div class="line"><span class="lineno"> 4979</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 4980</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 4981</span>    <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS copy] =&gt; &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4982</span>  }</div>
<div class="line"><span class="lineno"> 4983</span> </div>
<div class="line"><span class="lineno"> 4984</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-copy&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 4985</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 4986</span> </div>
<div class="line"><span class="lineno"> 4987</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 4988</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 4989</span>    std::cout &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 4990</span>    <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS copy] =&gt; done in &quot;</span> &lt;&lt; std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(std::chrono::steady_clock::now()-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a>).count() / 1000. &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4991</span>  }</div>
<div class="line"><span class="lineno"> 4992</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abcbd7a39f351a35de7866f65d5ae3336" name="abcbd7a39f351a35de7866f65d5ae3336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcbd7a39f351a35de7866f65d5ae3336">&#9670;&#160;</a></span>k_load_data() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::k_load_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>short_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *&#160;</td>
          <td class="paramname"><em>pipeline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03571">3571</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3572</span>{</div>
<div class="line"><span class="lineno"> 3573</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_load_data&quot;</span>;</div>
<div class="line"><span class="lineno"> 3574</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, &amp;bind, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 3575</span> </div>
<div class="line"><span class="lineno"> 3576</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 3577</span> </div>
<div class="line"><span class="lineno"> 3578</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>;</div>
<div class="line"><span class="lineno"> 3579</span> </div>
<div class="line"><span class="lineno"> 3580</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3581</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 3582</span>  }</div>
<div class="line"><span class="lineno"> 3583</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3584</span>    <span class="keywordflow">throw</span> CanNotOpenFile(<span class="stringliteral">&quot;k_load_data&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 3585</span>  }</div>
<div class="line"><span class="lineno"> 3586</span> </div>
<div class="line"><span class="lineno"> 3587</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3588</span> </div>
<div class="line"><span class="lineno"> 3589</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a3b91bb526a41a0a6d37fe3127c1d4bdd">find_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>);</div>
<div class="line"><span class="lineno"> 3590</span> </div>
<div class="line"><span class="lineno"> 3591</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> != 0) {</div>
<div class="line"><span class="lineno"> 3592</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 3593</span>        std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 3594</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a6220722d7e1914036fbda993279a40bc">Oks::warning_msg</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>) &lt;&lt; <span class="stringliteral">&quot;  The file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; was already loaded&quot;</span>;</div>
<div class="line"><span class="lineno"> 3595</span>      }</div>
<div class="line"><span class="lineno"> 3596</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;check_parent(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 3597</span>    }</div>
<div class="line"><span class="lineno"> 3598</span> </div>
<div class="line"><span class="lineno"> 3599</span>    {</div>
<div class="line"><span class="lineno"> 3600</span>      std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>.c_str()));</div>
<div class="line"><span class="lineno"> 3601</span> </div>
<div class="line"><span class="lineno"> 3602</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;good()) {</div>
<div class="line"><span class="lineno"> 3603</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_data(): cannot open file&quot;</span>);</div>
<div class="line"><span class="lineno"> 3604</span>      }</div>
<div class="line"><span class="lineno"> 3605</span> </div>
<div class="line"><span class="lineno"> 3606</span>      <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#a694d2802141c71f8b3da9267f048e20f">get_file_length</a>(*f));</div>
<div class="line"><span class="lineno"> 3607</span>      </div>
<div class="line"><span class="lineno"> 3608</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>) {</div>
<div class="line"><span class="lineno"> 3609</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_data(): file is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 3610</span>      }</div>
<div class="line"><span class="lineno"> 3611</span> </div>
<div class="line"><span class="lineno"> 3612</span>      std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(f));</div>
<div class="line"><span class="lineno"> 3613</span> </div>
<div class="line"><span class="lineno"> 3614</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 3615</span> </div>
<div class="line"><span class="lineno"> 3616</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.empty()) {</div>
<div class="line"><span class="lineno"> 3617</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_data(): failed to read header of file&quot;</span>);</div>
<div class="line"><span class="lineno"> 3618</span>      }</div>
<div class="line"><span class="lineno"> 3619</span> </div>
<div class="line"><span class="lineno"> 3620</span>      <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a>;</div>
<div class="line"><span class="lineno"> 3621</span> </div>
<div class="line"><span class="lineno"> 3622</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.size() == 4 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#afa662d6221da4a2a4baf47eb2c64b2b2">cmp_str4n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;data&quot;</span>))</div>
<div class="line"><span class="lineno"> 3623</span>        <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = <span class="charliteral">&#39;n&#39;</span>;</div>
<div class="line"><span class="lineno"> 3624</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.size() == 8 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a032bc5a393939e00a8a205ffca130310">cmp_str8n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;extended&quot;</span>))</div>
<div class="line"><span class="lineno"> 3625</span>        <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = <span class="charliteral">&#39;X&#39;</span>;</div>
<div class="line"><span class="lineno"> 3626</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.size() == 7 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a2005dd23aef31a66065ff860770003a5">cmp_str7n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;compact&quot;</span>))</div>
<div class="line"><span class="lineno"> 3627</span>        <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = <span class="charliteral">&#39;c&#39;</span>;</div>
<div class="line"><span class="lineno"> 3628</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3629</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_data(): file is not an oks data file&quot;</span>);</div>
<div class="line"><span class="lineno"> 3630</span>      }</div>
<div class="line"><span class="lineno"> 3631</span> </div>
<div class="line"><span class="lineno"> 3632</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#abcbd7a39f351a35de7866f65d5ae3336">k_load_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, format, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>, bind, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>);</div>
<div class="line"><span class="lineno"> 3633</span> </div>
<div class="line"><span class="lineno"> 3634</span>      <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 3635</span> </div>
<div class="line"><span class="lineno"> 3636</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 3637</span>    }</div>
<div class="line"><span class="lineno"> 3638</span>  }</div>
<div class="line"><span class="lineno"> 3639</span>  <span class="keywordflow">catch</span> (FailedLoadFile&amp;) {</div>
<div class="line"><span class="lineno"> 3640</span>    <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 3641</span>  }</div>
<div class="line"><span class="lineno"> 3642</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3643</span>    <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>));</div>
<div class="line"><span class="lineno"> 3644</span>  }</div>
<div class="line"><span class="lineno"> 3645</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3646</span>    <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what()));</div>
<div class="line"><span class="lineno"> 3647</span>  }</div>
<div class="line"><span class="lineno"> 3648</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_abcbd7a39f351a35de7866f65d5ae3336"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#abcbd7a39f351a35de7866f65d5ae3336">dunedaq::oks::OksKernel::k_load_data</a></div><div class="ttdeci">OksFile * k_load_data(const std::string &amp;, bool, const OksFile *, OksPipeline *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03571">kernel.cpp:3571</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1Oks_html_a6220722d7e1914036fbda993279a40bc"><div class="ttname"><a href="classdunedaq_1_1oks_1_1Oks.html#a6220722d7e1914036fbda993279a40bc">dunedaq::oks::Oks::warning_msg</a></div><div class="ttdeci">static std::ostream &amp; warning_msg(const char *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00565">kernel.cpp:565</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a032bc5a393939e00a8a205ffca130310"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a032bc5a393939e00a8a205ffca130310">dunedaq::oks::cmp_str8n</a></div><div class="ttdeci">bool cmp_str8n(const char *s1, const char s2[9])</div><div class="ttdef"><b>Definition</b> <a href="cstring_8hpp_source.html#l00065">cstring.hpp:65</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a2005dd23aef31a66065ff860770003a5"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a2005dd23aef31a66065ff860770003a5">dunedaq::oks::cmp_str7n</a></div><div class="ttdeci">bool cmp_str7n(const char *s1, const char s2[8])</div><div class="ttdef"><b>Definition</b> <a href="cstring_8hpp_source.html#l00057">cstring.hpp:57</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_a694d2802141c71f8b3da9267f048e20f"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#a694d2802141c71f8b3da9267f048e20f">dunedaq::oks::get_file_length</a></div><div class="ttdeci">static long get_file_length(std::ifstream &amp;f)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00492">kernel.cpp:492</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_afa662d6221da4a2a4baf47eb2c64b2b2"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#afa662d6221da4a2a4baf47eb2c64b2b2">dunedaq::oks::cmp_str4n</a></div><div class="ttdeci">bool cmp_str4n(const char *s1, const char s2[4])</div><div class="ttdef"><b>Definition</b> <a href="cstring_8hpp_source.html#l00033">cstring.hpp:33</a></div></div>
<div class="ttc" id="anamespacesend-recv-restcmd_html_a3ed84636e45725f3038c694ecacb062e"><div class="ttname"><a href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">send-recv-restcmd.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition</b> <a href="send-recv-restcmd_8py_source.html#l00018">send-recv-restcmd.py:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a845935fd72af0de86d2da5aa243dab0e" name="a845935fd72af0de86d2da5aa243dab0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845935fd72af0de86d2da5aa243dab0e">&#9670;&#160;</a></span>k_load_data() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_load_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksXmlInputStream.html">OksXmlInputStream</a> &gt;&#160;</td>
          <td class="paramname"><em>xmls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long</a>&#160;</td>
          <td class="paramname"><em>file_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *&#160;</td>
          <td class="paramname"><em>pipeline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03652">3652</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3653</span>{</div>
<div class="line"><span class="lineno"> 3654</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a01b553f586ae0699c5ebc82bafa08742">OksProfiler::KernelLoadData</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 3655</span> </div>
<div class="line"><span class="lineno"> 3656</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_included_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>;</div>
<div class="line"><span class="lineno"> 3657</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">check_read_only</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 3658</span> </div>
<div class="line"><span class="lineno"> 3659</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">try</a> {</div>
<div class="line"><span class="lineno"> 3660</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 3661</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 3662</span>      std::cout &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a> ? <span class="stringliteral">&quot; * r&quot;</span> : <span class="stringliteral">&quot;R&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;eading data file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name()</div>
<div class="line"><span class="lineno"> 3663</span>                &lt;&lt; <span class="stringliteral">&quot;\&quot; in &quot;</span> &lt;&lt; (<a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> == <span class="charliteral">&#39;n&#39;</span> ? <span class="stringliteral">&quot;normal&quot;</span> : (<a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> == <span class="charliteral">&#39;X&#39;</span> ? <span class="stringliteral">&quot;extended&quot;</span> : <span class="stringliteral">&quot;compact&quot;</span>)) &lt;&lt; <span class="stringliteral">&quot; format (&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a> &lt;&lt; <span class="stringliteral">&quot; bytes)...\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3664</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a> == 0 &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_short_file_name()) {</div>
<div class="line"><span class="lineno"> 3665</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;(non-fully-qualified filename was \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_short_file_name() &lt;&lt; <span class="stringliteral">&quot;\&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3666</span>      }</div>
<div class="line"><span class="lineno"> 3667</span>    }</div>
<div class="line"><span class="lineno"> 3668</span> </div>
<div class="line"><span class="lineno"> 3669</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;update_status_of_file();</div>
<div class="line"><span class="lineno"> 3670</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">add_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 3671</span> </div>
<div class="line"><span class="lineno"> 3672</span>    {</div>
<div class="line"><span class="lineno"> 3673</span>      std::unique_ptr&lt;OksPipeline&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline_guard</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a> ? 0 : <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new</a> OksPipeline(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a>));</div>
<div class="line"><span class="lineno"> 3674</span> </div>
<div class="line"><span class="lineno"> 3675</span>      OksPipeline * m_pipeline;</div>
<div class="line"><span class="lineno"> 3676</span> </div>
<div class="line"><span class="lineno"> 3677</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>) {</div>
<div class="line"><span class="lineno"> 3678</span>        m_pipeline = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>;</div>
<div class="line"><span class="lineno"> 3679</span>      }</div>
<div class="line"><span class="lineno"> 3680</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3681</span>        m_pipeline = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline_guard</a>.get();</div>
<div class="line"><span class="lineno"> 3682</span>        <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa0a2ea60d49d61ff118f3bb6722aae8e">p_load_errors</a>.<a class="code hl_function" href="structdunedaq_1_1oks_1_1LoadErrors.html#adcd9041d0ec5f05cf3695a30f6e08756">clear</a>();</div>
<div class="line"><span class="lineno"> 3683</span>      }</div>
<div class="line"><span class="lineno"> 3684</span> </div>
<div class="line"><span class="lineno"> 3685</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a84dd4ad934b863d969c7107cf837fb95">k_load_includes</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, m_pipeline);</div>
<div class="line"><span class="lineno"> 3686</span> </div>
<div class="line"><span class="lineno"> 3687</span> </div>
<div class="line"><span class="lineno"> 3688</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a84a1feb0f10e13050b8867c600eb24df">p_threads_pool_size</a> &gt; 1) {</div>
<div class="line"><span class="lineno"> 3689</span>        m_pipeline-&gt;addJob( <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a3e24d3bdd4b82fbeee070daa90a9fb5a">OksLoadObjectsJob</a>( <span class="keyword">this</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, format) );</div>
<div class="line"><span class="lineno"> 3690</span>      }</div>
<div class="line"><span class="lineno"> 3691</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3692</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a3e24d3bdd4b82fbeee070daa90a9fb5a">OksLoadObjectsJob</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">job</a>(<span class="keyword">this</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, format);</div>
<div class="line"><span class="lineno"> 3693</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">job</a>.run();</div>
<div class="line"><span class="lineno"> 3694</span>      }</div>
<div class="line"><span class="lineno"> 3695</span>    }</div>
<div class="line"><span class="lineno"> 3696</span> </div>
<div class="line"><span class="lineno"> 3697</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>) {</div>
<div class="line"><span class="lineno"> 3698</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa0a2ea60d49d61ff118f3bb6722aae8e">p_load_errors</a>.<a class="code hl_function" href="structdunedaq_1_1oks_1_1LoadErrors.html#a6066ba4f212cb954c894d2d708203874">is_empty</a>()) {</div>
<div class="line"><span class="lineno"> 3699</span>        <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa0a2ea60d49d61ff118f3bb6722aae8e">p_load_errors</a>.<a class="code hl_function" href="structdunedaq_1_1oks_1_1LoadErrors.html#a0bb106ee007542d6dd04a508402629a1">get_text</a>()));</div>
<div class="line"><span class="lineno"> 3700</span>      }</div>
<div class="line"><span class="lineno"> 3701</span> </div>
<div class="line"><span class="lineno"> 3702</span>      <span class="keywordflow">if</span>(bind) {</div>
<div class="line"><span class="lineno"> 3703</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a988f782010d22e2a8977049627e9f1b7">k_bind_objects</a>();</div>
<div class="line"><span class="lineno"> 3704</span>      }</div>
<div class="line"><span class="lineno"> 3705</span>    }</div>
<div class="line"><span class="lineno"> 3706</span>  }</div>
<div class="line"><span class="lineno"> 3707</span>  <span class="keywordflow">catch</span> (FailedLoadFile&amp;) {</div>
<div class="line"><span class="lineno"> 3708</span>    <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 3709</span>  }</div>
<div class="line"><span class="lineno"> 3710</span>  <span class="keywordflow">catch</span> (exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3711</span>    <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>));</div>
<div class="line"><span class="lineno"> 3712</span>  }</div>
<div class="line"><span class="lineno"> 3713</span>  <span class="keywordflow">catch</span> (std::exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3714</span>    <span class="keywordflow">throw</span> (FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what()));</div>
<div class="line"><span class="lineno"> 3715</span>  }</div>
<div class="line"><span class="lineno"> 3716</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a3e24d3bdd4b82fbeee070daa90a9fb5a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a3e24d3bdd4b82fbeee070daa90a9fb5a">dunedaq::oks::OksKernel::OksLoadObjectsJob</a></div><div class="ttdeci">friend struct OksLoadObjectsJob</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00582">kernel.hpp:582</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a43867cc68722cee1fc2d477db077309f"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">dunedaq::oks::OksKernel::add_data_file</a></div><div class="ttdeci">void add_data_file(OksFile *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03769">kernel.cpp:3769</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a84dd4ad934b863d969c7107cf837fb95"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a84dd4ad934b863d969c7107cf837fb95">dunedaq::oks::OksKernel::k_load_includes</a></div><div class="ttdeci">void k_load_includes(const OksFile &amp;, OksPipeline *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01882">kernel.cpp:1882</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aa0a2ea60d49d61ff118f3bb6722aae8e"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aa0a2ea60d49d61ff118f3bb6722aae8e">dunedaq::oks::OksKernel::p_load_errors</a></div><div class="ttdeci">LoadErrors p_load_errors</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02077">kernel.hpp:2077</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a01b553f586ae0699c5ebc82bafa08742"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a01b553f586ae0699c5ebc82bafa08742">dunedaq::oks::OksProfiler::KernelLoadData</a></div><div class="ttdeci">@ KernelLoadData</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00025">profiler.hpp:25</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1LoadErrors_html_a0bb106ee007542d6dd04a508402629a1"><div class="ttname"><a href="structdunedaq_1_1oks_1_1LoadErrors.html#a0bb106ee007542d6dd04a508402629a1">dunedaq::oks::LoadErrors::get_text</a></div><div class="ttdeci">std::string get_text()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03086">kernel.cpp:3086</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1LoadErrors_html_a6066ba4f212cb954c894d2d708203874"><div class="ttname"><a href="structdunedaq_1_1oks_1_1LoadErrors.html#a6066ba4f212cb954c894d2d708203874">dunedaq::oks::LoadErrors::is_empty</a></div><div class="ttdeci">bool is_empty()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00365">kernel.hpp:365</a></div></div>
<div class="ttc" id="astructdunedaq_1_1oks_1_1LoadErrors_html_adcd9041d0ec5f05cf3695a30f6e08756"><div class="ttname"><a href="structdunedaq_1_1oks_1_1LoadErrors.html#adcd9041d0ec5f05cf3695a30f6e08756">dunedaq::oks::LoadErrors::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00366">kernel.hpp:366</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49029392547fe90f29fff85b3fecf6a6" name="a49029392547fe90f29fff85b3fecf6a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49029392547fe90f29fff85b3fecf6a6">&#9670;&#160;</a></span>k_load_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::k_load_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *&#160;</td>
          <td class="paramname"><em>pipeline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01800">1800</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1801</span>{</div>
<div class="line"><span class="lineno"> 1802</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_load_file&quot;</span>;</div>
<div class="line"><span class="lineno"> 1803</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, &amp;bind, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 1804</span> </div>
<div class="line"><span class="lineno"> 1805</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 1806</span> </div>
<div class="line"><span class="lineno"> 1807</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>;</div>
<div class="line"><span class="lineno"> 1808</span> </div>
<div class="line"><span class="lineno"> 1809</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1810</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 1811</span>  }</div>
<div class="line"><span class="lineno"> 1812</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1813</span>    <span class="keywordflow">throw</span> CanNotOpenFile(<span class="stringliteral">&quot;k_load_file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 1814</span>  }</div>
<div class="line"><span class="lineno"> 1815</span> </div>
<div class="line"><span class="lineno"> 1816</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1817</span> </div>
<div class="line"><span class="lineno"> 1818</span>      <span class="comment">// check if the file is already loaded</span></div>
<div class="line"><span class="lineno"> 1819</span> </div>
<div class="line"><span class="lineno"> 1820</span>    OksFile::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>);</div>
<div class="line"><span class="lineno"> 1821</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end()) <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;check_parent(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 1822</span> </div>
<div class="line"><span class="lineno"> 1823</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>);</div>
<div class="line"><span class="lineno"> 1824</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end()) <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;check_parent(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 1825</span> </div>
<div class="line"><span class="lineno"> 1826</span>    std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>.c_str()));</div>
<div class="line"><span class="lineno"> 1827</span> </div>
<div class="line"><span class="lineno"> 1828</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;good()) {</div>
<div class="line"><span class="lineno"> 1829</span>      <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#a694d2802141c71f8b3da9267f048e20f">get_file_length</a>(*f));</div>
<div class="line"><span class="lineno"> 1830</span>      </div>
<div class="line"><span class="lineno"> 1831</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>) {</div>
<div class="line"><span class="lineno"> 1832</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_file(): file is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 1833</span>      }</div>
<div class="line"><span class="lineno"> 1834</span> </div>
<div class="line"><span class="lineno"> 1835</span>        <span class="comment">// read file header and decide what to load</span></div>
<div class="line"><span class="lineno"> 1836</span> </div>
<div class="line"><span class="lineno"> 1837</span>      std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(f));</div>
<div class="line"><span class="lineno"> 1838</span> </div>
<div class="line"><span class="lineno"> 1839</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1840</span> </div>
<div class="line"><span class="lineno"> 1841</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.size() == 6 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#af589bf8c4c0f1d07cdf24cc25b553f27">cmp_str6n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;schema&quot;</span>)) {</div>
<div class="line"><span class="lineno"> 1842</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a9ec76e21d99032a77b340ab0dcea085b">k_load_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 1843</span>      }</div>
<div class="line"><span class="lineno"> 1844</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1845</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a>;</div>
<div class="line"><span class="lineno"> 1846</span> </div>
<div class="line"><span class="lineno"> 1847</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.size() == 4 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#afa662d6221da4a2a4baf47eb2c64b2b2">cmp_str4n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;data&quot;</span>))</div>
<div class="line"><span class="lineno"> 1848</span>          <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = <span class="charliteral">&#39;n&#39;</span>;</div>
<div class="line"><span class="lineno"> 1849</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.size() == 8 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a032bc5a393939e00a8a205ffca130310">cmp_str8n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;extended&quot;</span>))</div>
<div class="line"><span class="lineno"> 1850</span>          <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = <span class="charliteral">&#39;X&#39;</span>;</div>
<div class="line"><span class="lineno"> 1851</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.size() == 7 &amp;&amp; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a2005dd23aef31a66065ff860770003a5">cmp_str7n</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format.c_str(), <span class="stringliteral">&quot;compact&quot;</span>))</div>
<div class="line"><span class="lineno"> 1852</span>          <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = <span class="charliteral">&#39;c&#39;</span>;</div>
<div class="line"><span class="lineno"> 1853</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1854</span>          <span class="keyword">delete</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>;</div>
<div class="line"><span class="lineno"> 1855</span>          <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_file(): failed to parse header&quot;</span>);</div>
<div class="line"><span class="lineno"> 1856</span>        }</div>
<div class="line"><span class="lineno"> 1857</span> </div>
<div class="line"><span class="lineno"> 1858</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#abcbd7a39f351a35de7866f65d5ae3336">k_load_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, format, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a>, bind, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>);</div>
<div class="line"><span class="lineno"> 1859</span>      }</div>
<div class="line"><span class="lineno"> 1860</span> </div>
<div class="line"><span class="lineno"> 1861</span>      <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 1862</span> </div>
<div class="line"><span class="lineno"> 1863</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>;</div>
<div class="line"><span class="lineno"> 1864</span>    }</div>
<div class="line"><span class="lineno"> 1865</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1866</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_file(): cannot open file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1867</span>    }</div>
<div class="line"><span class="lineno"> 1868</span>  }</div>
<div class="line"><span class="lineno"> 1869</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1870</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 1871</span>  }</div>
<div class="line"><span class="lineno"> 1872</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1873</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 1874</span>  }</div>
<div class="line"><span class="lineno"> 1875</span>  <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 1876</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <span class="stringliteral">&quot;caught unknown exception&quot;</span>);</div>
<div class="line"><span class="lineno"> 1877</span>  }</div>
<div class="line"><span class="lineno"> 1878</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a9ec76e21d99032a77b340ab0dcea085b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a9ec76e21d99032a77b340ab0dcea085b">dunedaq::oks::OksKernel::k_load_schema</a></div><div class="ttdeci">OksFile * k_load_schema(const std::string &amp;, const OksFile *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02308">kernel.cpp:2308</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_af589bf8c4c0f1d07cdf24cc25b553f27"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#af589bf8c4c0f1d07cdf24cc25b553f27">dunedaq::oks::cmp_str6n</a></div><div class="ttdeci">bool cmp_str6n(const char *s1, const char s2[6])</div><div class="ttdef"><b>Definition</b> <a href="cstring_8hpp_source.html#l00049">cstring.hpp:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84dd4ad934b863d969c7107cf837fb95" name="a84dd4ad934b863d969c7107cf837fb95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84dd4ad934b863d969c7107cf837fb95">&#9670;&#160;</a></span>k_load_includes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_load_includes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> &amp;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksPipeline.html">OksPipeline</a> *&#160;</td>
          <td class="paramname"><em>pipeline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01882">1882</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1883</span>{</div>
<div class="line"><span class="lineno"> 1884</span>  <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 1885</span>    <span class="keywordflow">if</span>(!(*i).empty()) {</div>
<div class="line"><span class="lineno"> 1886</span>      <span class="comment">//if(f.get_repository() != OksFile::NoneRepository) {</span></div>
<div class="line"><span class="lineno"> 1887</span>      <span class="keywordflow">if</span>(!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().empty()) {</div>
<div class="line"><span class="lineno"> 1888</span>        <span class="keywordflow">if</span>((*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)[0] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1889</span>          <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;include&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <span class="stringliteral">&quot;inclusion of files with absolute pathname (like \&quot;/foo/bar\&quot;) is not allowed by repository files; include files relative to repository root (like \&quot;foo/bar\&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1890</span>        }</div>
<div class="line"><span class="lineno"> 1891</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)[0] == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1892</span>          <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;include&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <span class="stringliteral">&quot;inclusion of files with file-related relative pathnames (like \&quot;../foo/bar\&quot; or \&quot;./bar\&quot;) is not supported by repository files; include files relative to repository root (like \&quot;foo/bar\&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1893</span>        }</div>
<div class="line"><span class="lineno"> 1894</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*i).find(<span class="charliteral">&#39;/&#39;</span>) == std::string::npos) {</div>
<div class="line"><span class="lineno"> 1895</span>          <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;include&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <span class="stringliteral">&quot;inclusion of files with file-related local pathnames (like \&quot;bar\&quot;) is not supported by repository files; include files relative to repository root (like \&quot;foo/bar\&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1896</span>        }</div>
<div class="line"><span class="lineno"> 1897</span>      }</div>
<div class="line"><span class="lineno"> 1898</span> </div>
<div class="line"><span class="lineno"> 1899</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1900</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a49029392547fe90f29fff85b3fecf6a6">k_load_file</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <span class="keyword">false</span>, &amp;f, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pipeline</a>);</div>
<div class="line"><span class="lineno"> 1901</span>      }</div>
<div class="line"><span class="lineno"> 1902</span>      <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1903</span>        <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;include&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 1904</span>      }</div>
<div class="line"><span class="lineno"> 1905</span>      <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 1906</span>        <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;include&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 1907</span>      }</div>
<div class="line"><span class="lineno"> 1908</span>    }</div>
<div class="line"><span class="lineno"> 1909</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1910</span>      <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;include&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <span class="stringliteral">&quot;empty filename&quot;</span>);</div>
<div class="line"><span class="lineno"> 1911</span>    }</div>
<div class="line"><span class="lineno"> 1912</span>  }</div>
<div class="line"><span class="lineno"> 1913</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a49029392547fe90f29fff85b3fecf6a6"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a49029392547fe90f29fff85b3fecf6a6">dunedaq::oks::OksKernel::k_load_file</a></div><div class="ttdeci">OksFile * k_load_file(const std::string &amp;name, bool bind, const OksFile *parent, OksPipeline *pipeline)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01800">kernel.cpp:1800</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ec76e21d99032a77b340ab0dcea085b" name="a9ec76e21d99032a77b340ab0dcea085b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ec76e21d99032a77b340ab0dcea085b">&#9670;&#160;</a></span>k_load_schema() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::k_load_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>short_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02308">2308</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2309</span>{</div>
<div class="line"><span class="lineno"> 2310</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_load_schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2311</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <span class="keyword">nullptr</span>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 2312</span> </div>
<div class="line"><span class="lineno"> 2313</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2314</span> </div>
<div class="line"><span class="lineno"> 2315</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>;</div>
<div class="line"><span class="lineno"> 2316</span> </div>
<div class="line"><span class="lineno"> 2317</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2318</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 2319</span>  }</div>
<div class="line"><span class="lineno"> 2320</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2321</span>    <span class="keywordflow">throw</span> CanNotOpenFile(<span class="stringliteral">&quot;k_load_schema&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 2322</span>  }</div>
<div class="line"><span class="lineno"> 2323</span> </div>
<div class="line"><span class="lineno"> 2324</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2325</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a752af55e3df2503d519e1ac93a125c7c">find_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>);</div>
<div class="line"><span class="lineno"> 2326</span> </div>
<div class="line"><span class="lineno"> 2327</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> != 0) {</div>
<div class="line"><span class="lineno"> 2328</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 2329</span>        std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 2330</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a6220722d7e1914036fbda993279a40bc">Oks::warning_msg</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>) &lt;&lt; <span class="stringliteral">&quot;  The file was already loaded\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2331</span>      }</div>
<div class="line"><span class="lineno"> 2332</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;check_parent(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 2333</span>    }</div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>    {</div>
<div class="line"><span class="lineno"> 2336</span>      std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>.c_str()));</div>
<div class="line"><span class="lineno"> 2337</span> </div>
<div class="line"><span class="lineno"> 2338</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;good()) {</div>
<div class="line"><span class="lineno"> 2339</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_schema(): cannot open file&quot;</span>);</div>
<div class="line"><span class="lineno"> 2340</span>      }</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>      std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(f));</div>
<div class="line"><span class="lineno"> 2343</span> </div>
<div class="line"><span class="lineno"> 2344</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2345</span> </div>
<div class="line"><span class="lineno"> 2346</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.empty()) {</div>
<div class="line"><span class="lineno"> 2347</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_schema(): failed to read header of file&quot;</span>);</div>
<div class="line"><span class="lineno"> 2348</span>      }</div>
<div class="line"><span class="lineno"> 2349</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format != <span class="stringliteral">&quot;schema&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2350</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_schema(): file is not oks schema file&quot;</span>);</div>
<div class="line"><span class="lineno"> 2351</span>      }</div>
<div class="line"><span class="lineno"> 2352</span> </div>
<div class="line"><span class="lineno"> 2353</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a9ec76e21d99032a77b340ab0dcea085b">k_load_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 2354</span> </div>
<div class="line"><span class="lineno"> 2355</span>      <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2356</span> </div>
<div class="line"><span class="lineno"> 2357</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 2358</span>    }</div>
<div class="line"><span class="lineno"> 2359</span>  }</div>
<div class="line"><span class="lineno"> 2360</span>  <span class="keywordflow">catch</span> (FailedLoadFile &amp;) {</div>
<div class="line"><span class="lineno"> 2361</span>    <span class="keywordflow">throw</span>; <span class="comment">//forward</span></div>
<div class="line"><span class="lineno"> 2362</span>  }</div>
<div class="line"><span class="lineno"> 2363</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2364</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 2365</span>  }</div>
<div class="line"><span class="lineno"> 2366</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2367</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 2368</span>  }</div>
<div class="line"><span class="lineno"> 2369</span>  <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2370</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>, <span class="stringliteral">&quot;caught unknown exception&quot;</span>);</div>
<div class="line"><span class="lineno"> 2371</span>  }</div>
<div class="line"><span class="lineno"> 2372</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac20821483843fcbb92501c16530089a9" name="ac20821483843fcbb92501c16530089a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20821483843fcbb92501c16530089a9">&#9670;&#160;</a></span>k_load_schema() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_load_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksXmlInputStream.html">OksXmlInputStream</a> &gt;&#160;</td>
          <td class="paramname"><em>xmls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02376">2376</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2377</span>{</div>
<div class="line"><span class="lineno"> 2378</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a0db8a2810ee7c97987af4ea5822be9f6">OksProfiler::KernelLoadSchema</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 2379</span> </div>
<div class="line"><span class="lineno"> 2380</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_included_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>;</div>
<div class="line"><span class="lineno"> 2381</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">check_read_only</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 2382</span> </div>
<div class="line"><span class="lineno"> 2383</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">try</a> {</div>
<div class="line"><span class="lineno"> 2384</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 2385</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 2386</span>      std::cout &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a> ? <span class="stringliteral">&quot; * loading &quot;</span> : <span class="stringliteral">&quot;Loading &quot;</span>) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_number_of_items &lt;&lt; <span class="stringliteral">&quot; classes from file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot;\&quot;...\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2387</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a> == 0 &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_short_file_name()) {</div>
<div class="line"><span class="lineno"> 2388</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;(non-fully-qualified filename was \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_short_file_name() &lt;&lt; <span class="stringliteral">&quot;\&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2389</span>      }</div>
<div class="line"><span class="lineno"> 2390</span>    }</div>
<div class="line"><span class="lineno"> 2391</span> </div>
<div class="line"><span class="lineno"> 2392</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a84dd4ad934b863d969c7107cf837fb95">k_load_includes</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>, 0);</div>
<div class="line"><span class="lineno"> 2393</span> </div>
<div class="line"><span class="lineno"> 2394</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ad4e44d178e13a22360d2341e5798d601">add_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>    std::list&lt;OksClass *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set</a>;</div>
<div class="line"><span class="lineno"> 2397</span> </div>
<div class="line"><span class="lineno"> 2398</span>    <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 2399</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = 0;</div>
<div class="line"><span class="lineno"> 2400</span> </div>
<div class="line"><span class="lineno"> 2401</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2402</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2403</span>      }</div>
<div class="line"><span class="lineno"> 2404</span>      <span class="keywordflow">catch</span>(EndOfXmlStream &amp;) {</div>
<div class="line"><span class="lineno"> 2405</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>;</div>
<div class="line"><span class="lineno"> 2406</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2407</span>      }</div>
<div class="line"><span class="lineno"> 2408</span> </div>
<div class="line"><span class="lineno"> 2409</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().empty()) {</div>
<div class="line"><span class="lineno"> 2410</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_schema(): failed to read a class&quot;</span>);</div>
<div class="line"><span class="lineno"> 2411</span>      }</div>
<div class="line"><span class="lineno"> 2412</span> </div>
<div class="line"><span class="lineno"> 2413</span>      OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ic</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.find(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().c_str());</div>
<div class="line"><span class="lineno"> 2414</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ic</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end()) {</div>
<div class="line"><span class="lineno"> 2415</span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">are_different</a> = (*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ic</a>-&gt;second != *<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>);</div>
<div class="line"><span class="lineno"> 2416</span> </div>
<div class="line"><span class="lineno"> 2417</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_transient = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2418</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>;</div>
<div class="line"><span class="lineno"> 2419</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ic</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 2420</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a> &amp;&amp; !<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">are_different</a>) {</div>
<div class="line"><span class="lineno"> 2421</span>          <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ers_report</a> = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">getenv</a>(<span class="stringliteral">&quot;OKS_KERNEL_ERS_REPORT_DUPLICATED_CLASSES&quot;</span>) != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2422</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ers_report</a>) {</div>
<div class="line"><span class="lineno"> 2423</span>            <a class="code hl_function" href="namespaceers.html#a1f13d0d03ff2e1c3f3b2a9c388a20648">ers::warning</a>(kernel::ClassAlreadyDefined(<a class="code hl_define" href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a>,<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name(),<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(),<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_file-&gt;get_full_file_name()));</div>
<div class="line"><span class="lineno"> 2424</span>          }</div>
<div class="line"><span class="lineno"> 2425</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2426</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_load_schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2427</span>            std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 2428</span>            <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a6220722d7e1914036fbda993279a40bc">Oks::warning_msg</a>(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <span class="keyword">nullptr</span>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>))</div>
<div class="line"><span class="lineno"> 2429</span>              &lt;&lt; <span class="stringliteral">&quot;  Class \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name() &lt;&lt; <span class="stringliteral">&quot;\&quot; was already loaded from file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_file()-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot;\&#39;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2430</span>          }</div>
<div class="line"><span class="lineno"> 2431</span>        }</div>
<div class="line"><span class="lineno"> 2432</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2433</span>          std::stringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 2434</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">are_different</a> ? <span class="stringliteral">&quot;different &quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;class \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name() &lt;&lt; <span class="stringliteral">&quot;\&quot; was already loaded from file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_file()-&gt;get_full_file_name() &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2435</span>          <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 2436</span>        }</div>
<div class="line"><span class="lineno"> 2437</span>      }</div>
<div class="line"><span class="lineno"> 2438</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2439</span>        {</div>
<div class="line"><span class="lineno"> 2440</span>          std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae97100aa2f2c13a8c80d9c4e99456b27">p_schema_mutex</a>);  <span class="comment">// protect schema and all objects from changes</span></div>
<div class="line"><span class="lineno"> 2441</span>          <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>[<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().c_str()] = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>;</div>
<div class="line"><span class="lineno"> 2442</span>        }</div>
<div class="line"><span class="lineno"> 2443</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_file = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 2444</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">OksClass::create_notify_fn</a>) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set</a>.push_back(c);</div>
<div class="line"><span class="lineno"> 2445</span>      }</div>
<div class="line"><span class="lineno"> 2446</span>    }</div>
<div class="line"><span class="lineno"> 2447</span> </div>
<div class="line"><span class="lineno"> 2448</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_size = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>-&gt;get_position();</div>
<div class="line"><span class="lineno"> 2449</span> </div>
<div class="line"><span class="lineno"> 2450</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40347912eeda877c475e98ec39130df7">registrate_all_classes</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2451</span> </div>
<div class="line"><span class="lineno"> 2452</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">OksClass::create_notify_fn</a>)</div>
<div class="line"><span class="lineno"> 2453</span>      <span class="keywordflow">for</span>(std::list&lt;OksClass *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a>)</div>
<div class="line"><span class="lineno"> 2454</span>        (*<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">OksClass::create_notify_fn</a>)(*i2);</div>
<div class="line"><span class="lineno"> 2455</span> </div>
<div class="line"><span class="lineno"> 2456</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#ab71059816d826d5403379b32a094433d">OksClass::change_notify_fn</a>) {</div>
<div class="line"><span class="lineno"> 2457</span>      std::set&lt;OksClass *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set2</a>;</div>
<div class="line"><span class="lineno"> 2458</span> </div>
<div class="line"><span class="lineno"> 2459</span>      <span class="keywordflow">for</span>(std::list&lt;OksClass *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a>) {</div>
<div class="line"><span class="lineno"> 2460</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a> = *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a>;</div>
<div class="line"><span class="lineno"> 2461</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes &amp;&amp; !<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 2462</span>          <span class="keywordflow">for</span>(OksClass::FList::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i3</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i3</a> != <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i3</a>) {</div>
<div class="line"><span class="lineno"> 2463</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set2</a>.find(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i3</a>) == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set2</a>.end()) {</div>
<div class="line"><span class="lineno"> 2464</span>              (*OksClass::change_notify_fn)(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i3</a>, <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksClass.html#aee33f707ba1880e9c28138e884ae8951adc884460c18ffce2d916722a0a7a5610">OksClass::ChangeSuperClassesList</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span> *)(&amp;(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_name)));</div>
<div class="line"><span class="lineno"> 2465</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">set2</a>.insert(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i3</a>);</div>
<div class="line"><span class="lineno"> 2466</span>            }</div>
<div class="line"><span class="lineno"> 2467</span>          }</div>
<div class="line"><span class="lineno"> 2468</span>        }</div>
<div class="line"><span class="lineno"> 2469</span>      }</div>
<div class="line"><span class="lineno"> 2470</span>    }</div>
<div class="line"><span class="lineno"> 2471</span> </div>
<div class="line"><span class="lineno"> 2472</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;update_status_of_file();</div>
<div class="line"><span class="lineno"> 2473</span>  }</div>
<div class="line"><span class="lineno"> 2474</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2475</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 2476</span>  }</div>
<div class="line"><span class="lineno"> 2477</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2478</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 2479</span>  }</div>
<div class="line"><span class="lineno"> 2480</span>  <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2481</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <span class="stringliteral">&quot;caught unknown exception&quot;</span>);</div>
<div class="line"><span class="lineno"> 2482</span>  }</div>
<div class="line"><span class="lineno"> 2483</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_aee33f707ba1880e9c28138e884ae8951adc884460c18ffce2d916722a0a7a5610"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#aee33f707ba1880e9c28138e884ae8951adc884460c18ffce2d916722a0a7a5610">dunedaq::oks::OksClass::ChangeSuperClassesList</a></div><div class="ttdeci">@ ChangeSuperClassesList</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00891">class.hpp:891</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ad4e44d178e13a22360d2341e5798d601"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ad4e44d178e13a22360d2341e5798d601">dunedaq::oks::OksKernel::add_schema_file</a></div><div class="ttdeci">void add_schema_file(OksFile *)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03775">kernel.cpp:3775</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ae97100aa2f2c13a8c80d9c4e99456b27"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ae97100aa2f2c13a8c80d9c4e99456b27">dunedaq::oks::OksKernel::p_schema_mutex</a></div><div class="ttdeci">std::shared_mutex p_schema_mutex</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l02043">kernel.hpp:2043</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a0db8a2810ee7c97987af4ea5822be9f6"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a0db8a2810ee7c97987af4ea5822be9f6">dunedaq::oks::OksProfiler::KernelLoadSchema</a></div><div class="ttdeci">@ KernelLoadSchema</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00021">profiler.hpp:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6eab6ca06d65feece11b903c1cc7c1d" name="ae6eab6ca06d65feece11b903c1cc7c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6eab6ca06d65feece11b903c1cc7c1d">&#9670;&#160;</a></span>k_preload_includes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::k_preload_includes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_schema_extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02079">2079</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2080</span>{</div>
<div class="line"><span class="lineno"> 2081</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_include_changes</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2082</span> </div>
<div class="line"><span class="lineno"> 2083</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2084</span>    std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>(<span class="keyword">new</span> std::ifstream(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name().c_str()));</div>
<div class="line"><span class="lineno"> 2085</span> </div>
<div class="line"><span class="lineno"> 2086</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;good()) {</div>
<div class="line"><span class="lineno"> 2087</span>      <span class="keywordflow">throw</span> std::runtime_error(std::string(<span class="stringliteral">&quot;k_preload_includes(): cannot open file \&quot;&quot;</span>) + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() + <span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 2088</span>    }</div>
<div class="line"><span class="lineno"> 2089</span> </div>
<div class="line"><span class="lineno"> 2090</span>      <span class="comment">// keep included files</span></div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>    std::set&lt;std::string&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">included</a>;</div>
<div class="line"><span class="lineno"> 2093</span> </div>
<div class="line"><span class="lineno"> 2094</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.size()) {</div>
<div class="line"><span class="lineno"> 2095</span>      <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2096</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">included</a>.insert(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 2097</span>      }</div>
<div class="line"><span class="lineno"> 2098</span>    }</div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>      <span class="comment">// get size of file and check that it is not empty</span></div>
<div class="line"><span class="lineno"> 2101</span> </div>
<div class="line"><span class="lineno"> 2102</span>    <a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;seekg(0, std::ios::end);</div>
<div class="line"><span class="lineno"> 2103</span> </div>
<div class="line"><span class="lineno"> 2104</span>    <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a> = <span class="keyword">static_cast&lt;</span>std::streamoff<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;tellg());</div>
<div class="line"><span class="lineno"> 2105</span> </div>
<div class="line"><span class="lineno"> 2106</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_length</a> == 0) {</div>
<div class="line"><span class="lineno"> 2107</span>      <span class="keywordflow">throw</span> std::runtime_error(std::string(<span class="stringliteral">&quot;k_preload_includes(): file \&quot;&quot;</span>) + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() + <span class="stringliteral">&quot;\&quot; is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2108</span>    }</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>    <a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;seekg(0, std::ios::beg);</div>
<div class="line"><span class="lineno"> 2111</span> </div>
<div class="line"><span class="lineno"> 2112</span>    std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(<a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>));</div>
<div class="line"><span class="lineno"> 2113</span> </div>
<div class="line"><span class="lineno"> 2114</span>    {</div>
<div class="line"><span class="lineno"> 2115</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp2</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_short_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2116</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp2</a>.p_included_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_included_by;</div>
<div class="line"><span class="lineno"> 2117</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>] = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 2118</span>      *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp2</a>;</div>
<div class="line"><span class="lineno"> 2119</span> </div>
<div class="line"><span class="lineno"> 2120</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format.empty()) {</div>
<div class="line"><span class="lineno"> 2121</span>        <span class="keywordflow">throw</span> std::runtime_error(std::string(<span class="stringliteral">&quot;k_preload_includes(): failed to read header of file \&quot;&quot;</span>) + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() + <span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 2122</span>      }</div>
<div class="line"><span class="lineno"> 2123</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format == <span class="stringliteral">&quot;schema&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2124</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;skip reload of schema file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2125</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2126</span>      }</div>
<div class="line"><span class="lineno"> 2127</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format != <span class="stringliteral">&quot;data&quot;</span> &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format != <span class="stringliteral">&quot;extended&quot;</span> &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_oks_format != <span class="stringliteral">&quot;compact&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2128</span>        <span class="keywordflow">throw</span> std::runtime_error(std::string(<span class="stringliteral">&quot;k_preload_includes(): file \&quot;&quot;</span>) + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() + <span class="stringliteral">&quot;\&quot; is not valid oks file&quot;</span>);</div>
<div class="line"><span class="lineno"> 2129</span>      }</div>
<div class="line"><span class="lineno"> 2130</span>    }</div>
<div class="line"><span class="lineno"> 2131</span> </div>
<div class="line"><span class="lineno"> 2132</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.size()) {</div>
<div class="line"><span class="lineno"> 2133</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;check \&#39;include\&#39; of the file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2134</span> </div>
<div class="line"><span class="lineno"> 2135</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">included</a>.size() != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.size()) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_include_changes</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>      <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2138</span>        std::set&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">included</a>.find(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 2139</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">included</a>.end()) {</div>
<div class="line"><span class="lineno"> 2140</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;include \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; already exists, skip...&quot;</span>;</div>
<div class="line"><span class="lineno"> 2141</span>    }</div>
<div class="line"><span class="lineno"> 2142</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2143</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;the file \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; was not previously included by \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name() &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2144</span> </div>
<div class="line"><span class="lineno"> 2145</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_include_changes</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span>      std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>;</div>
<div class="line"><span class="lineno"> 2148</span> </div>
<div class="line"><span class="lineno"> 2149</span>          <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2150</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 2151</span>          }</div>
<div class="line"><span class="lineno"> 2152</span>          <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2153</span>            <span class="keywordflow">throw</span> CanNotOpenFile(<span class="stringliteral">&quot;k_preload_includes&quot;</span>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 2154</span>          }</div>
<div class="line"><span class="lineno"> 2155</span> </div>
<div class="line"><span class="lineno"> 2156</span>          OksFile::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>);</div>
<div class="line"><span class="lineno"> 2157</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 2158</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;the include \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; is already loaded schema file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;first &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2159</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2160</span>      }</div>
<div class="line"><span class="lineno"> 2161</span> </div>
<div class="line"><span class="lineno"> 2162</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>);</div>
<div class="line"><span class="lineno"> 2163</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 2164</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;the include \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; is already loaded data file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;first &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2165</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2166</span>      }</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>          <span class="keywordflow">if</span>(<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * f = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a48a1bc9db45348f214c1411b1e0b560d">create_file_info</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a>)) {</div>
<div class="line"><span class="lineno"> 2169</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_oks_format == <span class="stringliteral">&quot;schema&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2170</span>          std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_schema_full_file_name</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;get_full_file_name();</div>
<div class="line"><span class="lineno"> 2171</span>          <span class="keyword">delete</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2172</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.find(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_schema_full_file_name</a>) != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 2173</span>            <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;the include \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; is a schema file, that was already loaded&quot;</span>;</div>
<div class="line"><span class="lineno"> 2174</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2175</span>          }</div>
<div class="line"><span class="lineno"> 2176</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2177</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_schema_extension</a>) {</div>
<div class="line"><span class="lineno"> 2178</span>              <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;the include \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; is new schema file, loading...&quot;</span>;</div>
<div class="line"><span class="lineno"> 2179</span>              <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a9ec76e21d99032a77b340ab0dcea085b">k_load_schema</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 2180</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2181</span>        }</div>
<div class="line"><span class="lineno"> 2182</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2183</span>              std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 2184</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;k_preload_includes(): include of new schema file (\&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;) is not allowed on data reload&quot;</span>;</div>
<div class="line"><span class="lineno"> 2185</span>          <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 2186</span>        }</div>
<div class="line"><span class="lineno"> 2187</span>          }</div>
<div class="line"><span class="lineno"> 2188</span>        }</div>
<div class="line"><span class="lineno"> 2189</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_oks_format == <span class="stringliteral">&quot;data&quot;</span> || <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_oks_format == <span class="stringliteral">&quot;extended&quot;</span> || <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_oks_format == <span class="stringliteral">&quot;compact&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2190</span>          <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;the include \&#39;&quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; is new data file, pre-loading...&quot;</span>;</div>
<div class="line"><span class="lineno"> 2191</span>              <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">add_data_file</a>(f);</div>
<div class="line"><span class="lineno"> 2192</span>          <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7ebf40f11e523f6310d4d7917e508f4b">p_preload_added_files</a>.push_back(f);</div>
<div class="line"><span class="lineno"> 2193</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files_h</a>.insert(f);</div>
<div class="line"><span class="lineno"> 2194</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_list_of_include_files.clear();</div>
<div class="line"><span class="lineno"> 2195</span>          <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ae6eab6ca06d65feece11b903c1cc7c1d">k_preload_includes</a>(f, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files_h</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_schema_extension</a>)) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_include_changes</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2196</span>              <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_included_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 2197</span>              <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;update_status_of_file();</div>
<div class="line"><span class="lineno"> 2198</span>        }</div>
<div class="line"><span class="lineno"> 2199</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2200</span>              <span class="keyword">delete</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2201</span>          std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 2202</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;k_preload_includes(): failed to parse header of included \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">full_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; file&quot;</span>;</div>
<div class="line"><span class="lineno"> 2203</span>              <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 2204</span>            }</div>
<div class="line"><span class="lineno"> 2205</span>          }</div>
<div class="line"><span class="lineno"> 2206</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2207</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;k_load_file(): cannot open file&quot;</span>);</div>
<div class="line"><span class="lineno"> 2208</span>          }</div>
<div class="line"><span class="lineno"> 2209</span>    }</div>
<div class="line"><span class="lineno"> 2210</span>      }</div>
<div class="line"><span class="lineno"> 2211</span>    }</div>
<div class="line"><span class="lineno"> 2212</span>  }</div>
<div class="line"><span class="lineno"> 2213</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2214</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 2215</span>  }</div>
<div class="line"><span class="lineno"> 2216</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2217</span>    <span class="keywordflow">throw</span> FailedLoadFile(<span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 2218</span>  }</div>
<div class="line"><span class="lineno"> 2219</span>  </div>
<div class="line"><span class="lineno"> 2220</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_include_changes</a>;</div>
<div class="line"><span class="lineno"> 2221</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a48a1bc9db45348f214c1411b1e0b560d"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a48a1bc9db45348f214c1411b1e0b560d">dunedaq::oks::OksKernel::create_file_info</a></div><div class="ttdeci">OksFile * create_file_info(const std::string &amp;short_file_name, const std::string &amp;file_name)</div><div class="ttdoc">Creates OKS file descriptor.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01570">kernel.cpp:1570</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ae6eab6ca06d65feece11b903c1cc7c1d"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ae6eab6ca06d65feece11b903c1cc7c1d">dunedaq::oks::OksKernel::k_preload_includes</a></div><div class="ttdeci">bool k_preload_includes(OksFile *file_h, std::set&lt; OksFile * &gt; &amp;new_files, bool allow_schema_extension)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02079">kernel.cpp:2079</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa67ace0f00194f3aa7f23d262d45eb42" name="aa67ace0f00194f3aa7f23d262d45eb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67ace0f00194f3aa7f23d262d45eb42">&#9670;&#160;</a></span>k_remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04490">4490</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4491</span>{</div>
<div class="line"><span class="lineno"> 4492</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter for class \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name() &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4493</span> </div>
<div class="line"><span class="lineno"> 4494</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#aa11be1bfba80263c0541ac8f157b082d">OksClass::delete_notify_fn</a>) (*OksClass::delete_notify_fn)(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>);</div>
<div class="line"><span class="lineno"> 4495</span> </div>
<div class="line"><span class="lineno"> 4496</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.erase(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_name().c_str());</div>
<div class="line"><span class="lineno"> 4497</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d3a83f2747cc54884c9057492623c6e" name="a5d3a83f2747cc54884c9057492623c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3a83f2747cc54884c9057492623c6e">&#9670;&#160;</a></span>k_rename_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_rename_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>short_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>long_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04112">4112</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4113</span>{</div>
<div class="line"><span class="lineno"> 4114</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">remove_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 4115</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;rename(short_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long_name</a>);</div>
<div class="line"><span class="lineno"> 4116</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">add_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 4117</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2080ae62b89432e50a2779e6377cd0fb" name="a2080ae62b89432e50a2779e6377cd0fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2080ae62b89432e50a2779e6377cd0fb">&#9670;&#160;</a></span>k_rename_repository_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_rename_repository_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>new_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04864">4864</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4865</span>{</div>
<div class="line"><span class="lineno"> 4866</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_oks_format == <span class="stringliteral">&quot;schema&quot;</span>)</div>
<div class="line"><span class="lineno"> 4867</span>    {</div>
<div class="line"><span class="lineno"> 4868</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a8d215f90bf982566d30eea7d44bd597a">remove_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 4869</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;rename(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>);</div>
<div class="line"><span class="lineno"> 4870</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ad4e44d178e13a22360d2341e5798d601">add_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 4871</span>    }</div>
<div class="line"><span class="lineno"> 4872</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4873</span>    {</div>
<div class="line"><span class="lineno"> 4874</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">remove_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 4875</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;rename(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>);</div>
<div class="line"><span class="lineno"> 4876</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">add_data_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 4877</span>    }</div>
<div class="line"><span class="lineno"> 4878</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d8350efcf0f7068bea99e0ba6490993" name="a3d8350efcf0f7068bea99e0ba6490993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8350efcf0f7068bea99e0ba6490993">&#9670;&#160;</a></span>k_rename_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_rename_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>short_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>long_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02748">2748</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2749</span>{</div>
<div class="line"><span class="lineno"> 2750</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a8d215f90bf982566d30eea7d44bd597a">remove_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2751</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;rename(short_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long_name</a>);</div>
<div class="line"><span class="lineno"> 2752</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ad4e44d178e13a22360d2341e5798d601">add_schema_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2753</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afebe1a2e2109e1715fe2a1b0048f9cbe" name="afebe1a2e2109e1715fe2a1b0048f9cbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afebe1a2e2109e1715fe2a1b0048f9cbe">&#9670;&#160;</a></span>k_save_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_save_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreBadObjects</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fh</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> *&#160;</td>
          <td class="paramname"><em>objects</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_defaults</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03851">3851</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3852</span>{</div>
<div class="line"><span class="lineno"> 3853</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_save_data&quot;</span>;</div>
<div class="line"><span class="lineno"> 3854</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 3855</span> </div>
<div class="line"><span class="lineno"> 3856</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5ad1f703480bd2372c6b0d94d42e711f10">OksProfiler::KernelSaveData</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 3857</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ENTER</a> &quot; &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 3858</span> </div>
<div class="line"><span class="lineno"> 3859</span>  <a class="code hl_namespace" href="namespacestd.html">std</a>::<span class="keywordtype">string</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>;</div>
<div class="line"><span class="lineno"> 3860</span>  </div>
<div class="line"><span class="lineno"> 3861</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">if</a>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a>) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>;</div>
<div class="line"><span class="lineno"> 3862</span> </div>
<div class="line"><span class="lineno"> 3863</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">try</a> {</div>
<div class="line"><span class="lineno"> 3864</span> </div>
<div class="line"><span class="lineno"> 3865</span>      <span class="comment">// calculate number of objects in file and check objects</span></div>
<div class="line"><span class="lineno"> 3866</span> </div>
<div class="line"><span class="lineno"> 3867</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfObjects</a> = 0;</div>
<div class="line"><span class="lineno"> 3868</span> </div>
<div class="line"><span class="lineno"> 3869</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>) {</div>
<div class="line"><span class="lineno"> 3870</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfObjects</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>-&gt;size();</div>
<div class="line"><span class="lineno"> 3871</span> </div>
<div class="line"><span class="lineno"> 3872</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ignoreBadObjects</a>) {</div>
<div class="line"><span class="lineno"> 3873</span>        std::string errors;</div>
<div class="line"><span class="lineno"> 3874</span> </div>
<div class="line"><span class="lineno"> 3875</span>        <span class="keywordflow">for</span>(OksObject::FSet::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3876</span>          errors += (*i)-&gt;report_dangling_references();</div>
<div class="line"><span class="lineno"> 3877</span>        }</div>
<div class="line"><span class="lineno"> 3878</span> </div>
<div class="line"><span class="lineno"> 3879</span>        <span class="keywordflow">if</span>(!errors.empty()) {</div>
<div class="line"><span class="lineno"> 3880</span>          std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 3881</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;the file contains objects with dangling references:\n&quot;</span> &lt;&lt; errors;</div>
<div class="line"><span class="lineno"> 3882</span>          <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 3883</span>        }</div>
<div class="line"><span class="lineno"> 3884</span>      }</div>
<div class="line"><span class="lineno"> 3885</span>    }</div>
<div class="line"><span class="lineno"> 3886</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3887</span>        <span class="comment">// get list of all includes</span></div>
<div class="line"><span class="lineno"> 3888</span> </div>
<div class="line"><span class="lineno"> 3889</span>      std::set&lt;OksFile *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>;</div>
<div class="line"><span class="lineno"> 3890</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;get_all_include_files(<span class="keyword">this</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>);</div>
<div class="line"><span class="lineno"> 3891</span> </div>
<div class="line"><span class="lineno"> 3892</span>      <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;Test consistency of objects in file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>)</div>
<div class="line"><span class="lineno"> 3893</span> </div>
<div class="line"><span class="lineno"> 3894</span>      bool <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_bad_object</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a>;</div>
<div class="line"><span class="lineno"> 3895</span> </div>
<div class="line"><span class="lineno"> 3896</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">for</a>(<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a>::Set::<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">iterator</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3897</span>        <span class="keywordflow">if</span>((*i)-&gt;file == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a>) {</div>
<div class="line"><span class="lineno"> 3898</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfObjects</a>++;</div>
<div class="line"><span class="lineno"> 3899</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ignoreBadObjects</a> || !<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 3900</span>            <span class="keywordflow">if</span>((*i)-&gt;is_consistent(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>, <span class="stringliteral">&quot;WARNING&quot;</span>) == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 3901</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_bad_object</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3902</span>            }</div>
<div class="line"><span class="lineno"> 3903</span>            <span class="keywordflow">if</span>((*i)-&gt;is_duplicated() == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3904</span>              <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 3905</span>                <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>) &lt;&lt; <span class="stringliteral">&quot;  The file contains duplicated object &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3906</span>              }</div>
<div class="line"><span class="lineno"> 3907</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_bad_object</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3908</span>            }</div>
<div class="line"><span class="lineno"> 3909</span>          }</div>
<div class="line"><span class="lineno"> 3910</span>        }</div>
<div class="line"><span class="lineno"> 3911</span>      }</div>
<div class="line"><span class="lineno"> 3912</span> </div>
<div class="line"><span class="lineno"> 3913</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_bad_object</a> &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ignoreBadObjects</a> == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 3914</span>    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;the file contains inconsistent/duplicated objects or misses includes&quot;</span>);</div>
<div class="line"><span class="lineno"> 3915</span>      }</div>
<div class="line"><span class="lineno"> 3916</span>    }</div>
<div class="line"><span class="lineno"> 3917</span> </div>
<div class="line"><span class="lineno"> 3918</span> </div>
<div class="line"><span class="lineno"> 3919</span>      <span class="comment">// lock the file, if it is not locked already</span></div>
<div class="line"><span class="lineno"> 3920</span> </div>
<div class="line"><span class="lineno"> 3921</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;is_locked() == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 3922</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;lock();</div>
<div class="line"><span class="lineno"> 3923</span>    }</div>
<div class="line"><span class="lineno"> 3924</span> </div>
<div class="line"><span class="lineno"> 3925</span> </div>
<div class="line"><span class="lineno"> 3926</span>      <span class="comment">// check if it possible to open the non-existent file in write mode</span></div>
<div class="line"><span class="lineno"> 3927</span> </div>
<div class="line"><span class="lineno"> 3928</span>    {</div>
<div class="line"><span class="lineno"> 3929</span>        <span class="comment">// check first if file already exists</span></div>
<div class="line"><span class="lineno"> 3930</span> </div>
<div class="line"><span class="lineno"> 3931</span>      std::fstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), std::ios::in);</div>
<div class="line"><span class="lineno"> 3932</span> </div>
<div class="line"><span class="lineno"> 3933</span>      <span class="keywordflow">if</span>(!f) {</div>
<div class="line"><span class="lineno"> 3934</span> </div>
<div class="line"><span class="lineno"> 3935</span>          <span class="comment">// no check for non-existent file</span></div>
<div class="line"><span class="lineno"> 3936</span> </div>
<div class="line"><span class="lineno"> 3937</span>        std::fstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), std::ios::out);</div>
<div class="line"><span class="lineno"> 3938</span> </div>
<div class="line"><span class="lineno"> 3939</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>) {</div>
<div class="line"><span class="lineno"> 3940</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 3941</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot open file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&#39; for writing&quot;</span>;</div>
<div class="line"><span class="lineno"> 3942</span>          <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 3943</span>        }</div>
<div class="line"><span class="lineno"> 3944</span>      }</div>
<div class="line"><span class="lineno"> 3945</span>    }</div>
<div class="line"><span class="lineno"> 3946</span> </div>
<div class="line"><span class="lineno"> 3947</span> </div>
<div class="line"><span class="lineno"> 3948</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ab9dcba4f04ab1b532fc9f28380044289">get_tmp_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name);</div>
<div class="line"><span class="lineno"> 3949</span> </div>
<div class="line"><span class="lineno"> 3950</span>    <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_len</a> = 0;</div>
<div class="line"><span class="lineno"> 3951</span> </div>
<div class="line"><span class="lineno"> 3952</span>    {</div>
<div class="line"><span class="lineno"> 3953</span>      std::ofstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str());</div>
<div class="line"><span class="lineno"> 3954</span> </div>
<div class="line"><span class="lineno"> 3955</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.exceptions ( std::ostream::failbit | std::ostream::badbit );</div>
<div class="line"><span class="lineno"> 3956</span> </div>
<div class="line"><span class="lineno"> 3957</span>      <span class="keywordflow">if</span>(!f) {</div>
<div class="line"><span class="lineno"> 3958</span>        std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 3959</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot create temporal file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; to save data&quot;</span>;</div>
<div class="line"><span class="lineno"> 3960</span>        <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 3961</span>      }</div>
<div class="line"><span class="lineno"> 3962</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3963</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 3964</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 3965</span>          std::cout &lt;&lt; <span class="stringliteral">&quot;Saving &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfObjects</a> &lt;&lt; <span class="stringliteral">&quot; objects &quot;</span> &lt;&lt; (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force_defaults</a> ? <span class="stringliteral">&quot;with enforced default values &quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;to data file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&quot;...\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3966</span>        }</div>
<div class="line"><span class="lineno"> 3967</span>      }</div>
<div class="line"><span class="lineno"> 3968</span> </div>
<div class="line"><span class="lineno"> 3969</span> </div>
<div class="line"><span class="lineno"> 3970</span>        <span class="comment">// set header parameters</span></div>
<div class="line"><span class="lineno"> 3971</span> </div>
<div class="line"><span class="lineno"> 3972</span>      OksXmlOutputStream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(f);</div>
<div class="line"><span class="lineno"> 3973</span> </div>
<div class="line"><span class="lineno"> 3974</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_number_of_items = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfObjects</a>;</div>
<div class="line"><span class="lineno"> 3975</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_oks_format = <span class="stringliteral">&quot;data&quot;</span>;</div>
<div class="line"><span class="lineno"> 3976</span> </div>
<div class="line"><span class="lineno"> 3977</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;write(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>);</div>
<div class="line"><span class="lineno"> 3978</span> </div>
<div class="line"><span class="lineno"> 3979</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.empty()) {</div>
<div class="line"><span class="lineno"> 3980</span>        <span class="keywordflow">for</span>(OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end() &amp;&amp; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.good(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3981</span>          <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksObject.html#ac616043192b682b5b84761fdf02dfbbe">OksObject::SMap</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>;</div>
<div class="line"><span class="lineno"> 3982</span> </div>
<div class="line"><span class="lineno"> 3983</span>          <span class="keywordflow">for</span>(OksObject::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_objects-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_objects-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 3984</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second-&gt;file == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a> || (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a> &amp;&amp; (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>-&gt;find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second) != <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>-&gt;end()))) {</div>
<div class="line"><span class="lineno"> 3985</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;first] = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 3986</span>        }</div>
<div class="line"><span class="lineno"> 3987</span>      }</div>
<div class="line"><span class="lineno"> 3988</span> </div>
<div class="line"><span class="lineno"> 3989</span>          <span class="keywordflow">for</span>(OksObject::SMap::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 3990</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second-&gt;put(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force_defaults</a>);</div>
<div class="line"><span class="lineno"> 3991</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>.put_raw(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 3992</span>          }</div>
<div class="line"><span class="lineno"> 3993</span>        }</div>
<div class="line"><span class="lineno"> 3994</span>      }</div>
<div class="line"><span class="lineno"> 3995</span> </div>
<div class="line"><span class="lineno"> 3996</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>.put_last_tag(<span class="stringliteral">&quot;oks-data&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;oks-data&quot;</span>)-1);</div>
<div class="line"><span class="lineno"> 3997</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_len</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.tellp();</div>
<div class="line"><span class="lineno"> 3998</span> </div>
<div class="line"><span class="lineno"> 3999</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.close();</div>
<div class="line"><span class="lineno"> 4000</span>    }</div>
<div class="line"><span class="lineno"> 4001</span> </div>
<div class="line"><span class="lineno"> 4002</span> </div>
<div class="line"><span class="lineno"> 4003</span>        <span class="comment">// check that the written file is OK</span></div>
<div class="line"><span class="lineno"> 4004</span>    <span class="comment">// FIXME: can be removed later, if exceptions work well enough</span></div>
<div class="line"><span class="lineno"> 4005</span> </div>
<div class="line"><span class="lineno"> 4006</span>    {</div>
<div class="line"><span class="lineno"> 4007</span>      <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">written_len</a> = 0;</div>
<div class="line"><span class="lineno"> 4008</span> </div>
<div class="line"><span class="lineno"> 4009</span>      std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str()));</div>
<div class="line"><span class="lineno"> 4010</span> </div>
<div class="line"><span class="lineno"> 4011</span>      <span class="keywordflow">if</span>(*f) {</div>
<div class="line"><span class="lineno"> 4012</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;seekg(0, std::ios::end);</div>
<div class="line"><span class="lineno"> 4013</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">written_len</a> = <span class="keyword">static_cast&lt;</span>std::streamoff<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;tellg());</div>
<div class="line"><span class="lineno"> 4014</span>      }</div>
<div class="line"><span class="lineno"> 4015</span> </div>
<div class="line"><span class="lineno"> 4016</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">written_len</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_len</a>) {</div>
<div class="line"><span class="lineno"> 4017</span>        unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str());</div>
<div class="line"><span class="lineno"> 4018</span>        std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 4019</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;write error in file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">written_len</a> &lt;&lt; <span class="stringliteral">&quot; bytes been written instead of &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_len</a>;</div>
<div class="line"><span class="lineno"> 4020</span>        <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 4021</span>      }</div>
<div class="line"><span class="lineno"> 4022</span>    }</div>
<div class="line"><span class="lineno"> 4023</span> </div>
<div class="line"><span class="lineno"> 4024</span> </div>
<div class="line"><span class="lineno"> 4025</span>      <span class="comment">// remember file&#39;s mode</span></div>
<div class="line"><span class="lineno"> 4026</span> </div>
<div class="line"><span class="lineno"> 4027</span>    <span class="keyword">struct </span><a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">stat</a> buf;</div>
<div class="line"><span class="lineno"> 4028</span>    <span class="keywordflow">if</span>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">stat</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), &amp;buf)) {</div>
<div class="line"><span class="lineno"> 4029</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 4030</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot get information about file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&#39;: stat() failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> &lt;&lt; <span class="stringliteral">&quot;, reason = \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4031</span>      <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 4032</span>    }</div>
<div class="line"><span class="lineno"> 4033</span> </div>
<div class="line"><span class="lineno"> 4034</span> </div>
<div class="line"><span class="lineno"> 4035</span>      <span class="comment">// rename temporal file</span></div>
<div class="line"><span class="lineno"> 4036</span> </div>
<div class="line"><span class="lineno"> 4037</span>    <span class="keywordflow">if</span>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> = rename(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str())) {</div>
<div class="line"><span class="lineno"> 4038</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 4039</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot rename file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; to \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&#39;: rename() failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> &lt;&lt; <span class="stringliteral">&quot;, reason = \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4040</span>      <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 4041</span>    }</div>
<div class="line"><span class="lineno"> 4042</span> </div>
<div class="line"><span class="lineno"> 4043</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.erase(0);</div>
<div class="line"><span class="lineno"> 4044</span> </div>
<div class="line"><span class="lineno"> 4045</span> </div>
<div class="line"><span class="lineno"> 4046</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>) {</div>
<div class="line"><span class="lineno"> 4047</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4048</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();</div>
<div class="line"><span class="lineno"> 4049</span>      }</div>
<div class="line"><span class="lineno"> 4050</span>      <span class="keywordflow">catch</span>(<a class="code hl_variable" href="config__dump_8cxx.html#a3a69c51778583cf2ea94834553307fee">exception</a>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4051</span>        <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what());</div>
<div class="line"><span class="lineno"> 4052</span>      }</div>
<div class="line"><span class="lineno"> 4053</span>    }</div>
<div class="line"><span class="lineno"> 4054</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_is_updated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4055</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;update_status_of_file();</div>
<div class="line"><span class="lineno"> 4056</span> </div>
<div class="line"><span class="lineno"> 4057</span> </div>
<div class="line"><span class="lineno"> 4058</span>      <span class="comment">// get mode for new file</span></div>
<div class="line"><span class="lineno"> 4059</span> </div>
<div class="line"><span class="lineno"> 4060</span>    <span class="keyword">struct </span><a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">stat</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">buf2</a>;</div>
<div class="line"><span class="lineno"> 4061</span>    <span class="keywordflow">if</span>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">stat</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">buf2</a>)) {</div>
<div class="line"><span class="lineno"> 4062</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 4063</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot get information about file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&#39;: stat() failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> &lt;&lt; <span class="stringliteral">&quot;, reason = \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4064</span>      <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 4065</span>    }</div>
<div class="line"><span class="lineno"> 4066</span> </div>
<div class="line"><span class="lineno"> 4067</span> </div>
<div class="line"><span class="lineno"> 4068</span>      <span class="comment">// set file&#39;s mode if needed</span></div>
<div class="line"><span class="lineno"> 4069</span> </div>
<div class="line"><span class="lineno"> 4070</span>    <span class="keywordflow">if</span>(buf.st_mode != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">buf2</a>.st_mode) {</div>
<div class="line"><span class="lineno"> 4071</span>      <span class="keywordflow">if</span>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">chmod</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), buf.st_mode) != 0) {</div>
<div class="line"><span class="lineno"> 4072</span>        std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 4073</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot set protection mode for file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&#39;: chmod() failed with code &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> &lt;&lt; <span class="stringliteral">&quot;, reason = \&#39;&quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4074</span>        <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 4075</span>      }</div>
<div class="line"><span class="lineno"> 4076</span>    }</div>
<div class="line"><span class="lineno"> 4077</span> </div>
<div class="line"><span class="lineno"> 4078</span>      <span class="comment">// set file&#39;s group if needed (in case of problems report error, but do not throw exception)</span></div>
<div class="line"><span class="lineno"> 4079</span> </div>
<div class="line"><span class="lineno"> 4080</span>    <span class="keywordflow">if</span>(buf.st_gid != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">buf2</a>.st_gid) {</div>
<div class="line"><span class="lineno"> 4081</span>      <span class="keywordflow">if</span>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">chown</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">gid_t</a>)(-1), buf.st_gid) != 0) {</div>
<div class="line"><span class="lineno"> 4082</span>        <a class="code hl_function" href="namespaceers.html#a1f13d0d03ff2e1c3f3b2a9c388a20648">ers::warning</a>(kernel::SetGroupIdFailed(<a class="code hl_define" href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a>, buf.st_gid, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">code</a>, <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a0ee3894ff26b9cdb1f704f583c3e8af9">strerror</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">errno</a>)));</div>
<div class="line"><span class="lineno"> 4083</span>      }</div>
<div class="line"><span class="lineno"> 4084</span>    }</div>
<div class="line"><span class="lineno"> 4085</span> </div>
<div class="line"><span class="lineno"> 4086</span>  }</div>
<div class="line"><span class="lineno"> 4087</span> </div>
<div class="line"><span class="lineno"> 4088</span>  <span class="keywordflow">catch</span> (<a class="code hl_variable" href="config__dump_8cxx.html#a3a69c51778583cf2ea94834553307fee">exception</a> &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 4089</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>) { <span class="keywordflow">try</span> { <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();} <span class="keywordflow">catch</span>(...) {} }</div>
<div class="line"><span class="lineno"> 4090</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.empty()) { unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str()); }</div>
<div class="line"><span class="lineno"> 4091</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 4092</span>  }</div>
<div class="line"><span class="lineno"> 4093</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 4094</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>) { <span class="keywordflow">try</span> { <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();} <span class="keywordflow">catch</span>(...) {} }</div>
<div class="line"><span class="lineno"> 4095</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.empty()) { unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str()); }</div>
<div class="line"><span class="lineno"> 4096</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 4097</span>  }</div>
<div class="line"><span class="lineno"> 4098</span>  <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 4099</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>) { <span class="keywordflow">try</span> { <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();} <span class="keywordflow">catch</span>(...) {} }</div>
<div class="line"><span class="lineno"> 4100</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.empty()) { unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str()); }</div>
<div class="line"><span class="lineno"> 4101</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <span class="stringliteral">&quot;unknown&quot;</span>);</div>
<div class="line"><span class="lineno"> 4102</span>  }</div>
<div class="line"><span class="lineno"> 4103</span> </div>
<div class="line"><span class="lineno"> 4104</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4105</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a4451c61d3c25506e72704903c82ae29f"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">dunedaq::oks::OksKernel::objects</a></div><div class="ttdeci">const OksObject::Set &amp; objects() const</div><div class="ttdoc">Get objects.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01788">kernel.hpp:1788</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_ab9dcba4f04ab1b532fc9f28380044289"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#ab9dcba4f04ab1b532fc9f28380044289">dunedaq::oks::OksKernel::get_tmp_file</a></div><div class="ttdeci">static std::string get_tmp_file(const std::string &amp;file_name)</div><div class="ttdoc">Generates temporal file name.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00667">kernel.cpp:667</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksObject_html_ac616043192b682b5b84761fdf02dfbbe"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksObject.html#ac616043192b682b5b84761fdf02dfbbe">dunedaq::oks::OksObject::SMap</a></div><div class="ttdeci">std::map&lt; const std::string *, OksObject *, SortById &gt; SMap</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00862">object.hpp:862</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5ad1f703480bd2372c6b0d94d42e711f10"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5ad1f703480bd2372c6b0d94d42e711f10">dunedaq::oks::OksProfiler::KernelSaveData</a></div><div class="ttdeci">@ KernelSaveData</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00026">profiler.hpp:26</a></div></div>
<div class="ttc" id="aconfig__dump_8cxx_html_a3a69c51778583cf2ea94834553307fee"><div class="ttname"><a href="config__dump_8cxx.html#a3a69c51778583cf2ea94834553307fee">exception</a></div><div class="ttdeci">caught dunedaq::conffwk::Exception exception</div><div class="ttdef"><b>Definition</b> <a href="config__dump_8cxx_source.html#l00024">config_dump.cxx:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0cc5384aa89802ff1d773b51f60de715" name="a0cc5384aa89802ff1d773b51f60de715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cc5384aa89802ff1d773b51f60de715">&#9670;&#160;</a></span>k_save_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_save_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fh</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> *&#160;</td>
          <td class="paramname"><em>classes</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02595">2595</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2596</span>{</div>
<div class="line"><span class="lineno"> 2597</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;k_save_schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2598</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2599</span> </div>
<div class="line"><span class="lineno"> 2600</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5afb238e1a4e19a0000dd3bcef7ab73f6a">OksProfiler::KernelSaveSchema</a>, <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 2601</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(&quot;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ENTER</a> &quot; &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2602</span> </div>
<div class="line"><span class="lineno"> 2603</span>  <a class="code hl_namespace" href="namespacestd.html">std</a>::<span class="keywordtype">string</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>;</div>
<div class="line"><span class="lineno"> 2604</span> </div>
<div class="line"><span class="lineno"> 2605</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">if</a>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a>) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>;</div>
<div class="line"><span class="lineno"> 2606</span> </div>
<div class="line"><span class="lineno"> 2607</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">try</a> {</div>
<div class="line"><span class="lineno"> 2608</span> </div>
<div class="line"><span class="lineno"> 2609</span>      <span class="comment">// lock the file, if it is not locked already</span></div>
<div class="line"><span class="lineno"> 2610</span> </div>
<div class="line"><span class="lineno"> 2611</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;is_locked() == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 2612</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;lock();</div>
<div class="line"><span class="lineno"> 2613</span>    }</div>
<div class="line"><span class="lineno"> 2614</span> </div>
<div class="line"><span class="lineno"> 2615</span> </div>
<div class="line"><span class="lineno"> 2616</span>      <span class="comment">// calculate number of classes, going into the schema file</span></div>
<div class="line"><span class="lineno"> 2617</span> </div>
<div class="line"><span class="lineno"> 2618</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfClasses</a> = 0;</div>
<div class="line"><span class="lineno"> 2619</span> </div>
<div class="line"><span class="lineno"> 2620</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>) {</div>
<div class="line"><span class="lineno"> 2621</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfClasses</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>-&gt;size();</div>
<div class="line"><span class="lineno"> 2622</span>    }</div>
<div class="line"><span class="lineno"> 2623</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.empty()) {</div>
<div class="line"><span class="lineno"> 2624</span>      <span class="keywordflow">for</span>(OksClass::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2625</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_file == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a>) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfClasses</a>++;</div>
<div class="line"><span class="lineno"> 2626</span>      }</div>
<div class="line"><span class="lineno"> 2627</span>    }</div>
<div class="line"><span class="lineno"> 2628</span> </div>
<div class="line"><span class="lineno"> 2629</span> </div>
<div class="line"><span class="lineno"> 2630</span>      <span class="comment">// create temporal file to store the schema</span></div>
<div class="line"><span class="lineno"> 2631</span> </div>
<div class="line"><span class="lineno"> 2632</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ab9dcba4f04ab1b532fc9f28380044289">get_tmp_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name);</div>
<div class="line"><span class="lineno"> 2633</span> </div>
<div class="line"><span class="lineno"> 2634</span>    {</div>
<div class="line"><span class="lineno"> 2635</span>      std::ofstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str());</div>
<div class="line"><span class="lineno"> 2636</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.exceptions ( std::ostream::failbit | std::ostream::badbit );</div>
<div class="line"><span class="lineno"> 2637</span> </div>
<div class="line"><span class="lineno"> 2638</span>      <span class="keywordflow">if</span>(!f) {</div>
<div class="line"><span class="lineno"> 2639</span>        std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 2640</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot create temporal file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; to save schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2641</span>        <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 2642</span>      }</div>
<div class="line"><span class="lineno"> 2643</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2644</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 2645</span>          std::cout &lt;&lt; <span class="stringliteral">&quot;Saving &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfClasses</a> &lt;&lt; <span class="stringliteral">&quot; classes to schema file \&quot;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="stringliteral">&quot;\&quot;...\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 2646</span>      }</div>
<div class="line"><span class="lineno"> 2647</span> </div>
<div class="line"><span class="lineno"> 2648</span> </div>
<div class="line"><span class="lineno"> 2649</span>      OksXmlOutputStream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(f);</div>
<div class="line"><span class="lineno"> 2650</span> </div>
<div class="line"><span class="lineno"> 2651</span> </div>
<div class="line"><span class="lineno"> 2652</span>        <span class="comment">// write oks xml file header</span></div>
<div class="line"><span class="lineno"> 2653</span> </div>
<div class="line"><span class="lineno"> 2654</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_number_of_items = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">numberOfClasses</a>;</div>
<div class="line"><span class="lineno"> 2655</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_oks_format = <span class="stringliteral">&quot;schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2656</span> </div>
<div class="line"><span class="lineno"> 2657</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;write(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>);</div>
<div class="line"><span class="lineno"> 2658</span> </div>
<div class="line"><span class="lineno"> 2659</span> </div>
<div class="line"><span class="lineno"> 2660</span>        <span class="comment">// write oks classes</span></div>
<div class="line"><span class="lineno"> 2661</span> </div>
<div class="line"><span class="lineno"> 2662</span>      std::ostringstream errors;</div>
<div class="line"><span class="lineno"> 2663</span>      <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_errors</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2664</span> </div>
<div class="line"><span class="lineno"> 2665</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>)</div>
<div class="line"><span class="lineno"> 2666</span>        {</div>
<div class="line"><span class="lineno"> 2667</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : *<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>)</div>
<div class="line"><span class="lineno"> 2668</span>            {</div>
<div class="line"><span class="lineno"> 2669</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_errors</a> |= <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;check_relationships(errors, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2670</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;save(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>);</div>
<div class="line"><span class="lineno"> 2671</span>            }</div>
<div class="line"><span class="lineno"> 2672</span>        }</div>
<div class="line"><span class="lineno"> 2673</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2674</span>        {</div>
<div class="line"><span class="lineno"> 2675</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>)</div>
<div class="line"><span class="lineno"> 2676</span>            {</div>
<div class="line"><span class="lineno"> 2677</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;p_file == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a>)</div>
<div class="line"><span class="lineno"> 2678</span>                {</div>
<div class="line"><span class="lineno"> 2679</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_errors</a> |= <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;check_relationships(errors, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2680</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.second-&gt;save(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>);</div>
<div class="line"><span class="lineno"> 2681</span>                }</div>
<div class="line"><span class="lineno"> 2682</span>            }</div>
<div class="line"><span class="lineno"> 2683</span>        }</div>
<div class="line"><span class="lineno"> 2684</span> </div>
<div class="line"><span class="lineno"> 2685</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_errors</a>)</div>
<div class="line"><span class="lineno"> 2686</span>        {</div>
<div class="line"><span class="lineno"> 2687</span>          kernel::BindError <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>(<a class="code hl_define" href="LocalContext_8hpp.html#adea523c3dfceb9683f7acb5e719283ee">ERS_HERE</a>, errors.str());</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 2690</span>            {</div>
<div class="line"><span class="lineno"> 2691</span>              <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what());</div>
<div class="line"><span class="lineno"> 2692</span>            }</div>
<div class="line"><span class="lineno"> 2693</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 2694</span>            {</div>
<div class="line"><span class="lineno"> 2695</span>              <a class="code hl_function" href="namespaceers.html#a1f13d0d03ff2e1c3f3b2a9c388a20648">ers::warning</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 2696</span>            }</div>
<div class="line"><span class="lineno"> 2697</span>        }</div>
<div class="line"><span class="lineno"> 2698</span> </div>
<div class="line"><span class="lineno"> 2699</span>        <span class="comment">// close oks xml file</span></div>
<div class="line"><span class="lineno"> 2700</span> </div>
<div class="line"><span class="lineno"> 2701</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>.put_last_tag(<span class="stringliteral">&quot;oks-schema&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;oks-schema&quot;</span>)-1);</div>
<div class="line"><span class="lineno"> 2702</span> </div>
<div class="line"><span class="lineno"> 2703</span> </div>
<div class="line"><span class="lineno"> 2704</span>        <span class="comment">// flush the buffers</span></div>
<div class="line"><span class="lineno"> 2705</span> </div>
<div class="line"><span class="lineno"> 2706</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>.close();</div>
<div class="line"><span class="lineno"> 2707</span>    }</div>
<div class="line"><span class="lineno"> 2708</span> </div>
<div class="line"><span class="lineno"> 2709</span>    <span class="keywordflow">if</span>(rename(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name.c_str())) {</div>
<div class="line"><span class="lineno"> 2710</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 2711</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot rename \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a> &lt;&lt; <span class="stringliteral">&quot;\&#39; to \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2712</span>      <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 2713</span>    }</div>
<div class="line"><span class="lineno"> 2714</span> </div>
<div class="line"><span class="lineno"> 2715</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.erase(0);</div>
<div class="line"><span class="lineno"> 2716</span> </div>
<div class="line"><span class="lineno"> 2717</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>) {</div>
<div class="line"><span class="lineno"> 2718</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2719</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();</div>
<div class="line"><span class="lineno"> 2720</span>      }</div>
<div class="line"><span class="lineno"> 2721</span>      <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2722</span>        <span class="keywordflow">throw</span> std::runtime_error(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what());</div>
<div class="line"><span class="lineno"> 2723</span>      }</div>
<div class="line"><span class="lineno"> 2724</span>    }</div>
<div class="line"><span class="lineno"> 2725</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_is_updated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2726</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;update_status_of_file();</div>
<div class="line"><span class="lineno"> 2727</span> </div>
<div class="line"><span class="lineno"> 2728</span>  }</div>
<div class="line"><span class="lineno"> 2729</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2730</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>) { <span class="keywordflow">try</span> { <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();} <span class="keywordflow">catch</span>(...) {} }</div>
<div class="line"><span class="lineno"> 2731</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.empty()) { unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str()); }</div>
<div class="line"><span class="lineno"> 2732</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_schema&quot;</span>, <span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 2733</span>  }</div>
<div class="line"><span class="lineno"> 2734</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2735</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>) { <span class="keywordflow">try</span> { <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;unlock();} <span class="keywordflow">catch</span>(...) {} }</div>
<div class="line"><span class="lineno"> 2736</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.empty()) { unlink(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tmp_file_name</a>.c_str()); }</div>
<div class="line"><span class="lineno"> 2737</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_schema&quot;</span>, <span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what());</div>
<div class="line"><span class="lineno"> 2738</span>  }</div>
<div class="line"><span class="lineno"> 2739</span> </div>
<div class="line"><span class="lineno"> 2740</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2741</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a7194b27de7f5d84b823c976c59e8b987"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">dunedaq::oks::OksKernel::classes</a></div><div class="ttdeci">const OksClass::Map &amp; classes() const</div><div class="ttdoc">Get classes.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01765">kernel.hpp:1765</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5afb238e1a4e19a0000dd3bcef7ab73f6a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5afb238e1a4e19a0000dd3bcef7ab73f6a">dunedaq::oks::OksProfiler::KernelSaveSchema</a></div><div class="ttdeci">@ KernelSaveSchema</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00022">profiler.hpp:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f4b9278363d33fad634a92142e53af9" name="a1f4b9278363d33fad634a92142e53af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4b9278363d33fad634a92142e53af9">&#9670;&#160;</a></span>k_set_active_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_set_active_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set active OKS data file. </p>
<p>Non thread-safe version of the <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeb0c7093f5d30ee18f7f925a26ed7631" title="Set active OKS data file.">set_active_data()</a> method;</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04287">4287</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4288</span>{</div>
<div class="line"><span class="lineno"> 4289</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter for file &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 4290</span> </div>
<div class="line"><span class="lineno"> 4291</span> </div>
<div class="line"><span class="lineno"> 4292</span>    <span class="comment">// check if active data is different from given file</span></div>
<div class="line"><span class="lineno"> 4293</span> </div>
<div class="line"><span class="lineno"> 4294</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 4295</span> </div>
<div class="line"><span class="lineno"> 4296</span> </div>
<div class="line"><span class="lineno"> 4297</span>    <span class="comment">// first unlock current active data</span></div>
<div class="line"><span class="lineno"> 4298</span> </div>
<div class="line"><span class="lineno"> 4299</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a9212438f96d29ec5dcf504e9a18e39fa">is_updated</a>() == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 4300</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4301</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a24c05049efffc9fc917cddecc603a367">unlock</a>();</div>
<div class="line"><span class="lineno"> 4302</span>    }</div>
<div class="line"><span class="lineno"> 4303</span>    <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4304</span>      <span class="keywordflow">throw</span> CanNotSetActiveFile(<span class="stringliteral">&quot;data&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 4305</span>    }</div>
<div class="line"><span class="lineno"> 4306</span>  }</div>
<div class="line"><span class="lineno"> 4307</span> </div>
<div class="line"><span class="lineno"> 4308</span> </div>
<div class="line"><span class="lineno"> 4309</span>    <span class="comment">// exit, if file is (null)</span></div>
<div class="line"><span class="lineno"> 4310</span> </div>
<div class="line"><span class="lineno"> 4311</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>) {</div>
<div class="line"><span class="lineno"> 4312</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> = 0;</div>
<div class="line"><span class="lineno"> 4313</span>    <span class="keywordflow">return</span>;    </div>
<div class="line"><span class="lineno"> 4314</span>  }</div>
<div class="line"><span class="lineno"> 4315</span> </div>
<div class="line"><span class="lineno"> 4316</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4317</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a3c0376760a4628038709d08265ef97e5">lock</a>();</div>
<div class="line"><span class="lineno"> 4318</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 4319</span>  }</div>
<div class="line"><span class="lineno"> 4320</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4321</span>    <span class="keywordflow">throw</span> CanNotSetActiveFile(<span class="stringliteral">&quot;data&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 4322</span>  }</div>
<div class="line"><span class="lineno"> 4323</span> </div>
<div class="line"><span class="lineno"> 4324</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;leave for file &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>;</div>
<div class="line"><span class="lineno"> 4325</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a3c0376760a4628038709d08265ef97e5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a3c0376760a4628038709d08265ef97e5">dunedaq::oks::OksFile::lock</a></div><div class="ttdeci">void lock()</div><div class="ttdoc">Lock OKS file.</div><div class="ttdef"><b>Definition</b> <a href="file_8cpp_source.html#l01012">file.cpp:1012</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_a9212438f96d29ec5dcf504e9a18e39fa"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#a9212438f96d29ec5dcf504e9a18e39fa">dunedaq::oks::OksFile::is_updated</a></div><div class="ttdeci">bool is_updated() const</div><div class="ttdoc">Return update status of OKS file.</div><div class="ttdef"><b>Definition</b> <a href="file_8hpp_source.html#l00624">file.hpp:624</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b3933aeaee59c1b09c5cef4657d4b84" name="a6b3933aeaee59c1b09c5cef4657d4b84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3933aeaee59c1b09c5cef4657d4b84">&#9670;&#160;</a></span>k_set_active_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::k_set_active_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set active OKS schema file. Non thread-safe version of the <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a3a3852788c428acefc8f80cb646b4ebb" title="Set active OKS schema file.">set_active_schema()</a> method;. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02912">2912</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2913</span>{</div>
<div class="line"><span class="lineno"> 2914</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter for file &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)f;</div>
<div class="line"><span class="lineno"> 2915</span> </div>
<div class="line"><span class="lineno"> 2916</span>    <span class="comment">// check if active schema is different from given file</span></div>
<div class="line"><span class="lineno"> 2917</span> </div>
<div class="line"><span class="lineno"> 2918</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> == f) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2919</span> </div>
<div class="line"><span class="lineno"> 2920</span> </div>
<div class="line"><span class="lineno"> 2921</span>    <span class="comment">// unlock current active schema, if it was saved</span></div>
<div class="line"><span class="lineno"> 2922</span> </div>
<div class="line"><span class="lineno"> 2923</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a9212438f96d29ec5dcf504e9a18e39fa">is_updated</a>() == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 2924</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2925</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a24c05049efffc9fc917cddecc603a367">unlock</a>();</div>
<div class="line"><span class="lineno"> 2926</span>    }</div>
<div class="line"><span class="lineno"> 2927</span>    <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2928</span>      <span class="keywordflow">throw</span> CanNotSetActiveFile(<span class="stringliteral">&quot;schema&quot;</span>, <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 2929</span>    }</div>
<div class="line"><span class="lineno"> 2930</span>  }</div>
<div class="line"><span class="lineno"> 2931</span> </div>
<div class="line"><span class="lineno"> 2932</span> </div>
<div class="line"><span class="lineno"> 2933</span>    <span class="comment">// exit, if file is (null)</span></div>
<div class="line"><span class="lineno"> 2934</span> </div>
<div class="line"><span class="lineno"> 2935</span>  <span class="keywordflow">if</span>(!f) {</div>
<div class="line"><span class="lineno"> 2936</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> = 0;</div>
<div class="line"><span class="lineno"> 2937</span>    <span class="keywordflow">return</span>;    </div>
<div class="line"><span class="lineno"> 2938</span>  }</div>
<div class="line"><span class="lineno"> 2939</span> </div>
<div class="line"><span class="lineno"> 2940</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2941</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;lock();</div>
<div class="line"><span class="lineno"> 2942</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2943</span>  }</div>
<div class="line"><span class="lineno"> 2944</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2945</span>    <span class="keywordflow">throw</span> CanNotSetActiveFile(<span class="stringliteral">&quot;schema&quot;</span>, <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;get_full_file_name(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 2946</span>  }</div>
<div class="line"><span class="lineno"> 2947</span> </div>
<div class="line"><span class="lineno"> 2948</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;exit for file &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)f;</div>
<div class="line"><span class="lineno"> 2949</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a19f234b7ef4a459f190f1d7ff1a7b738" name="a19f234b7ef4a459f190f1d7ff1a7b738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f234b7ef4a459f190f1d7ff1a7b738">&#9670;&#160;</a></span>load_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::load_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bind</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load OKS data file. </p>
<p>The method loads OKS data file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<p>By default, after the the data file is loaded, the kernel tries to resolve links between objects. This can be rather cpu consuming operation and it is not scalable for sequential load of many files. In this case it is recommended to change the default <b>bind</b> parameter to false for all but last loading data file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the file to be loaded </td></tr>
    <tr><td class="paramname">bind</td><td>if true (by default), resolve links between objects</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the OKS file descriptor.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03561">3561</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3562</span>{</div>
<div class="line"><span class="lineno"> 3563</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3564</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#abcbd7a39f351a35de7866f65d5ae3336">k_load_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, bind, 0, 0);</div>
<div class="line"><span class="lineno"> 3565</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d98efa5a5972ea27ca2fb5d108b035e" name="a0d98efa5a5972ea27ca2fb5d108b035e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d98efa5a5972ea27ca2fb5d108b035e">&#9670;&#160;</a></span>load_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::load_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bind</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load OKS database file. </p>
<p>The method loads OKS schema or data xml file. It parses the file's xml header to detect the file type and calls appropriate <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#aeb9db05d4e3c02013f138b419f15b45e" title="Load OKS schema file.">load_schema()</a> or <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a19f234b7ef4a459f190f1d7ff1a7b738" title="Load OKS data file.">load_data()</a> method.</p>
<p>The method is thread-safe. The user may not have the OKS kernel lock set in the thread which calls this method.</p>
<p>The parameters of the method are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the file to be loaded </td></tr>
    <tr><td class="paramname">bind</td><td>if true, bind objects after load (applicable to data files only)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the OKS file descriptor.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01790">1790</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1791</span>{</div>
<div class="line"><span class="lineno"> 1792</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 1793</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a49029392547fe90f29fff85b3fecf6a6">k_load_file</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, bind, 0, 0);</div>
<div class="line"><span class="lineno"> 1794</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb9db05d4e3c02013f138b419f15b45e" name="aeb9db05d4e3c02013f138b419f15b45e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9db05d4e3c02013f138b419f15b45e">&#9670;&#160;</a></span>load_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::load_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load OKS schema file. </p>
<p>The method loads OKS schema file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<p>The method parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the file to be loaded </td></tr>
    <tr><td class="paramname">parent</td><td>descriptor of the parent file (if defined, the name can be relative to the parent file)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the OKS file descriptor.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02299">2299</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2300</span>{</div>
<div class="line"><span class="lineno"> 2301</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2302</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a9ec76e21d99032a77b340ab0dcea085b">k_load_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">short_file_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">parent_h</a>);</div>
<div class="line"><span class="lineno"> 2303</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a37269a273ca6b32478531309262442e3" name="a37269a273ca6b32478531309262442e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37269a273ca6b32478531309262442e3">&#9670;&#160;</a></span>new_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::new_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>logical_name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create OKS data file. </p>
<p>The method creates new OKS data file and makes it active.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<p>The method parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the new data file </td></tr>
    <tr><td class="paramname">logical_name</td><td>user-defined logical name of the file (any string passed to the OKS file xml header) </td></tr>
    <tr><td class="paramname">type</td><td>user-defined type of the file (any string passed to the OKS file xml header)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the OKS file descriptor.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03720">3720</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3721</span>{</div>
<div class="line"><span class="lineno"> 3722</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;new_data&quot;</span>;</div>
<div class="line"><span class="lineno"> 3723</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, s, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 3724</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 3725</span> </div>
<div class="line"><span class="lineno"> 3726</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.length()) {</div>
<div class="line"><span class="lineno"> 3727</span>    <span class="keywordflow">throw</span> CanNotOpenFile(<span class="stringliteral">&quot;new_data&quot;</span>, s, <span class="stringliteral">&quot;file name is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 3728</span>  }</div>
<div class="line"><span class="lineno"> 3729</span> </div>
<div class="line"><span class="lineno"> 3730</span>  std::string file_name(s);</div>
<div class="line"><span class="lineno"> 3731</span> </div>
<div class="line"><span class="lineno"> 3732</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3733</span> </div>
<div class="line"><span class="lineno"> 3734</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a4b9f0b9511be1355ec86bf2cd6354933">Oks::substitute_variables</a>(file_name);</div>
<div class="line"><span class="lineno"> 3735</span> </div>
<div class="line"><span class="lineno"> 3736</span>    <a class="code hl_function" href="namespacedunedaq_1_1oks.html#acb2aeb1a65aca332fdc01f833a537909">test_file_existence</a>(file_name, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>, <span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line"><span class="lineno"> 3737</span> </div>
<div class="line"><span class="lineno"> 3738</span>    file_name = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(s, <span class="keyword">nullptr</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3739</span> </div>
<div class="line"><span class="lineno"> 3740</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3741</span> </div>
<div class="line"><span class="lineno"> 3742</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a3b91bb526a41a0a6d37fe3127c1d4bdd">find_data_file</a>(file_name) != 0) {</div>
<div class="line"><span class="lineno"> 3743</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;the file is already loaded&quot;</span>);</div>
<div class="line"><span class="lineno"> 3744</span>    }</div>
<div class="line"><span class="lineno"> 3745</span> </div>
<div class="line"><span class="lineno"> 3746</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(file_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">logical_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#a127486d2b1f33d41b50cc70b1422af72">type</a>, <span class="stringliteral">&quot;data&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 3747</span> </div>
<div class="line"><span class="lineno"> 3748</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_short_name = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno"> 3749</span> </div>
<div class="line"><span class="lineno"> 3750</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f4b9278363d33fad634a92142e53af9">k_set_active_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 3751</span> </div>
<div class="line"><span class="lineno"> 3752</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a43867cc68722cee1fc2d477db077309f">add_data_file</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>);</div>
<div class="line"><span class="lineno"> 3753</span> </div>
<div class="line"><span class="lineno"> 3754</span>  }</div>
<div class="line"><span class="lineno"> 3755</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3756</span>    <span class="keywordflow">throw</span> CanNotCreateFile(<span class="stringliteral">&quot;new_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, file_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 3757</span>  }</div>
<div class="line"><span class="lineno"> 3758</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3759</span>    <span class="keywordflow">throw</span> CanNotCreateFile(<span class="stringliteral">&quot;new_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, file_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 3760</span>  }</div>
<div class="line"><span class="lineno"> 3761</span> </div>
<div class="line"><span class="lineno"> 3762</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 3763</span> </div>
<div class="line"><span class="lineno"> 3764</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a>;</div>
<div class="line"><span class="lineno"> 3765</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a1f4b9278363d33fad634a92142e53af9"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a1f4b9278363d33fad634a92142e53af9">dunedaq::oks::OksKernel::k_set_active_data</a></div><div class="ttdeci">void k_set_active_data(OksFile *)</div><div class="ttdoc">Set active OKS data file.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04287">kernel.cpp:4287</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_acb2aeb1a65aca332fdc01f833a537909"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#acb2aeb1a65aca332fdc01f833a537909">dunedaq::oks::test_file_existence</a></div><div class="ttdeci">static void test_file_existence(const std::string &amp;file_name, bool silence, const std::string &amp;fname, const char *msg)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l01597">kernel.cpp:1597</a></div></div>
<div class="ttc" id="anamespacedunedaq_html_a127486d2b1f33d41b50cc70b1422af72"><div class="ttname"><a href="namespacedunedaq.html#a127486d2b1f33d41b50cc70b1422af72">dunedaq::type</a></div><div class="ttdeci">Unknown serialization type</div><div class="ttdef"><b>Definition</b> <a href="Serialization_8hpp_source.html#l00136">Serialization.hpp:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abce2f3cafd6dff70fa23fe5084336f6a" name="abce2f3cafd6dff70fa23fe5084336f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce2f3cafd6dff70fa23fe5084336f6a">&#9670;&#160;</a></span>new_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * dunedaq::oks::OksKernel::new_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create OKS schema file. </p>
<p>The method creates new OKS schema file and makes it active.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the new schema file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return pointer to the OKS file descriptor</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02487">2487</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2488</span>{</div>
<div class="line"><span class="lineno"> 2489</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;new_schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2490</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, s, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2491</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2492</span> </div>
<div class="line"><span class="lineno"> 2493</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.length()) {</div>
<div class="line"><span class="lineno"> 2494</span>    <span class="keywordflow">throw</span> CanNotOpenFile(<span class="stringliteral">&quot;new_schema&quot;</span>, s, <span class="stringliteral">&quot;file name is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2495</span>  }</div>
<div class="line"><span class="lineno"> 2496</span> </div>
<div class="line"><span class="lineno"> 2497</span>  std::string file_name(s);</div>
<div class="line"><span class="lineno"> 2498</span> </div>
<div class="line"><span class="lineno"> 2499</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2500</span> </div>
<div class="line"><span class="lineno"> 2501</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a4b9f0b9511be1355ec86bf2cd6354933">Oks::substitute_variables</a>(file_name);</div>
<div class="line"><span class="lineno"> 2502</span> </div>
<div class="line"><span class="lineno"> 2503</span>    <a class="code hl_function" href="namespacedunedaq_1_1oks.html#acb2aeb1a65aca332fdc01f833a537909">test_file_existence</a>(file_name, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>, <span class="stringliteral">&quot;schema&quot;</span>);</div>
<div class="line"><span class="lineno"> 2504</span> </div>
<div class="line"><span class="lineno"> 2505</span>    file_name = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(s, <span class="keyword">nullptr</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2506</span> </div>
<div class="line"><span class="lineno"> 2507</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2508</span> </div>
<div class="line"><span class="lineno"> 2509</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a752af55e3df2503d519e1ac93a125c7c">find_schema_file</a>(file_name) != 0) {</div>
<div class="line"><span class="lineno"> 2510</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;the file is already loaded&quot;</span>);</div>
<div class="line"><span class="lineno"> 2511</span>    }</div>
<div class="line"><span class="lineno"> 2512</span> </div>
<div class="line"><span class="lineno"> 2513</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a>(file_name, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;schema&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2514</span> </div>
<div class="line"><span class="lineno"> 2515</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>-&gt;p_short_name = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno"> 2516</span> </div>
<div class="line"><span class="lineno"> 2517</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6b3933aeaee59c1b09c5cef4657d4b84">k_set_active_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>);</div>
<div class="line"><span class="lineno"> 2518</span> </div>
<div class="line"><span class="lineno"> 2519</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ad4e44d178e13a22360d2341e5798d601">add_schema_file</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>);</div>
<div class="line"><span class="lineno"> 2520</span> </div>
<div class="line"><span class="lineno"> 2521</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a40347912eeda877c475e98ec39130df7">registrate_all_classes</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2522</span> </div>
<div class="line"><span class="lineno"> 2523</span>  }</div>
<div class="line"><span class="lineno"> 2524</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 2525</span>    <span class="keywordflow">throw</span> CanNotCreateFile(<span class="stringliteral">&quot;new_schema&quot;</span>, <span class="stringliteral">&quot;schema file&quot;</span>, file_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 2526</span>  }</div>
<div class="line"><span class="lineno"> 2527</span>  <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2528</span>    <span class="keywordflow">throw</span> CanNotCreateFile(<span class="stringliteral">&quot;new_schema&quot;</span>, <span class="stringliteral">&quot;schema file&quot;</span>, file_name, <span class="stringliteral">&quot;caught unknown exception&quot;</span>);</div>
<div class="line"><span class="lineno"> 2529</span>  }</div>
<div class="line"><span class="lineno"> 2530</span> </div>
<div class="line"><span class="lineno"> 2531</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2532</span> </div>
<div class="line"><span class="lineno"> 2533</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a027d8e76d068dde3dd3c2195376c695a">p_active_schema</a>;</div>
<div class="line"><span class="lineno"> 2534</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a6b3933aeaee59c1b09c5cef4657d4b84"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a6b3933aeaee59c1b09c5cef4657d4b84">dunedaq::oks::OksKernel::k_set_active_schema</a></div><div class="ttdeci">void k_set_active_schema(OksFile *file_h)</div><div class="ttdoc">Set active OKS schema file. Non thread-safe version of the set_active_schema() method;.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02912">kernel.cpp:2912</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bc4ea35869f6512e1b0d3ff5ad8ba89" name="a9bc4ea35869f6512e1b0d3ff5ad8ba89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc4ea35869f6512e1b0d3ff5ad8ba89">&#9670;&#160;</a></span>number_of_classes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">size_t</a> dunedaq::oks::OksKernel::number_of_classes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of classes. </p>
<dl class="section return"><dt>Returns</dt><dd>The method returns number of classes loaded in-memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01774">1774</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1774</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.size();}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaef2f867314aaa47ee4446fadf133aa4" name="aaef2f867314aaa47ee4446fadf133aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef2f867314aaa47ee4446fadf133aa4">&#9670;&#160;</a></span>number_of_objects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">size_t</a> dunedaq::oks::OksKernel::number_of_objects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of objects. </p>
<p>The method returns number of objects loaded in-memory. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01797">1797</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1797</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.size();}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4451c61d3c25506e72704903c82ae29f" name="a4451c61d3c25506e72704903c82ae29f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4451c61d3c25506e72704903c82ae29f">&#9670;&#160;</a></span>objects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#af3e245cfa22aaeff278cb6a793b902fc">OksObject::Set</a> &amp; dunedaq::oks::OksKernel::objects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get objects. </p>
<p>In multi-threaded environment to iterate through the set it could be necessary to acquire at least read oks kernel lock before calling the method to be sure that another thread does not modify the set of objects (i.e. destroy or create objects, open or close oks data files).</p>
<dl class="section return"><dt>Returns</dt><dd>The method returns const reference on set of all objects loaded in-memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01788">1788</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1788</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3e6130b08566656a4ce61d54f4c5691" name="aa3e6130b08566656a4ce61d54f4c5691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e6130b08566656a4ce61d54f4c5691">&#9670;&#160;</a></span>read_repository_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::read_repository_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and return current repository version. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05511">5511</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5512</span>{</div>
<div class="line"><span class="lineno"> 5513</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 5514</span> </div>
<div class="line"><span class="lineno"> 5515</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">OksKernel::get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5516</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;the repository-root is not set (check environment variable TDAQ_DB_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5517</span> </div>
<div class="line"><span class="lineno"> 5518</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5519</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;the user-repository-root is not set (check environment variable TDAQ_DB_USER_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5520</span> </div>
<div class="line"><span class="lineno"> 5521</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-version.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5522</span> </div>
<div class="line"><span class="lineno"> 5523</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5524</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5525</span> </div>
<div class="line"><span class="lineno"> 5526</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-status&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5527</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 5528</span> </div>
<div class="line"><span class="lineno"> 5529</span>  std::string output = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5530</span> </div>
<div class="line"><span class="lineno"> 5531</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>(<span class="stringliteral">&quot;oks version &quot;</span>);</div>
<div class="line"><span class="lineno"> 5532</span>  std::string <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.last_str();</div>
<div class="line"><span class="lineno"> 5533</span>  std::string::size_type pos = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>);</div>
<div class="line"><span class="lineno"> 5534</span> </div>
<div class="line"><span class="lineno"> 5535</span>  <span class="keywordflow">if</span> (pos == 0)</div>
<div class="line"><span class="lineno"> 5536</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a> = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>.size());</div>
<div class="line"><span class="lineno"> 5537</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5538</span>    {</div>
<div class="line"><span class="lineno"> 5539</span>      std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 5540</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;cannot read oks version from oks-version.sh output: \&quot;&quot;</span> &lt;&lt; output &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><span class="lineno"> 5541</span>      <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;get version&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str().c_str());</div>
<div class="line"><span class="lineno"> 5542</span>    }</div>
<div class="line"><span class="lineno"> 5543</span> </div>
<div class="line"><span class="lineno"> 5544</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a>;</div>
<div class="line"><span class="lineno"> 5545</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40347912eeda877c475e98ec39130df7" name="a40347912eeda877c475e98ec39130df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40347912eeda877c475e98ec39130df7">&#9670;&#160;</a></span>registrate_all_classes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::registrate_all_classes </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_registered</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The method rebuilds all classes taking into account inheritance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip_registered</td><td>skip registration of already processed classes (used to improve performance)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04501">4501</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4502</span>{</div>
<div class="line"><span class="lineno"> 4503</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae97100aa2f2c13a8c80d9c4e99456b27">p_schema_mutex</a>);  <span class="comment">// protect schema and all objects from changes</span></div>
<div class="line"><span class="lineno"> 4504</span> </div>
<div class="line"><span class="lineno"> 4505</span>  <span class="keywordflow">if</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_classes</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.size()) {</div>
<div class="line"><span class="lineno"> 4506</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> ** <a class="code hl_variable" href="namespaceafc_1_1click__texttable.html#a9fe6948d128ca1c3f92eb342ef839629">table</a> = <span class="keyword">new</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * [<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_classes</a>];</div>
<div class="line"><span class="lineno"> 4507</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">array_size</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_classes</a> * <span class="keyword">sizeof</span>(<a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a>*) / <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>);  <span class="comment">// is used by wmemset() to init above array with NULLs</span></div>
<div class="line"><span class="lineno"> 4508</span> </div>
<div class="line"><span class="lineno"> 4509</span>    OksClass::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin();</div>
<div class="line"><span class="lineno"> 4510</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>(0);</div>
<div class="line"><span class="lineno"> 4511</span> </div>
<div class="line"><span class="lineno"> 4512</span>    <span class="keywordflow">for</span>(; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;registrate_class(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">skip_registered</a>);</div>
<div class="line"><span class="lineno"> 4513</span> </div>
<div class="line"><span class="lineno"> 4514</span>      <span class="comment">// create lists of sub-classes</span></div>
<div class="line"><span class="lineno"> 4515</span>      <span class="comment">// note: do not use unscalable OksClass::create_sub_classes()</span></div>
<div class="line"><span class="lineno"> 4516</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4517</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 4518</span> </div>
<div class="line"><span class="lineno"> 4519</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes) <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes = <span class="keyword">new</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a>();</div>
<div class="line"><span class="lineno"> 4520</span>      <span class="keywordflow">else</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_sub_classes-&gt;clear();</div>
<div class="line"><span class="lineno"> 4521</span> </div>
<div class="line"><span class="lineno"> 4522</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_id = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>++;</div>
<div class="line"><span class="lineno"> 4523</span>    }</div>
<div class="line"><span class="lineno"> 4524</span> </div>
<div class="line"><span class="lineno"> 4525</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4526</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 4527</span>      <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scl</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_super_classes) {</div>
<div class="line"><span class="lineno"> 4528</span>        <span class="keywordflow">for</span>(OksClass::FList::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scl</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">scl</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 4529</span>      (*j)-&gt;p_all_sub_classes-&gt;push_back(c);</div>
<div class="line"><span class="lineno"> 4530</span>    }</div>
<div class="line"><span class="lineno"> 4531</span>      }</div>
<div class="line"><span class="lineno"> 4532</span>    }</div>
<div class="line"><span class="lineno"> 4533</span> </div>
<div class="line"><span class="lineno"> 4534</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a51319cf5a543a3f31c80db7b835ae46a">get_test_duplicated_objects_via_inheritance_mode</a>() &amp;&amp; !<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a60a1390720618d5fdda29357d60e8d71">get_allow_duplicated_objects_mode</a>()) {</div>
<div class="line"><span class="lineno"> 4535</span>      <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4536</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 4537</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_is_abstract()) {</div>
<div class="line"><span class="lineno"> 4538</span>          <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">spc</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;all_super_classes()) {</div>
<div class="line"><span class="lineno"> 4539</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">spc</a>-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 4540</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">wmemset</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">wchar_t</span> *<span class="keyword">&gt;</span>(table), 0, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">array_size</a>);  <span class="comment">// [re-]set table by NULLs</span></div>
<div class="line"><span class="lineno"> 4541</span>              <span class="keywordflow">for</span>(OksClass::FList::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j1</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">spc</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j1</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">spc</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j1</a>) {</div>
<div class="line"><span class="lineno"> 4542</span>            <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#a85b8ba52b8c48ca5b85c260d816369d8">OksClass::FList</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sbc</a> = (*j1)-&gt;all_sub_classes()) {</div>
<div class="line"><span class="lineno"> 4543</span>              <span class="keywordflow">for</span>(OksClass::FList::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sbc</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j2</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sbc</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j2</a>) {</div>
<div class="line"><span class="lineno"> 4544</span>                    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c2</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j2</a>);</div>
<div class="line"><span class="lineno"> 4545</span>                    <span class="keywordflow">if</span>((<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c2</a> != c) &amp;&amp; !<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c2</a>-&gt;get_is_abstract()) {</div>
<div class="line"><span class="lineno"> 4546</span>                      <a class="code hl_variable" href="namespaceafc_1_1click__texttable.html#a9fe6948d128ca1c3f92eb342ef839629">table</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c2</a>-&gt;p_id] = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">c2</a>;</div>
<div class="line"><span class="lineno"> 4547</span>                    }</div>
<div class="line"><span class="lineno"> 4548</span>              }</div>
<div class="line"><span class="lineno"> 4549</span>            }</div>
<div class="line"><span class="lineno"> 4550</span>          }</div>
<div class="line"><span class="lineno"> 4551</span>              </div>
<div class="line"><span class="lineno"> 4552</span>              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count(0);</div>
<div class="line"><span class="lineno"> 4553</span>              <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> &lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_classes</a>; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>) {</div>
<div class="line"><span class="lineno"> 4554</span>                <span class="keywordflow">if</span>(table[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>]) count++;</div>
<div class="line"><span class="lineno"> 4555</span>              }</div>
<div class="line"><span class="lineno"> 4556</span> </div>
<div class="line"><span class="lineno"> 4557</span>              <span class="keywordflow">if</span>(count) {</div>
<div class="line"><span class="lineno"> 4558</span>                std::vector&lt;OksClass *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cih</a>;</div>
<div class="line"><span class="lineno"> 4559</span>                <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_inheritance_hierarchy) {</div>
<div class="line"><span class="lineno"> 4560</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cih</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_inheritance_hierarchy = <span class="keyword">new</span> std::vector&lt;OksClass *&gt;();</div>
<div class="line"><span class="lineno"> 4561</span>                }</div>
<div class="line"><span class="lineno"> 4562</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4563</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cih</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_inheritance_hierarchy;</div>
<div class="line"><span class="lineno"> 4564</span>                  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cih</a>-&gt;clear();</div>
<div class="line"><span class="lineno"> 4565</span>                }</div>
<div class="line"><span class="lineno"> 4566</span> </div>
<div class="line"><span class="lineno"> 4567</span>                <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cih</a>-&gt;reserve(count);</div>
<div class="line"><span class="lineno"> 4568</span> </div>
<div class="line"><span class="lineno"> 4569</span>                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = 0; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> &lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_classes</a>; ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>) {</div>
<div class="line"><span class="lineno"> 4570</span>                  <span class="keywordflow">if</span>(table[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>]) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cih</a>-&gt;push_back(table[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>]);</div>
<div class="line"><span class="lineno"> 4571</span>                }</div>
<div class="line"><span class="lineno"> 4572</span>              }</div>
<div class="line"><span class="lineno"> 4573</span>        }</div>
<div class="line"><span class="lineno"> 4574</span>      }</div>
<div class="line"><span class="lineno"> 4575</span>    }</div>
<div class="line"><span class="lineno"> 4576</span>      }</div>
<div class="line"><span class="lineno"> 4577</span> </div>
<div class="line"><span class="lineno"> 4578</span><span class="preprocessor">#ifndef ERS_NO_DEBUG</span></div>
<div class="line"><span class="lineno"> 4579</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="namespaceers.html#a1ea8a7c8d5348fcf8f53ecb0f9bb0284">ers::debug_level</a>() &gt;= 2) {</div>
<div class="line"><span class="lineno"> 4580</span>        std::ostringstream <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno"> 4581</span> </div>
<div class="line"><span class="lineno"> 4582</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4583</span>          <span class="keywordflow">if</span>(std::vector&lt;OksClass *&gt; * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cis</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_inheritance_hierarchy) {</div>
<div class="line"><span class="lineno"> 4584</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot; - class \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_name() &lt;&lt; <span class="stringliteral">&quot;\&#39; shares IDs with &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cis</a>-&gt;size() &lt;&lt; <span class="stringliteral">&quot; classes: &quot;</span>;</div>
<div class="line"><span class="lineno"> 4585</span>        <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#aeca78a23595441656c774ae0c3db899e">OksClass::Set</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>;</div>
<div class="line"><span class="lineno"> 4586</span>        <span class="keywordflow">for</span>(std::vector&lt;OksClass *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cis</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cis</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 4587</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.insert(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>);</div>
<div class="line"><span class="lineno"> 4588</span>        }</div>
<div class="line"><span class="lineno"> 4589</span>        <span class="keywordflow">for</span>(OksClass::Set::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 4590</span>              <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">sorted</a>.begin()) s &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><span class="lineno"> 4591</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span> &lt;&lt; (*j)-&gt;get_name() &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4592</span>        }</div>
<div class="line"><span class="lineno"> 4593</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 4594</span>          }</div>
<div class="line"><span class="lineno"> 4595</span>    }</div>
<div class="line"><span class="lineno"> 4596</span> </div>
<div class="line"><span class="lineno"> 4597</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;Schema inheritance hierarchy used to test objects with equal IDs:\n&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.str();</div>
<div class="line"><span class="lineno"> 4598</span>      }</div>
<div class="line"><span class="lineno"> 4599</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 4600</span>    }</div>
<div class="line"><span class="lineno"> 4601</span> </div>
<div class="line"><span class="lineno"> 4602</span>    <span class="keyword">delete</span> [] <a class="code hl_variable" href="namespaceafc_1_1click__texttable.html#a9fe6948d128ca1c3f92eb342ef839629">table</a>;</div>
<div class="line"><span class="lineno"> 4603</span> </div>
<div class="line"><span class="lineno"> 4604</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a33c97793bb43245809c330afad3754b5">k_check_bind_classes_status</a>();</div>
<div class="line"><span class="lineno"> 4605</span>  }</div>
<div class="line"><span class="lineno"> 4606</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_aeca78a23595441656c774ae0c3db899e"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#aeca78a23595441656c774ae0c3db899e">dunedaq::oks::OksClass::Set</a></div><div class="ttdeci">std::set&lt; OksClass *, SortByName &gt; Set</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00222">class.hpp:222</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a33c97793bb43245809c330afad3754b5"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a33c97793bb43245809c330afad3754b5">dunedaq::oks::OksKernel::k_check_bind_classes_status</a></div><div class="ttdeci">void k_check_bind_classes_status() const noexcept</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l05712">kernel.cpp:5712</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a51319cf5a543a3f31c80db7b835ae46a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a51319cf5a543a3f31c80db7b835ae46a">dunedaq::oks::OksKernel::get_test_duplicated_objects_via_inheritance_mode</a></div><div class="ttdeci">bool get_test_duplicated_objects_via_inheritance_mode() const</div><div class="ttdoc">Get status of test inherited duplicated objects mode. The method returns true, if the mode is switche...</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00763">kernel.hpp:763</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a60a1390720618d5fdda29357d60e8d71"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a60a1390720618d5fdda29357d60e8d71">dunedaq::oks::OksKernel::get_allow_duplicated_objects_mode</a></div><div class="ttdeci">bool get_allow_duplicated_objects_mode() const</div><div class="ttdoc">Get status of duplicated objects mode. The method returns true, if the duplicated objects mode is swi...</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00739">kernel.hpp:739</a></div></div>
<div class="ttc" id="anamespaceafc_1_1click__texttable_html_a9fe6948d128ca1c3f92eb342ef839629"><div class="ttname"><a href="namespaceafc_1_1click__texttable.html#a9fe6948d128ca1c3f92eb342ef839629">afc.click_texttable.table</a></div><div class="ttdeci">table</div><div class="ttdef"><b>Definition</b> <a href="click__texttable_8py_source.html#l00665">click_texttable.py:665</a></div></div>
<div class="ttc" id="anamespaceers_html_a1ea8a7c8d5348fcf8f53ecb0f9bb0284"><div class="ttname"><a href="namespaceers.html#a1ea8a7c8d5348fcf8f53ecb0f9bb0284">ers::debug_level</a></div><div class="ttdeci">int debug_level()</div><div class="ttdef"><b>Definition</b> <a href="ers_8hpp_source.html#l00066">ers.hpp:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a0dbfac3dbc08f773ca64f7d2c4a398" name="a5a0dbfac3dbc08f773ca64f7d2c4a398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a0dbfac3dbc08f773ca64f7d2c4a398">&#9670;&#160;</a></span>reload_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::reload_data </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_schema_extension</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reload OKS data files. </p>
<p>The method reloads data files. The non-modified objects are not changed in-memory. The objects which were removed in the file are removed in-memory. New objects created in the file are created in-memory. The values of an object' relationships and attributes changed in the file are changed in memory, the address of such object in-memory is not changed.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<p>The method invokes notification on changes if there is an appropriate subscription.</p>
<p>The method parameters are: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">files</td><td>set of pointer to the OKS data file descriptors returned by a kernel method </td></tr>
    <tr><td class="paramname">allow_schema_extension</td><td>if true, new schema files can be included in modified data files</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03213">3213</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3214</span>{</div>
<div class="line"><span class="lineno"> 3215</span>  std::map&lt;OksFile *, std::vector&lt;std::string&gt; &gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">included</a>;</div>
<div class="line"><span class="lineno"> 3216</span> </div>
<div class="line"><span class="lineno"> 3217</span>  std::set&lt;OksFile *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>;</div>
<div class="line"><span class="lineno"> 3218</span> </div>
<div class="line"><span class="lineno"> 3219</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">check_includes</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3220</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_schema_files</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3221</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>;</div>
<div class="line"><span class="lineno"> 3222</span> </div>
<div class="line"><span class="lineno"> 3223</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3224</span> </div>
<div class="line"><span class="lineno"> 3225</span>  <span class="keywordflow">for</span>(std::set&lt;OksFile *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.end();) {</div>
<div class="line"><span class="lineno"> 3226</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="namespacedunedaq_1_1oks.html#ae50f9590e1c96e3009d908b6d2fd9303">_find_file</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a>)) {</div>
<div class="line"><span class="lineno"> 3227</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_schema_files</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3228</span>    }</div>
<div class="line"><span class="lineno"> 3229</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code hl_function" href="namespacedunedaq_1_1oks.html#ae50f9590e1c96e3009d908b6d2fd9303">_find_file</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a>)) {</div>
<div class="line"><span class="lineno"> 3230</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#adef160fc77dbd7c72b55b52b6c976b21">Oks::error_msg</a>(<span class="stringliteral">&quot;OksKernel::reload_data&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;file &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a>) &lt;&lt; <span class="stringliteral">&quot; is not OKS data or schema file, skip...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3231</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.erase(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a>++);</div>
<div class="line"><span class="lineno"> 3232</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3233</span>    }</div>
<div class="line"><span class="lineno"> 3234</span> </div>
<div class="line"><span class="lineno"> 3235</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.begin()) <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>.append(<span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><span class="lineno"> 3236</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>.push_back(<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 3237</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>.append((*fi)-&gt;get_full_file_name());</div>
<div class="line"><span class="lineno"> 3238</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>.push_back(<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 3239</span>    ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fi</a>;</div>
<div class="line"><span class="lineno"> 3240</span>  }</div>
<div class="line"><span class="lineno"> 3241</span> </div>
<div class="line"><span class="lineno"> 3242</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3243</span> </div>
<div class="line"><span class="lineno"> 3244</span>      <span class="comment">// throw exception on schema_files</span></div>
<div class="line"><span class="lineno"> 3245</span> </div>
<div class="line"><span class="lineno"> 3246</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">found_schema_files</a>) {</div>
<div class="line"><span class="lineno"> 3247</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Reload of modified schema files is not supported&quot;</span>);</div>
<div class="line"><span class="lineno"> 3248</span>    }</div>
<div class="line"><span class="lineno"> 3249</span> </div>
<div class="line"><span class="lineno"> 3250</span>      <span class="comment">// exit, if there are no files to reload (e.g. dangling refs.)</span></div>
<div class="line"><span class="lineno"> 3251</span> </div>
<div class="line"><span class="lineno"> 3252</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3253</span> </div>
<div class="line"><span class="lineno"> 3254</span> </div>
<div class="line"><span class="lineno"> 3255</span>      <span class="comment">// unlock any locked file</span></div>
<div class="line"><span class="lineno"> 3256</span>      <span class="comment">// build container of objects which can be updated (and removed, if not reloaded)</span></div>
<div class="line"><span class="lineno"> 3257</span> </div>
<div class="line"><span class="lineno"> 3258</span>    ReloadObjects reload_objects;</div>
<div class="line"><span class="lineno"> 3259</span> </div>
<div class="line"><span class="lineno"> 3260</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3261</span>      <span class="keywordflow">if</span>((*i)-&gt;is_locked()) {</div>
<div class="line"><span class="lineno"> 3262</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> == (*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>)) { <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ae85145f1522602d506b8d933519f9018">p_active_data</a> = 0; }</div>
<div class="line"><span class="lineno"> 3263</span>        (*i)-&gt;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksFile.html#a24c05049efffc9fc917cddecc603a367">unlock</a>();</div>
<div class="line"><span class="lineno"> 3264</span>      }</div>
<div class="line"><span class="lineno"> 3265</span> </div>
<div class="line"><span class="lineno"> 3266</span>      <span class="keywordflow">for</span>(OksObject::Set::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a>) {</div>
<div class="line"><span class="lineno"> 3267</span>        <span class="keywordflow">if</span>((*oi)-&gt;file == *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) reload_objects.put(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a>);</div>
<div class="line"><span class="lineno"> 3268</span>      }</div>
<div class="line"><span class="lineno"> 3269</span>    }</div>
<div class="line"><span class="lineno"> 3270</span> </div>
<div class="line"><span class="lineno"> 3271</span> </div>
<div class="line"><span class="lineno"> 3272</span>      <span class="comment">// preload includes of modified files</span></div>
<div class="line"><span class="lineno"> 3273</span> </div>
<div class="line"><span class="lineno"> 3274</span>    {</div>
<div class="line"><span class="lineno"> 3275</span>      std::set&lt;OksFile *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>;</div>
<div class="line"><span class="lineno"> 3276</span> </div>
<div class="line"><span class="lineno"> 3277</span>      <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3278</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3279</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">check_includes</a> |= <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ae6eab6ca06d65feece11b903c1cc7c1d">k_preload_includes</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">allow_schema_extension</a>);</div>
<div class="line"><span class="lineno"> 3280</span>        }</div>
<div class="line"><span class="lineno"> 3281</span>        <span class="keywordflow">catch</span>(...) {</div>
<div class="line"><span class="lineno"> 3282</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a12151554eb59b8a7260587a4185806ec">restore_preload_file_info</a>();</div>
<div class="line"><span class="lineno"> 3283</span>          <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 3284</span>        }</div>
<div class="line"><span class="lineno"> 3285</span>      }</div>
<div class="line"><span class="lineno"> 3286</span> </div>
<div class="line"><span class="lineno"> 3287</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aaf17f0818840737a901622eec411f0b2">clear_preload_file_info</a>();</div>
<div class="line"><span class="lineno"> 3288</span> </div>
<div class="line"><span class="lineno"> 3289</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>.empty()) {</div>
<div class="line"><span class="lineno"> 3290</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>.size() &lt;&lt; <span class="stringliteral">&quot; new files will be loaded&quot;</span>;</div>
<div class="line"><span class="lineno"> 3291</span>      }</div>
<div class="line"><span class="lineno"> 3292</span> </div>
<div class="line"><span class="lineno"> 3293</span>      <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3294</span>        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.insert(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 3295</span>      }</div>
<div class="line"><span class="lineno"> 3296</span>    }</div>
<div class="line"><span class="lineno"> 3297</span> </div>
<div class="line"><span class="lineno"> 3298</span>      <span class="comment">// build list of files to be closed:</span></div>
<div class="line"><span class="lineno"> 3299</span>      <span class="comment">// close files which are no more referenced by others</span></div>
<div class="line"><span class="lineno"> 3300</span>      <span class="comment">// this may happen if there are changes in the list of includes</span></div>
<div class="line"><span class="lineno"> 3301</span> </div>
<div class="line"><span class="lineno"> 3302</span>    std::set&lt;OksFile *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>;</div>
<div class="line"><span class="lineno"> 3303</span> </div>
<div class="line"><span class="lineno"> 3304</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">check_includes</a>) {</div>
<div class="line"><span class="lineno"> 3305</span>      <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_closing_files</a> = 0;</div>
<div class="line"><span class="lineno"> 3306</span> </div>
<div class="line"><span class="lineno"> 3307</span>      <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 3308</span> </div>
<div class="line"><span class="lineno"> 3309</span>          <span class="comment">// build list of good (i.e. &quot;included&quot;) files</span></div>
<div class="line"><span class="lineno"> 3310</span>          <span class="comment">// rebuild the list, if at least one file was excluded</span></div>
<div class="line"><span class="lineno"> 3311</span> </div>
<div class="line"><span class="lineno"> 3312</span>        std::map&lt;std::string, OksFile *&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">good_files</a>;</div>
<div class="line"><span class="lineno"> 3313</span>    </div>
<div class="line"><span class="lineno"> 3314</span>        <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 3315</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second) == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.end()) {</div>
<div class="line"><span class="lineno"> 3316</span>            <span class="keywordflow">for</span>(std::list&lt;std::string&gt;::iterator l = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second-&gt;p_list_of_include_files.begin(); <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a120b2044ebb29847953e5c6a1a0bfba3">l</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second-&gt;p_list_of_include_files.end(); ++<a class="code hl_variable" href="namespacehermes-make-dro-map.html#a120b2044ebb29847953e5c6a1a0bfba3">l</a>) {</div>
<div class="line"><span class="lineno"> 3317</span>              <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3318</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">good_files</a>[<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5860041c8ac8636fe5f56bf6a3ee7f49">get_file_path</a>(*l, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second)] = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 3319</span>              }</div>
<div class="line"><span class="lineno"> 3320</span>              <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 3321</span>              }</div>
<div class="line"><span class="lineno"> 3322</span>            }</div>
<div class="line"><span class="lineno"> 3323</span>          }</div>
<div class="line"><span class="lineno"> 3324</span>        }</div>
<div class="line"><span class="lineno"> 3325</span> </div>
<div class="line"><span class="lineno"> 3326</span>        <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end(); ) {</div>
<div class="line"><span class="lineno"> 3327</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;p_included_by &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second) == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.end()) {</div>
<div class="line"><span class="lineno"> 3328</span>            <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;check the file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot;\&#39; is included&quot;</span>;</div>
<div class="line"><span class="lineno"> 3329</span>            <span class="keyword">const</span> std::string&amp; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name();</div>
<div class="line"><span class="lineno"> 3330</span>            <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 3331</span>            ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>;</div>
<div class="line"><span class="lineno"> 3332</span> </div>
<div class="line"><span class="lineno"> 3333</span>            <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>-&gt;p_included_by = 0;</div>
<div class="line"><span class="lineno"> 3334</span> </div>
<div class="line"><span class="lineno"> 3335</span>              <span class="comment">// search for a file which could include given one</span></div>
<div class="line"><span class="lineno"> 3336</span> </div>
<div class="line"><span class="lineno"> 3337</span>            std::map&lt;std::string, OksFile *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">good_files</a>.find(s);</div>
<div class="line"><span class="lineno"> 3338</span> </div>
<div class="line"><span class="lineno"> 3339</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">good_files</a>.end()) {</div>
<div class="line"><span class="lineno"> 3340</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>-&gt;p_included_by = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 3341</span>        }</div>
<div class="line"><span class="lineno"> 3342</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3343</span>              <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.insert(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>);</div>
<div class="line"><span class="lineno"> 3344</span> </div>
<div class="line"><span class="lineno"> 3345</span>              <span class="keywordflow">for</span>(OksObject::Set::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a>) {</div>
<div class="line"><span class="lineno"> 3346</span>                <span class="keywordflow">if</span>((*oi)-&gt;file == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>) {</div>
<div class="line"><span class="lineno"> 3347</span>          reload_objects.put(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oi</a>); </div>
<div class="line"><span class="lineno"> 3348</span>            }</div>
<div class="line"><span class="lineno"> 3349</span>              }</div>
<div class="line"><span class="lineno"> 3350</span> </div>
<div class="line"><span class="lineno"> 3351</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.erase(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>)) {</div>
<div class="line"><span class="lineno"> 3352</span>                <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;skip reload of updated file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot; since it will be closed&quot;</span>;</div>
<div class="line"><span class="lineno"> 3353</span>              }</div>
<div class="line"><span class="lineno"> 3354</span> </div>
<div class="line"><span class="lineno"> 3355</span>              <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;file \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">f2</a>-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot; will be closed&quot;</span>;</div>
<div class="line"><span class="lineno"> 3356</span>            }</div>
<div class="line"><span class="lineno"> 3357</span>          }</div>
<div class="line"><span class="lineno"> 3358</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3359</span>            ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>;</div>
<div class="line"><span class="lineno"> 3360</span>          }</div>
<div class="line"><span class="lineno"> 3361</span>        }</div>
<div class="line"><span class="lineno"> 3362</span> </div>
<div class="line"><span class="lineno"> 3363</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_closing_files</a> == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.size()) {</div>
<div class="line"><span class="lineno"> 3364</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3365</span>    }</div>
<div class="line"><span class="lineno"> 3366</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3367</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">num_of_closing_files</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.size();</div>
<div class="line"><span class="lineno"> 3368</span>    }</div>
<div class="line"><span class="lineno"> 3369</span>      }</div>
<div class="line"><span class="lineno"> 3370</span>    }</div>
<div class="line"><span class="lineno"> 3371</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3372</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;no changes in the list of includes&quot;</span>;</div>
<div class="line"><span class="lineno"> 3373</span>    }</div>
<div class="line"><span class="lineno"> 3374</span> </div>
<div class="line"><span class="lineno"> 3375</span>      <span class="comment">// remove exclusive RCRs (will be restored when read, if object was not changed)</span></div>
<div class="line"><span class="lineno"> 3376</span> </div>
<div class="line"><span class="lineno"> 3377</span>    {</div>
<div class="line"><span class="lineno"> 3378</span>      <span class="keywordflow">for</span>(std::map&lt; <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *, <a class="code hl_typedef" href="namespacedunedaq_1_1conffwk.html#ae6da841bbcd4f00264258fe103c83f5b">conffwk::map&lt;OksObject *&gt;</a> * &gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">::const_iterator</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a> = reload_objects.data.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a> != reload_objects.data.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>) {</div>
<div class="line"><span class="lineno"> 3379</span>        <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>-&gt;first);</div>
<div class="line"><span class="lineno"> 3380</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_relationships &amp;&amp; !<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_relationships-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 3381</span>      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">atts_num</a>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_attributes());</div>
<div class="line"><span class="lineno"> 3382</span>      <span class="keywordflow">for</span>(conffwk::map&lt;OksObject *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>-&gt;second-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>-&gt;second-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 3383</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * <a class="code hl_variable" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second;</div>
<div class="line"><span class="lineno"> 3384</span>            <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>(<a class="code hl_variable" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>-&gt;data + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">atts_num</a>);</div>
<div class="line"><span class="lineno"> 3385</span> </div>
<div class="line"><span class="lineno"> 3386</span>            <span class="keywordflow">for</span>(std::list&lt;OksRelationship *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_relationships-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;p_all_relationships-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, ++<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>) {</div>
<div class="line"><span class="lineno"> 3387</span>              OksRelationship * <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a> = *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>;</div>
<div class="line"><span class="lineno"> 3388</span>              <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;get_is_composite() &amp;&amp; <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a74a6b511f0c98ffb898a7276a3f2a64c">r</a>-&gt;get_is_exclusive()) {</div>
<div class="line"><span class="lineno"> 3389</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">OksData::object_type</a> &amp;&amp; <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.OBJECT) {</div>
<div class="line"><span class="lineno"> 3390</span>                  <span class="keywordflow">if</span>(!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.OBJECT)) {</div>
<div class="line"><span class="lineno"> 3391</span>                    <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.OBJECT-&gt;remove_RCR(obj, r);</div>
<div class="line"><span class="lineno"> 3392</span>                  }</div>
<div class="line"><span class="lineno"> 3393</span>                }</div>
<div class="line"><span class="lineno"> 3394</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a1ddc949175081eade711b59356b159dc">OksData::list_type</a> &amp;&amp; <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.LIST) {</div>
<div class="line"><span class="lineno"> 3395</span>                  <span class="keywordflow">for</span>(OksData::List::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a> = <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.LIST-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a> != <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.LIST-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a>) {</div>
<div class="line"><span class="lineno"> 3396</span>                    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">d2</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i2</a>);</div>
<div class="line"><span class="lineno"> 3397</span>                    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">d2</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">OksData::object_type</a> &amp;&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">d2</a>-&gt;data.OBJECT) {</div>
<div class="line"><span class="lineno"> 3398</span>                      <span class="keywordflow">if</span>(!<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">d2</a>-&gt;data.OBJECT)) {</div>
<div class="line"><span class="lineno"> 3399</span>                        <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">d2</a>-&gt;data.OBJECT-&gt;remove_RCR(obj, r);</div>
<div class="line"><span class="lineno"> 3400</span>                      }</div>
<div class="line"><span class="lineno"> 3401</span>                    }</div>
<div class="line"><span class="lineno"> 3402</span>                  }</div>
<div class="line"><span class="lineno"> 3403</span>                }</div>
<div class="line"><span class="lineno"> 3404</span>          }</div>
<div class="line"><span class="lineno"> 3405</span>            }       </div>
<div class="line"><span class="lineno"> 3406</span>      }</div>
<div class="line"><span class="lineno"> 3407</span>    }</div>
<div class="line"><span class="lineno"> 3408</span>      }</div>
<div class="line"><span class="lineno"> 3409</span>    }</div>
<div class="line"><span class="lineno"> 3410</span> </div>
<div class="line"><span class="lineno"> 3411</span>      <span class="comment">// need to allow &quot;duplicated_objects_via_inheritance_mode&quot;, since the objects with the same ID can be created and removed</span></div>
<div class="line"><span class="lineno"> 3412</span> </div>
<div class="line"><span class="lineno"> 3413</span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">duplicated_objs_mode</a> = <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a51319cf5a543a3f31c80db7b835ae46a">get_test_duplicated_objects_via_inheritance_mode</a>();</div>
<div class="line"><span class="lineno"> 3414</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aabb258a88a40c3c6f8bc320cd85a6882">set_test_duplicated_objects_via_inheritance_mode</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 3415</span> </div>
<div class="line"><span class="lineno"> 3416</span> </div>
<div class="line"><span class="lineno"> 3417</span>      <span class="comment">// read objects</span></div>
<div class="line"><span class="lineno"> 3418</span> </div>
<div class="line"><span class="lineno"> 3419</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_h</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3420</span>      std::shared_ptr&lt;std::ifstream&gt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>(<span class="keyword">new</span> std::ifstream((*i)-&gt;get_full_file_name().c_str()));</div>
<div class="line"><span class="lineno"> 3421</span> </div>
<div class="line"><span class="lineno"> 3422</span>      std::shared_ptr&lt;OksXmlInputStream&gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>(<span class="keyword">new</span> OksXmlInputStream(f));</div>
<div class="line"><span class="lineno"> 3423</span> </div>
<div class="line"><span class="lineno"> 3424</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, (*i)-&gt;get_short_file_name(), (*i)-&gt;get_full_file_name(), <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 3425</span>      <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a> = (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>.p_oks_format == <span class="stringliteral">&quot;data&quot;</span> ? <span class="charliteral">&#39;n&#39;</span> : ((<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>.p_oks_format == <span class="stringliteral">&quot;extended&quot;</span>) ? <span class="charliteral">&#39;X&#39;</span>: <span class="stringliteral">&#39;c&#39;</span>));</div>
<div class="line"><span class="lineno"> 3426</span> </div>
<div class="line"><span class="lineno"> 3427</span>      <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 3428</span>        std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 3429</span>        std::cout &lt;&lt; <span class="stringliteral">&quot; * reading data file \&quot;&quot;</span> &lt;&lt; (*i)-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot;\&quot;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3430</span>      }</div>
<div class="line"><span class="lineno"> 3431</span> </div>
<div class="line"><span class="lineno"> 3432</span>      {</div>
<div class="line"><span class="lineno"> 3433</span>        OksAliasTable alias_table;</div>
<div class="line"><span class="lineno"> 3434</span>        ReadFileParams <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">read_params</a>( *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>, *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">xmls</a>, ((format == <span class="charliteral">&#39;X&#39;</span>) ? 0 : &amp;alias_table), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">this</a>, <a class="code hl_variable" href="namespacesend-recv-restcmd.html#a3ed84636e45725f3038c694ecacb062e">format</a>, &amp;reload_objects );</div>
<div class="line"><span class="lineno"> 3435</span> </div>
<div class="line"><span class="lineno"> 3436</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3437</span>          <span class="keywordflow">while</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksObject.html#a8cd7f84d13c4a06ff99b64216718d620">OksObject::read</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">read_params</a>)) { ; }</div>
<div class="line"><span class="lineno"> 3438</span>        }</div>
<div class="line"><span class="lineno"> 3439</span>        <span class="keywordflow">catch</span>(FailedCreateObject &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 3440</span>          <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aabb258a88a40c3c6f8bc320cd85a6882">set_test_duplicated_objects_via_inheritance_mode</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">duplicated_objs_mode</a>);</div>
<div class="line"><span class="lineno"> 3441</span>          <span class="keywordflow">throw</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>;</div>
<div class="line"><span class="lineno"> 3442</span>        }</div>
<div class="line"><span class="lineno"> 3443</span>      }</div>
<div class="line"><span class="lineno"> 3444</span> </div>
<div class="line"><span class="lineno"> 3445</span>      (*i)-&gt;update_status_of_file();</div>
<div class="line"><span class="lineno"> 3446</span>      (*i)-&gt;p_is_updated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3447</span>    }</div>
<div class="line"><span class="lineno"> 3448</span> </div>
<div class="line"><span class="lineno"> 3449</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aabb258a88a40c3c6f8bc320cd85a6882">set_test_duplicated_objects_via_inheritance_mode</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">duplicated_objs_mode</a>);</div>
<div class="line"><span class="lineno"> 3450</span> </div>
<div class="line"><span class="lineno"> 3451</span> </div>
<div class="line"><span class="lineno"> 3452</span>      <span class="comment">// remove objects which were not re-read</span></div>
<div class="line"><span class="lineno"> 3453</span> </div>
<div class="line"><span class="lineno"> 3454</span>    <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>;</div>
<div class="line"><span class="lineno"> 3455</span> </div>
<div class="line"><span class="lineno"> 3456</span>    {</div>
<div class="line"><span class="lineno"> 3457</span>      <span class="keywordflow">for</span>(std::map&lt; <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> *, <a class="code hl_typedef" href="namespacedunedaq_1_1conffwk.html#ae6da841bbcd4f00264258fe103c83f5b">conffwk::map&lt;OksObject *&gt;</a> * &gt;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">::const_iterator</a> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a> = reload_objects.data.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a> != reload_objects.data.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>) {</div>
<div class="line"><span class="lineno"> 3458</span>        <span class="keywordflow">for</span>(conffwk::map&lt;OksObject *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>-&gt;second-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cx</a>-&gt;second-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a>) {</div>
<div class="line"><span class="lineno"> 3459</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>.insert(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 3460</span>    }</div>
<div class="line"><span class="lineno"> 3461</span>      }</div>
<div class="line"><span class="lineno"> 3462</span> </div>
<div class="line"><span class="lineno"> 3463</span><span class="preprocessor">#ifndef ERS_NO_DEBUG</span></div>
<div class="line"><span class="lineno"> 3464</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="namespaceers.html#a1ea8a7c8d5348fcf8f53ecb0f9bb0284">ers::debug_level</a>() &gt;= 3) {</div>
<div class="line"><span class="lineno"> 3465</span>        std::ostringstream <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>;</div>
<div class="line"><span class="lineno"> 3466</span>    <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot;there are &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>.size() &lt;&lt; <span class="stringliteral">&quot; removed objects:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 3467</span> </div>
<div class="line"><span class="lineno"> 3468</span>        <span class="keywordflow">for</span>(OksObject::FSet::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>) {</div>
<div class="line"><span class="lineno"> 3469</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a> &lt;&lt; <span class="stringliteral">&quot; - object &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 3470</span>          <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">text</a>.str();</div>
<div class="line"><span class="lineno"> 3471</span>        }</div>
<div class="line"><span class="lineno"> 3472</span>      }</div>
<div class="line"><span class="lineno"> 3473</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3474</span> </div>
<div class="line"><span class="lineno"> 3475</span>      {</div>
<div class="line"><span class="lineno"> 3476</span>        <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> refs;</div>
<div class="line"><span class="lineno"> 3477</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aed914ffc8a62b2b2afe2c9bd43d62843">unbind_all_rels</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>, refs);</div>
<div class="line"><span class="lineno"> 3478</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a023ce21b0c591f53e79c65c1e48c4c6a">p_change_object_notify_fn</a>) {</div>
<div class="line"><span class="lineno"> 3479</span>          <span class="keywordflow">for</span>(OksObject::FSet::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x2</a> = refs.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x2</a> != refs.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x2</a>) {</div>
<div class="line"><span class="lineno"> 3480</span>            <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;*** add object &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x2</a> &lt;&lt; <span class="stringliteral">&quot; to the list of updated *** &quot;</span>;</div>
<div class="line"><span class="lineno"> 3481</span>            (*p_change_object_notify_fn)(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x2</a>, <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aae17b172d5ca4c96035a027ab1545bc8">p_change_object_notify_param</a>);</div>
<div class="line"><span class="lineno"> 3482</span>          }</div>
<div class="line"><span class="lineno"> 3483</span>        }</div>
<div class="line"><span class="lineno"> 3484</span>      }</div>
<div class="line"><span class="lineno"> 3485</span>    }</div>
<div class="line"><span class="lineno"> 3486</span> </div>
<div class="line"><span class="lineno"> 3487</span>    <span class="keywordflow">for</span>(OksObject::FSet::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">oset</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a>) {</div>
<div class="line"><span class="lineno"> 3488</span>      <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> * o = *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ox</a>;</div>
<div class="line"><span class="lineno"> 3489</span> </div>
<div class="line"><span class="lineno"> 3490</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a141121802945af1a8b92d76def56b4e5">is_dangling</a>(o)) {</div>
<div class="line"><span class="lineno"> 3491</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;skip dangling object &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)o;</div>
<div class="line"><span class="lineno"> 3492</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3493</span>      }</div>
<div class="line"><span class="lineno"> 3494</span> </div>
<div class="line"><span class="lineno"> 3495</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(3) &lt;&lt; <span class="stringliteral">&quot;*** remove non-reloaded object &quot;</span> &lt;&lt; o &lt;&lt; <span class="stringliteral">&quot; =&gt; &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *)o &lt;&lt; <span class="stringliteral">&quot; ***&quot;</span>;</div>
<div class="line"><span class="lineno"> 3496</span> </div>
<div class="line"><span class="lineno"> 3497</span>      <span class="keyword">delete</span> o;</div>
<div class="line"><span class="lineno"> 3498</span>    }</div>
<div class="line"><span class="lineno"> 3499</span> </div>
<div class="line"><span class="lineno"> 3500</span> </div>
<div class="line"><span class="lineno"> 3501</span>    <span class="keywordflow">for</span>(std::set&lt;OksFile *&gt;::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">files_to_be_closed</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>) {</div>
<div class="line"><span class="lineno"> 3502</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a88e8018731602cac5c5a7f0fa560e6">k_close_data</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">x</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 3503</span>    }</div>
<div class="line"><span class="lineno"> 3504</span> </div>
<div class="line"><span class="lineno"> 3505</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a988f782010d22e2a8977049627e9f1b7">k_bind_objects</a>();</div>
<div class="line"><span class="lineno"> 3506</span> </div>
<div class="line"><span class="lineno"> 3507</span> </div>
<div class="line"><span class="lineno"> 3508</span>    <span class="comment">// check that created objects do not have duplicated IDs within inheritance hierarchy</span></div>
<div class="line"><span class="lineno"> 3509</span> </div>
<div class="line"><span class="lineno"> 3510</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">duplicated_objs_mode</a> == <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno"> 3511</span>      {</div>
<div class="line"><span class="lineno"> 3512</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; o : reload_objects.created)</div>
<div class="line"><span class="lineno"> 3513</span>          {</div>
<div class="line"><span class="lineno"> 3514</span>            o-&gt;check_ids();</div>
<div class="line"><span class="lineno"> 3515</span>          }</div>
<div class="line"><span class="lineno"> 3516</span>      }</div>
<div class="line"><span class="lineno"> 3517</span>  }</div>
<div class="line"><span class="lineno"> 3518</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3519</span>    <span class="keywordflow">throw</span> FailedReloadFile(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>);</div>
<div class="line"><span class="lineno"> 3520</span>  }</div>
<div class="line"><span class="lineno"> 3521</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>) {</div>
<div class="line"><span class="lineno"> 3522</span>    <span class="keywordflow">throw</span> FailedReloadFile(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_names</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what());</div>
<div class="line"><span class="lineno"> 3523</span>  }</div>
<div class="line"><span class="lineno"> 3524</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a12151554eb59b8a7260587a4185806ec"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a12151554eb59b8a7260587a4185806ec">dunedaq::oks::OksKernel::restore_preload_file_info</a></div><div class="ttdeci">void restore_preload_file_info()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03538">kernel.cpp:3538</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aabb258a88a40c3c6f8bc320cd85a6882"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aabb258a88a40c3c6f8bc320cd85a6882">dunedaq::oks::OksKernel::set_test_duplicated_objects_via_inheritance_mode</a></div><div class="ttdeci">void set_test_duplicated_objects_via_inheritance_mode(const bool b)</div><div class="ttdoc">Set status of test inherited duplicated objects mode. To switch 'On'/'Off' use the method's parameter...</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l00754">kernel.hpp:754</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aaf17f0818840737a901622eec411f0b2"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aaf17f0818840737a901622eec411f0b2">dunedaq::oks::OksKernel::clear_preload_file_info</a></div><div class="ttdeci">void clear_preload_file_info()</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03527">kernel.cpp:3527</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_aed914ffc8a62b2b2afe2c9bd43d62843"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#aed914ffc8a62b2b2afe2c9bd43d62843">dunedaq::oks::OksKernel::unbind_all_rels</a></div><div class="ttdeci">void unbind_all_rels(const OksObject::FSet &amp;rm_objs, OksObject::FSet &amp;updated) const</div><div class="ttdoc">Unbind all references on given oks objects. The method unbinds all relationships referencing given ob...</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04405">kernel.cpp:4405</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksObject_html_a76f9050116edb5f3a1612fbbcbeda01b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">dunedaq::oks::OksObject::FSet</a></div><div class="ttdeci">std::unordered_set&lt; OksObject *, oks::hash_obj_ptr, oks::equal_obj_ptr &gt; FSet</div><div class="ttdef"><b>Definition</b> <a href="object_8hpp_source.html#l00868">object.hpp:868</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksObject_html_a8cd7f84d13c4a06ff99b64216718d620"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksObject.html#a8cd7f84d13c4a06ff99b64216718d620">dunedaq::oks::OksObject::read</a></div><div class="ttdeci">static OksObject * read(const oks::ReadFileParams &amp;)</div><div class="ttdef"><b>Definition</b> <a href="object_8cpp_source.html#l00363">object.cpp:363</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1conffwk_html_ae6da841bbcd4f00264258fe103c83f5b"><div class="ttname"><a href="namespacedunedaq_1_1conffwk.html#ae6da841bbcd4f00264258fe103c83f5b">dunedaq::conffwk::set</a></div><div class="ttdeci">std::unordered_set&lt; std::string &gt; set</div><div class="ttdef"><b>Definition</b> <a href="set_8hpp_source.html#l00010">set.hpp:10</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_ae50f9590e1c96e3009d908b6d2fd9303"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#ae50f9590e1c96e3009d908b6d2fd9303">dunedaq::oks::_find_file</a></div><div class="ttdeci">static bool _find_file(const OksFile::Map &amp;files, const OksFile *f)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l03169">kernel.cpp:3169</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_a120b2044ebb29847953e5c6a1a0bfba3"><div class="ttname"><a href="namespacehermes-make-dro-map.html#a120b2044ebb29847953e5c6a1a0bfba3">hermes-make-dro-map.l</a></div><div class="ttdeci">l</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00030">hermes-make-dro-map.py:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adbb82ac0b9e50c4cd9bc6e4b3bab50dc" name="adbb82ac0b9e50c4cd9bc6e4b3bab50dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">&#9670;&#160;</a></span>remove_data_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::remove_data_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03781">3781</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3782</span>{</div>
<div class="line"><span class="lineno"> 3783</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.erase(&amp;<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_full_name);</div>
<div class="line"><span class="lineno"> 3784</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a9535bcbfc64d5b06b454815aa4a82b" name="a2a9535bcbfc64d5b06b454815aa4a82b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a9535bcbfc64d5b06b454815aa4a82b">&#9670;&#160;</a></span>remove_repository_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::remove_repository_dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove repository search directory. </p>
<p>The method removes from the search list directory with given name. The method is not thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>directory name (must be fully qualified name) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01426">1426</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1427</span>{</div>
<div class="line"><span class="lineno"> 1428</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>  std::list&lt;std::string&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = std::find(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.begin(), <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.end(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir</a>);</div>
<div class="line"><span class="lineno"> 1431</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.end()) {</div>
<div class="line"><span class="lineno"> 1432</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a>) {</div>
<div class="line"><span class="lineno"> 1433</span>      std::cout &lt;&lt; <span class="stringliteral">&quot; * remove repository search directory \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dir</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1434</span>    }</div>
<div class="line"><span class="lineno"> 1435</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a626691afecd914a9808e008690008103">p_repository_dirs</a>.erase(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>);</div>
<div class="line"><span class="lineno"> 1436</span>  }</div>
<div class="line"><span class="lineno"> 1437</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d215f90bf982566d30eea7d44bd597a" name="a8d215f90bf982566d30eea7d44bd597a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d215f90bf982566d30eea7d44bd597a">&#9670;&#160;</a></span>remove_schema_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::remove_schema_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03787">3787</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3788</span>{</div>
<div class="line"><span class="lineno"> 3789</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.erase(&amp;<a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>-&gt;p_full_name);</div>
<div class="line"><span class="lineno"> 3790</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7146e0dd4178a81f368372ee7f8f9760" name="a7146e0dd4178a81f368372ee7f8f9760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7146e0dd4178a81f368372ee7f8f9760">&#9670;&#160;</a></span>remove_user_repository_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::remove_user_repository_dir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04943">4943</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4944</span>{</div>
<div class="line"><span class="lineno"> 4945</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a> &amp;&amp; <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a>)</div>
<div class="line"><span class="lineno"> 4946</span>    {</div>
<div class="line"><span class="lineno"> 4947</span>      <a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a596d3acd145c1f45b34b1a4611870396">s_git_folders</a>.<a class="code hl_function" href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#a5c6e6366e63808c73a2d6f38e2984d05">remove</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno"> 4948</span>      <a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a596d3acd145c1f45b34b1a4611870396">s_git_folders</a>.<a class="code hl_function" href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#a8ac60eaa74a897f2592e230fda2609c7">erase</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno"> 4949</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4950</span>    }</div>
<div class="line"><span class="lineno"> 4951</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1GitFoldersHolder_html_a5c6e6366e63808c73a2d6f38e2984d05"><div class="ttname"><a href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#a5c6e6366e63808c73a2d6f38e2984d05">dunedaq::oks::GitFoldersHolder::remove</a></div><div class="ttdeci">static void remove(const std::string &amp;path)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00080">kernel.cpp:80</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1GitFoldersHolder_html_a8ac60eaa74a897f2592e230fda2609c7"><div class="ttname"><a href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#a8ac60eaa74a897f2592e230fda2609c7">dunedaq::oks::GitFoldersHolder::erase</a></div><div class="ttdeci">void erase(const std::string &amp;path)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00100">kernel.cpp:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0745720b57f05240eeabf510a0658310" name="a0745720b57f05240eeabf510a0658310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0745720b57f05240eeabf510a0658310">&#9670;&#160;</a></span>reset_cwd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::reset_cwd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset current working dir in case of <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">chdir()</a> call. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01712">1712</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1712</span>{ <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1cef12849ae5c6dda13eb705c8006e65">s_cwd</a> = 0;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a12151554eb59b8a7260587a4185806ec" name="a12151554eb59b8a7260587a4185806ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12151554eb59b8a7260587a4185806ec">&#9670;&#160;</a></span>restore_preload_file_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::restore_preload_file_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03538">3538</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3539</span>{</div>
<div class="line"><span class="lineno"> 3540</span>  <span class="keywordflow">for</span>(std::vector&lt;OksFile *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7ebf40f11e523f6310d4d7917e508f4b">p_preload_added_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7ebf40f11e523f6310d4d7917e508f4b">p_preload_added_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 3541</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;remove file &quot;</span> &lt;&lt; (*j)-&gt;get_full_file_name() ;</div>
<div class="line"><span class="lineno"> 3542</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#adbb82ac0b9e50c4cd9bc6e4b3bab50dc">remove_data_file</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>);</div>
<div class="line"><span class="lineno"> 3543</span>    <span class="keyword">delete</span> *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>;</div>
<div class="line"><span class="lineno"> 3544</span>  }</div>
<div class="line"><span class="lineno"> 3545</span> </div>
<div class="line"><span class="lineno"> 3546</span>  <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 3547</span>    std::map&lt;const OksFile *, OksFile *&gt;::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 3548</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af678babfee87cc6ad1c42da687d14646">p_preload_file_info</a>.end()) {</div>
<div class="line"><span class="lineno"> 3549</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;restore file &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;get_full_file_name() ;</div>
<div class="line"><span class="lineno"> 3550</span>      (*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second) = (*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 3551</span>    }</div>
<div class="line"><span class="lineno"> 3552</span>  }</div>
<div class="line"><span class="lineno"> 3553</span> </div>
<div class="line"><span class="lineno"> 3554</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aaf17f0818840737a901622eec411f0b2">clear_preload_file_info</a>();</div>
<div class="line"><span class="lineno"> 3555</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3cfd7520e6411f7e96c04b06ff4a5c1" name="ad3cfd7520e6411f7e96c04b06ff4a5c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cfd7520e6411f7e96c04b06ff4a5c1">&#9670;&#160;</a></span>save_all_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_all_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save all OKS data files. </p>
<p>The method saves all OKS data files which were created or loaded by the OKS kernel. The files are saved in the same format (extended or compact), in which they were saved last time.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04162">4162</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4163</span>{</div>
<div class="line"><span class="lineno"> 4164</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;enter&quot;</span>;</div>
<div class="line"><span class="lineno"> 4165</span> </div>
<div class="line"><span class="lineno"> 4166</span>  {</div>
<div class="line"><span class="lineno"> 4167</span>    std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4168</span> </div>
<div class="line"><span class="lineno"> 4169</span>    <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4170</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">check_read_only</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second) == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 4171</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">k_save_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 4172</span>      }</div>
<div class="line"><span class="lineno"> 4173</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4174</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;skip read-only data file \&#39;&quot;</span> &lt;&lt; *(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;first) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 4175</span>      }</div>
<div class="line"><span class="lineno"> 4176</span>    }</div>
<div class="line"><span class="lineno"> 4177</span>  }</div>
<div class="line"><span class="lineno"> 4178</span> </div>
<div class="line"><span class="lineno"> 4179</span>  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(4) &lt;&lt; <span class="stringliteral">&quot;exit&quot;</span>;</div>
<div class="line"><span class="lineno"> 4180</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4afc7e33d3c20e7c7ce59e949b6e2a1" name="ac4afc7e33d3c20e7c7ce59e949b6e2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4afc7e33d3c20e7c7ce59e949b6e2a1">&#9670;&#160;</a></span>save_all_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_all_schema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save all OKS schema files. </p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<p>The method saves all OKS schema files which were created or loaded by the OKS kernel.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02796">2796</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2797</span>{</div>
<div class="line"><span class="lineno"> 2798</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER OksKernel::save_all_schema()&quot;</span>)</div>
<div class="line"><span class="lineno"> 2799</span> </div>
<div class="line"><span class="lineno"> 2800</span>  {</div>
<div class="line"><span class="lineno"> 2801</span>    std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2802</span> </div>
<div class="line"><span class="lineno"> 2803</span>    <span class="keywordflow">for</span>(OksFile::Map::iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 2804</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f6528e28e06eaa1391894af1d5a94a1">check_read_only</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second) == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno"> 2805</span>        <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">k_save_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 2806</span>      }</div>
<div class="line"><span class="lineno"> 2807</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2808</span>        <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(2) &lt;&lt; <span class="stringliteral">&quot;skip read-only schema file \&#39;&quot;</span> &lt;&lt; *(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;first) &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>;</div>
<div class="line"><span class="lineno"> 2809</span>      }</div>
<div class="line"><span class="lineno"> 2810</span> </div>
<div class="line"><span class="lineno"> 2811</span>    }</div>
<div class="line"><span class="lineno"> 2812</span> </div>
<div class="line"><span class="lineno"> 2813</span>  }</div>
<div class="line"><span class="lineno"> 2814</span> </div>
<div class="line"><span class="lineno"> 2815</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE OksKernel::save_all_schema()&quot;</span>)</div>
<div class="line"><span class="lineno"> 2816</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3607f07a30e736c41a5319c0723c5e21" name="a3607f07a30e736c41a5319c0723c5e21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3607f07a30e736c41a5319c0723c5e21">&#9670;&#160;</a></span>save_as_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_as_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save OKS data file under new name. </p>
<p>The method changes the name of given OKS data file and saves it.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_name</td><td>new name of the data file </td></tr>
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS data file descriptor returned by a kernel method</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04120">4120</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4121</span>{</div>
<div class="line"><span class="lineno"> 4122</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;save_as_data&quot;</span>;</div>
<div class="line"><span class="lineno"> 4123</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <span class="keyword">nullptr</span>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 4124</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4125</span> </div>
<div class="line"><span class="lineno"> 4126</span>  <span class="keyword">try</span> {</div>
<div class="line"><span class="lineno"> 4127</span> </div>
<div class="line"><span class="lineno"> 4128</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>.length()) {</div>
<div class="line"><span class="lineno"> 4129</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;the new filename is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 4130</span>    }</div>
<div class="line"><span class="lineno"> 4131</span> </div>
<div class="line"><span class="lineno"> 4132</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4133</span> </div>
<div class="line"><span class="lineno"> 4134</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_short_name</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_short_name;</div>
<div class="line"><span class="lineno"> 4135</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_full_name</a>  = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name;</div>
<div class="line"><span class="lineno"> 4136</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_format</a>     = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_oks_format;</div>
<div class="line"><span class="lineno"> 4137</span> </div>
<div class="line"><span class="lineno"> 4138</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5d3a83f2747cc54884c9057492623c6e">k_rename_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>);</div>
<div class="line"><span class="lineno"> 4139</span> </div>
<div class="line"><span class="lineno"> 4140</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 4141</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">k_save_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 4142</span>    }</div>
<div class="line"><span class="lineno"> 4143</span>    <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 4144</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a5d3a83f2747cc54884c9057492623c6e">k_rename_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_short_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_full_name</a>);</div>
<div class="line"><span class="lineno"> 4145</span>      <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_oks_format = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_format</a>;</div>
<div class="line"><span class="lineno"> 4146</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 4147</span>    }</div>
<div class="line"><span class="lineno"> 4148</span> </div>
<div class="line"><span class="lineno"> 4149</span>  }</div>
<div class="line"><span class="lineno"> 4150</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4151</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_as_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 4152</span>  }</div>
<div class="line"><span class="lineno"> 4153</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 4154</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_as_data&quot;</span>, <span class="stringliteral">&quot;data file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what());</div>
<div class="line"><span class="lineno"> 4155</span>  }</div>
<div class="line"><span class="lineno"> 4156</span> </div>
<div class="line"><span class="lineno"> 4157</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 4158</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a5d3a83f2747cc54884c9057492623c6e"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a5d3a83f2747cc54884c9057492623c6e">dunedaq::oks::OksKernel::k_rename_data</a></div><div class="ttdeci">void k_rename_data(OksFile *, const std::string &amp;short_name, const std::string &amp;long_name)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l04112">kernel.cpp:4112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3809d8dd31c55608048528df826f6aa" name="ab3809d8dd31c55608048528df826f6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3809d8dd31c55608048528df826f6aa">&#9670;&#160;</a></span>save_as_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_as_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save OKS schema file under new name. </p>
<p>The method changes the name of given OKS schema file and saves it.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>new name of the schema file </td></tr>
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS schema file descriptor returned by a kernel method</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02757">2757</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2758</span>{</div>
<div class="line"><span class="lineno"> 2759</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>[] = <span class="stringliteral">&quot;save_as_schema&quot;</span>;</div>
<div class="line"><span class="lineno"> 2760</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a> = <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a26eeaf86b37d412f90d5eef76513acec">make_fname</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">_fname</a>)-1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <span class="keyword">nullptr</span>, &amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2761</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;ENTER &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2762</span> </div>
<div class="line"><span class="lineno"> 2763</span>  <span class="keyword">try</span> {</div>
<div class="line"><span class="lineno"> 2764</span> </div>
<div class="line"><span class="lineno"> 2765</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>.length()) {</div>
<div class="line"><span class="lineno"> 2766</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;the new filename is empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2767</span>    }</div>
<div class="line"><span class="lineno"> 2768</span> </div>
<div class="line"><span class="lineno"> 2769</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_short_name</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_short_name;</div>
<div class="line"><span class="lineno"> 2770</span>    std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_full_name</a>  = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name;</div>
<div class="line"><span class="lineno"> 2771</span> </div>
<div class="line"><span class="lineno"> 2772</span>    std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2773</span> </div>
<div class="line"><span class="lineno"> 2774</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a3d8350efcf0f7068bea99e0ba6490993">k_rename_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">new_name</a>);</div>
<div class="line"><span class="lineno"> 2775</span> </div>
<div class="line"><span class="lineno"> 2776</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2777</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">k_save_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>);</div>
<div class="line"><span class="lineno"> 2778</span>    }</div>
<div class="line"><span class="lineno"> 2779</span>    <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2780</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a3d8350efcf0f7068bea99e0ba6490993">k_rename_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_short_name</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">old_full_name</a>);</div>
<div class="line"><span class="lineno"> 2781</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2782</span>    }</div>
<div class="line"><span class="lineno"> 2783</span> </div>
<div class="line"><span class="lineno"> 2784</span>  }</div>
<div class="line"><span class="lineno"> 2785</span>  <span class="keywordflow">catch</span> (exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2786</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_as_schema&quot;</span>, <span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>);</div>
<div class="line"><span class="lineno"> 2787</span>  }</div>
<div class="line"><span class="lineno"> 2788</span>  <span class="keywordflow">catch</span> (std::exception &amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno"> 2789</span>    <span class="keywordflow">throw</span> CanNotWriteToFile(<span class="stringliteral">&quot;k_save_as_schema&quot;</span>, <span class="stringliteral">&quot;schema file&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>-&gt;p_full_name, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what());</div>
<div class="line"><span class="lineno"> 2790</span>  }</div>
<div class="line"><span class="lineno"> 2791</span> </div>
<div class="line"><span class="lineno"> 2792</span>  <a class="code hl_define" href="defs_8hpp.html#a5f2b554f78031d16737451735ead2bc7">OSK_VERBOSE_REPORT</a>(<span class="stringliteral">&quot;LEAVE &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fname</a>)</div>
<div class="line"><span class="lineno"> 2793</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a3d8350efcf0f7068bea99e0ba6490993"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a3d8350efcf0f7068bea99e0ba6490993">dunedaq::oks::OksKernel::k_rename_schema</a></div><div class="ttdeci">void k_rename_schema(OksFile *, const std::string &amp;short_name, const std::string &amp;long_name)</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l02748">kernel.cpp:2748</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab03744b896b3d519fdb8b104775b6a8" name="aab03744b896b3d519fdb8b104775b6a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab03744b896b3d519fdb8b104775b6a8">&#9670;&#160;</a></span>save_data() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_bad_objects</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>true_file_h</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_defaults</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save OKS data file. </p>
<p>The method saves given OKS data file. By default the format of data file is compact. To save the file in the extended format set parameter extended_format to true.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS data file descriptor </td></tr>
    <tr><td class="paramname">ignore_bad_objects</td><td>save the file if it has inconsistent objects or misses includes </td></tr>
    <tr><td class="paramname">true_file_h</td><td>a pointer to the real OKS data file descriptor owning objects (used for backup)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03796">3796</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3797</span>{</div>
<div class="line"><span class="lineno"> 3798</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3799</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">k_save_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ignoreBadObjects</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true_file_h</a>, <span class="keyword">nullptr</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force_defaults</a>);</div>
<div class="line"><span class="lineno"> 3800</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9c6a0ae91074a207eaed9df3c70dec6" name="ae9c6a0ae91074a207eaed9df3c70dec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c6a0ae91074a207eaed9df3c70dec6">&#9670;&#160;</a></span>save_data() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> &amp;&#160;</td>
          <td class="paramname"><em>objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save objects into given OKS data file. </p>
<p>The method saves explicitly mentioned objects into given OKS data file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to an external OKS data file descriptor </td></tr>
    <tr><td class="paramname">objects</td><td>set of objects to be saved into this data file</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l03803">3803</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3804</span>{</div>
<div class="line"><span class="lineno"> 3805</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 3806</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#afebe1a2e2109e1715fe2a1b0048f9cbe">k_save_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, <span class="keyword">false</span>, 0, &amp;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4451c61d3c25506e72704903c82ae29f">objects</a>);</div>
<div class="line"><span class="lineno"> 3807</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afc950a82597285af2f387ce60baf95f7" name="afc950a82597285af2f387ce60baf95f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc950a82597285af2f387ce60baf95f7">&#9670;&#160;</a></span>save_schema() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> &amp;&#160;</td>
          <td class="paramname"><em>classes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save classes into given OKS schema file. </p>
<p>The method saves explicit set of classes into given OKS schema file. This is used to merge schema files by RDB server.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to an external OKS schema file descriptor </td></tr>
    <tr><td class="paramname">force</td><td>if true, ignore problems if possible (e.g. dangling references) </td></tr>
    <tr><td class="paramname">classes</td><td>set of classes to be saved</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02548">2548</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2549</span>{</div>
<div class="line"><span class="lineno"> 2550</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2551</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">k_save_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">file_h</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force</a>, 0, &amp;<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>);</div>
<div class="line"><span class="lineno"> 2552</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9378e0ca21e42ae2ef479e8e29df8186" name="a9378e0ca21e42ae2ef479e8e29df8186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9378e0ca21e42ae2ef479e8e29df8186">&#9670;&#160;</a></span>save_schema() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::save_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>true_file_h</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save OKS schema file. </p>
<p>The method saves given OKS schema file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS schema file descriptor returned by a kernel method </td></tr>
    <tr><td class="paramname">force</td><td>if true, ignore problems if possible (e.g. dangling references) </td></tr>
    <tr><td class="paramname">true_file_h</td><td>a pointer to the real OKS data file descriptor owning classes (used for backup)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02540">2540</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2541</span>{</div>
<div class="line"><span class="lineno"> 2542</span>  std::shared_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2543</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a0cc5384aa89802ff1d773b51f60de715">k_save_schema</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">pf</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">force</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fh</a>);</div>
<div class="line"><span class="lineno"> 2544</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af50a2b929cc2958cd32c38e18c48787a" name="af50a2b929cc2958cd32c38e18c48787a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af50a2b929cc2958cd32c38e18c48787a">&#9670;&#160;</a></span>schema_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> &amp; dunedaq::oks::OksKernel::schema_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all schema files. </p>
<p>The method returns all schema files which were created or loaded by the OKS kernel.</p>
<dl class="section return"><dt>Returns</dt><dd>Return const reference on map of the OKS schema file descriptors.</dd></dl>
<p>The method is thread-safe. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01221">1221</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1221</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb0c7093f5d30ee18f7f925a26ed7631" name="aeb0c7093f5d30ee18f7f925a26ed7631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0c7093f5d30ee18f7f925a26ed7631">&#9670;&#160;</a></span>set_active_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_active_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set active OKS data file. </p>
<p>The method makes given OKS data file active. Any created object will go to the active data file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS data file descriptor returned by a kernel method</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04280">4280</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4281</span>{</div>
<div class="line"><span class="lineno"> 4282</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4283</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a1f4b9278363d33fad634a92142e53af9">k_set_active_data</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">fp</a>);</div>
<div class="line"><span class="lineno"> 4284</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a3852788c428acefc8f80cb646b4ebb" name="a3a3852788c428acefc8f80cb646b4ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a3852788c428acefc8f80cb646b4ebb">&#9670;&#160;</a></span>set_active_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_active_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file_h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set active OKS schema file. </p>
<p>The method makes given OKS schema file active. Any created class will go to the active schema file.</p>
<p>The method is thread-safe. The user must not have the OKS kernel lock set in the thread which calls this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_h</td><td>a pointer to the OKS schema file descriptor returned by a kernel method</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l02905">2905</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2906</span>{</div>
<div class="line"><span class="lineno"> 2907</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 2908</span>  <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a6b3933aeaee59c1b09c5cef4657d4b84">k_set_active_schema</a>(f);</div>
<div class="line"><span class="lineno"> 2909</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3102b6a229a59d0d6e6e1aab6dcab62" name="ac3102b6a229a59d0d6e6e1aab6dcab62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3102b6a229a59d0d6e6e1aab6dcab62">&#9670;&#160;</a></span>set_allow_duplicated_classes_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_allow_duplicated_classes_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of duplicated classes mode. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' or 'false' to switch 'Off'.</td></tr>
  </table>
  </dd>
</dl>
<p>The duplicated classes mode can also be switched 'On' using the "OKS_KERNEL_ALLOW_DUPLICATED_CLASSES" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00775">775</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  775</span>{<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a01c94417eb51449baf27890e9663c73c">p_allow_duplicated_classes</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b4f6296ae14f6a07f8d890350b1abdc" name="a7b4f6296ae14f6a07f8d890350b1abdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4f6296ae14f6a07f8d890350b1abdc">&#9670;&#160;</a></span>set_allow_duplicated_objects_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_allow_duplicated_objects_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of duplicated objects mode. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' or 'false' to switch 'Off'.</td></tr>
  </table>
  </dd>
</dl>
<p>The duplicated objects mode can also be switched 'On' using the "OKS_KERNEL_ALLOW_DUPLICATED_OBJECTS" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00787">787</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  787</span>{<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a1a10ad58ba9a09c7c324fb90cabc0e44">p_allow_duplicated_objects</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a983e9a6dd553cbf76214506f75672233" name="a983e9a6dd553cbf76214506f75672233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a983e9a6dd553cbf76214506f75672233">&#9670;&#160;</a></span>set_profiling_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_profiling_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set status of profiling mode. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' or 'false' to switch 'Off'.</td></tr>
  </table>
  </dd>
</dl>
<p>The profiling mode can also be switched 'On' using the "OKS_KERNEL_PROFILING" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01441">1441</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1442</span>{</div>
<div class="line"><span class="lineno"> 1443</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a> == <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1444</span> </div>
<div class="line"><span class="lineno"> 1445</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span><span class="preprocessor">#ifndef ERS_NO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1448</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a6a86419a90e856eefd7a8e14af9ab95b">p_profiling</a> == <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a>) <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a> = <span class="keyword">new</span> OksProfiler();</div>
<div class="line"><span class="lineno"> 1450</span>  }</div>
<div class="line"><span class="lineno"> 1451</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1452</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a>) {</div>
<div class="line"><span class="lineno"> 1453</span>      <span class="keyword">delete</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a>;</div>
<div class="line"><span class="lineno"> 1454</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a4b101fc322054d01ed6da39d5184dea3">profiler</a> = 0;</div>
<div class="line"><span class="lineno"> 1455</span>    }</div>
<div class="line"><span class="lineno"> 1456</span>  }</div>
<div class="line"><span class="lineno"> 1457</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1458</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d90ea4f1cf7698dcea8fd248bddda65" name="a8d90ea4f1cf7698dcea8fd248bddda65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d90ea4f1cf7698dcea8fd248bddda65">&#9670;&#160;</a></span>set_silence_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_silence_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of silence mode. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' or 'false' to switch 'Off'.</td></tr>
  </table>
  </dd>
</dl>
<p>The silence mode can also be switched 'On' using the "OKS_KERNEL_SILENCE" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00696">696</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  696</span>{<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a80cd5d841c67e31d7a3c7123925b7773" name="a80cd5d841c67e31d7a3c7123925b7773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80cd5d841c67e31d7a3c7123925b7773">&#9670;&#160;</a></span>set_skip_string_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_skip_string_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of string range validator. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' (i.e. to bypass the test) or 'false' to switch 'Off' (i.e. to force the test).</td></tr>
  </table>
  </dd>
</dl>
<p>The skip max length check mode can also be switched 'On' using the "OKS_KERNEL_SKIP_STRING_RANGE" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00809">809</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span>{<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa5f313975428a5db86a1f15e04affd2a">p_skip_string_range</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aabb258a88a40c3c6f8bc320cd85a6882" name="aabb258a88a40c3c6f8bc320cd85a6882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb258a88a40c3c6f8bc320cd85a6882">&#9670;&#160;</a></span>set_test_duplicated_objects_via_inheritance_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_test_duplicated_objects_via_inheritance_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of test inherited duplicated objects mode. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' or 'false' to switch 'Off'.</td></tr>
  </table>
  </dd>
</dl>
<p>When the mode is switched 'On', the OKS kernel does not allow objects with equal IDs withing the same class inheritance hierarchy.</p>
<p>The test inherited duplicated objects mode can also be switched 'On' using the "OKS_KERNEL_TEST_DUPLICATED_OBJECTS_VIA_INHERITANCE" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00754">754</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  754</span>{<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac26b4bde2895fc3606c18f13908e3392">p_test_duplicated_objects_via_inheritance</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a710e192d1cc2ad57cc59c9293fcbab5f" name="a710e192d1cc2ad57cc59c9293fcbab5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710e192d1cc2ad57cc59c9293fcbab5f">&#9670;&#160;</a></span>set_use_strict_repository_paths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">static</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_use_strict_repository_paths </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set flag to use strict-repository-paths check. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01720">1720</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1721</span>    {</div>
<div class="line"><span class="lineno"> 1722</span>      <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a240f6bd8b9dbea5b2263dae112ad53a1">p_use_strict_repository_paths</a> = flag;</div>
<div class="line"><span class="lineno"> 1723</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40b7aff6a5f31c8f41a148cef285b257" name="a40b7aff6a5f31c8f41a148cef285b257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b7aff6a5f31c8f41a148cef285b257">&#9670;&#160;</a></span>set_user_repository_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_user_repository_root </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>version</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set user OKS repository root. </p>
<p>Used by OKS and RDB tools only! </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l00391">391</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  392</span>{</div>
<div class="line"><span class="lineno">  393</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>()) {</div>
<div class="line"><span class="lineno">  394</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1) &lt;&lt; <span class="stringliteral">&quot;Failed to set user-repository-root:\n\tcaused by: repository-root is not set&quot;</span> ;</div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>.clear();</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  397</span>  }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#a18949ef2938f68c2625ea1e1038987de">path</a>.empty()) {</div>
<div class="line"><span class="lineno">  400</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>.clear();</div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  402</span>  }</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>  std::string <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno">  405</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> = <a class="code hl_variable" href="namespacedbscan__ta__to__sink_1_1dbscan__ta__to__sink.html#a18949ef2938f68c2625ea1e1038987de">path</a>;</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  408</span>    <a class="code hl_function" href="classdunedaq_1_1oks_1_1Oks.html#a74bcaacedd30d66bccc084f5b53179c5">Oks::real_path</a>(s, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  409</span>  }</div>
<div class="line"><span class="lineno">  410</span>  <span class="keywordflow">catch</span>(exception&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>) {</div>
<div class="line"><span class="lineno">  411</span>    <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1) &lt;&lt; <span class="stringliteral">&quot;Failed to set user-repository-root = \&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot;\&#39;:\n\tcaused by: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">ex</a>.what() ;</div>
<div class="line"><span class="lineno">  412</span>  }</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>  <span class="keywordflow">for</span>(std::string::size_type <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.size()-1; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>[<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>] == <span class="charliteral">&#39;/&#39;</span> ; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>--) {</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.erase(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">idx</a>);</div>
<div class="line"><span class="lineno">  416</span>  }</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a2c859e6a3ed6e14fa0e672b1d4b59886">p_allow_repository</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno">  421</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afe8105e10baeb961ec7301c091bd8af1">p_user_repository_root_inited</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>  <span class="comment">// is used for backup restore by RDB</span></div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.empty())</div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a> = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>;</div>
<div class="line"><span class="lineno">  426</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0152eb5316699ac6bef0489ad10f9f4" name="ae0152eb5316699ac6bef0489ad10f9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0152eb5316699ac6bef0489ad10f9f4">&#9670;&#160;</a></span>set_verbose_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::set_verbose_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> bool&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set status of verbose mode. To switch 'On'/'Off' use the method's parameter: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>- set 'true' to switch 'On' or 'false' to switch 'Off'.</td></tr>
  </table>
  </dd>
</dl>
<p>The verbose mode can also be switched 'On' using the "OKS_KERNEL_VERBOSE" environment variable set to any value except 'no'. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00675">675</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  675</span>{<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ab11076c81a76f57ea6ddb25c70e66d42">p_verbose</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">b</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4da94466cbefee6ab15ff06cc40c3820" name="a4da94466cbefee6ab15ff06cc40c3820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da94466cbefee6ab15ff06cc40c3820">&#9670;&#160;</a></span>subscribe_change_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::subscribe_change_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>(*)(<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *, <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#aee33f707ba1880e9c28138e884ae8951">OksClass::ChangeType</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribe on class changing. </p>
<p>The method subscribes user-provided callback function on changes of existing oks class. The callback function is called when a class is changed and its arguments are the pointer to the changed class, the type of change and the change parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>user callback function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02204">2204</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2205</span>{</div>
<div class="line"><span class="lineno"> 2206</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#ab71059816d826d5403379b32a094433d">OksClass::change_notify_fn</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2207</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0701c1685a77d3e1cc09313bf09b191e" name="a0701c1685a77d3e1cc09313bf09b191e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0701c1685a77d3e1cc09313bf09b191e">&#9670;&#160;</a></span>subscribe_change_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::subscribe_change_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribe on object changing. </p>
<p>The method subscribes user-provided callback function on changing of existing oks object. The callback function is called when an object is changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_f</td><td>user callback function </td></tr>
    <tr><td class="paramname">parameter</td><td>parameter to be passed to the user callback function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02181">2181</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2182</span>{</div>
<div class="line"><span class="lineno"> 2183</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a023ce21b0c591f53e79c65c1e48c4c6a">p_change_object_notify_fn</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2184</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aae17b172d5ca4c96035a027ab1545bc8">p_change_object_notify_param</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>;</div>
<div class="line"><span class="lineno"> 2185</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5bad3646eba78ae3fb31c28ce513662" name="ad5bad3646eba78ae3fb31c28ce513662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5bad3646eba78ae3fb31c28ce513662">&#9670;&#160;</a></span>subscribe_create_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::subscribe_create_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>(*)(<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribe on class creation. </p>
<p>The method subscribes user-provided callback function on creation of new oks class. The callback function is called when a new class is created and its argument is the pointer to the new class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>user callback function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02197">2197</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2198</span>{</div>
<div class="line"><span class="lineno"> 2199</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#a627731a39f15c36842e70c218d0b88b9">OksClass::create_notify_fn</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2200</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a902a515853c196e5439881ee8deda3ce" name="a902a515853c196e5439881ee8deda3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902a515853c196e5439881ee8deda3ce">&#9670;&#160;</a></span>subscribe_create_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::subscribe_create_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribe on object creation. </p>
<p>The method subscribes user-provided callback function on creation of new oks object. The callback function is called when a new object is created (except when it is read from file using <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a19f234b7ef4a459f190f1d7ff1a7b738" title="Load OKS data file.">load_data()</a> method).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_f</td><td>user callback function </td></tr>
    <tr><td class="paramname">parameter</td><td>parameter to be passed to the user callback function</td></tr>
  </table>
  </dd>
</dl>
<p>Inline methods for class <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html" title="Provides interface to the OKS kernel.">OksKernel</a> </p>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02173">2173</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2174</span>{</div>
<div class="line"><span class="lineno"> 2175</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#acc68c1f8cefd257f4aff1167ba5e6389">p_create_object_notify_fn</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2176</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#afc6da3fe96597d26b0e71ce80d6a4919">p_create_object_notify_param</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>;</div>
<div class="line"><span class="lineno"> 2177</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a698815f77b77688095e5941e98f337f2" name="a698815f77b77688095e5941e98f337f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698815f77b77688095e5941e98f337f2">&#9670;&#160;</a></span>subscribe_delete_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::subscribe_delete_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>(*)(<a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a> *)&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribe on class destroying. </p>
<p>The method subscribes user-provided callback function on destroying of existing oks class. The callback function is called when a class is destroying (e.g. schema file containing the class is closed) and its argument is the pointer to the destroying class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>user callback function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02211">2211</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2212</span>{</div>
<div class="line"><span class="lineno"> 2213</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksClass.html#aa11be1bfba80263c0541ac8f157b082d">OksClass::delete_notify_fn</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2214</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d50d001bb52a684357fdbb39a89de0d" name="a0d50d001bb52a684357fdbb39a89de0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d50d001bb52a684357fdbb39a89de0d">&#9670;&#160;</a></span>subscribe_delete_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::subscribe_delete_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribe on object deleting. </p>
<p>The method subscribes user-provided callback function on destroying of existing oks object. The callback function is called when an object is destroying (e.g. data file containing the object is closed) and its argument is the pointer to the destroying object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_f</td><td>user callback function </td></tr>
    <tr><td class="paramname">parameter</td><td>parameter to be passed to the user callback function </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02189">2189</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2190</span>{</div>
<div class="line"><span class="lineno"> 2191</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a5f14be93d583ebf6f6e8b07f46c5c2b5">p_delete_object_notify_fn</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#acb32826d255e8de88cf96b20bb270756">f</a>;</div>
<div class="line"><span class="lineno"> 2192</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a7f141393a48db689e86066a08b63c44e">p_delete_object_notify_param</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>;</div>
<div class="line"><span class="lineno"> 2193</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a88b6586991c901f2048bc2a924f3c5b0" name="a88b6586991c901f2048bc2a924f3c5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b6586991c901f2048bc2a924f3c5b0">&#9670;&#160;</a></span>tag_repository()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::tag_repository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tag current state of repository. </p>
<p>The method assigns a tag to current state of repository.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>the tag</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l05204">5204</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5205</span>{</div>
<div class="line"><span class="lineno"> 5206</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 5207</span> </div>
<div class="line"><span class="lineno"> 5208</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">OksKernel::get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5209</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;tag&quot;</span>, <span class="stringliteral">&quot;the repository-root is not set (check environment variable TDAQ_DB_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5210</span> </div>
<div class="line"><span class="lineno"> 5211</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5212</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;tag&quot;</span>, <span class="stringliteral">&quot;the user-repository-root is not set (check environment variable TDAQ_DB_USER_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5213</span> </div>
<div class="line"><span class="lineno"> 5214</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-tag.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5215</span> </div>
<div class="line"><span class="lineno"> 5216</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>())</div>
<div class="line"><span class="lineno"> 5217</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -v&quot;</span>);</div>
<div class="line"><span class="lineno"> 5218</span> </div>
<div class="line"><span class="lineno"> 5219</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5220</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5221</span> </div>
<div class="line"><span class="lineno"> 5222</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tag</a>.empty() || std::all_of(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tag</a>.begin(), <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tag</a>.end(), [](<span class="keywordtype">char</span> c) { return std::isspace(c); }))</div>
<div class="line"><span class="lineno"> 5223</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;tag&quot;</span>, <span class="stringliteral">&quot;the tag may not be empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 5224</span> </div>
<div class="line"><span class="lineno"> 5225</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -t \&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 5226</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">tag</a>);</div>
<div class="line"><span class="lineno"> 5227</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot;\&#39; -c \&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 5228</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#ab1153ff96a7da26b2c74b07de6a24904">get_repository_version</a>());</div>
<div class="line"><span class="lineno"> 5229</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39;\&#39;&#39;</span>);</div>
<div class="line"><span class="lineno"> 5230</span> </div>
<div class="line"><span class="lineno"> 5231</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a> = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 5232</span> </div>
<div class="line"><span class="lineno"> 5233</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 5234</span>    {</div>
<div class="line"><span class="lineno"> 5235</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5236</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS tag] =&gt; &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5237</span>    }</div>
<div class="line"><span class="lineno"> 5238</span> </div>
<div class="line"><span class="lineno"> 5239</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-tag&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5240</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 5241</span> </div>
<div class="line"><span class="lineno"> 5242</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 5243</span>    {</div>
<div class="line"><span class="lineno"> 5244</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5245</span>      std::cout &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5246</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS tag] =&gt; done in &quot;</span> &lt;&lt; std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(std::chrono::steady_clock::now()-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a>).count() / 1000. &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5247</span>   }</div>
<div class="line"><span class="lineno"> 5248</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa468682b3daebae06e04c92becbedd2b" name="aa468682b3daebae06e04c92becbedd2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa468682b3daebae06e04c92becbedd2b">&#9670;&#160;</a></span>test_parent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::test_parent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OksFile::IMap::iterator &amp;&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01945">1945</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1946</span>{</div>
<div class="line"><span class="lineno"> 1947</span>  <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a94f4edb000c1848aac74cfd4e1457a4d">OksFile</a> * parent(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;first);</div>
<div class="line"><span class="lineno"> 1948</span>  <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksFile.html#ad533c5c8490784c1e02444efad57809f">OksFile::Set</a>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>) != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">includes</a>.end()) {</div>
<div class="line"><span class="lineno"> 1951</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;p_included_by != parent) {</div>
<div class="line"><span class="lineno"> 1952</span>      <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>( 1 ) &lt;&lt; <span class="stringliteral">&quot;new parent of file &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;get_full_file_name() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; parent-&gt;get_full_file_name() ;</div>
<div class="line"><span class="lineno"> 1953</span>      <a class="code hl_variable" href="namespacedunedaq.html#a314dafe259ca3ab13074ea13176ea86c">file</a>-&gt;p_included_by = parent;</div>
<div class="line"><span class="lineno"> 1954</span>    }</div>
<div class="line"><span class="lineno"> 1955</span> </div>
<div class="line"><span class="lineno"> 1956</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1957</span>  }</div>
<div class="line"><span class="lineno"> 1958</span> </div>
<div class="line"><span class="lineno"> 1959</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1960</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksFile_html_ad533c5c8490784c1e02444efad57809f"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksFile.html#ad533c5c8490784c1e02444efad57809f">dunedaq::oks::OksFile::Set</a></div><div class="ttdeci">std::unordered_set&lt; OksFile *, oks::hash_file_ptr, oks::equal_file_ptr &gt; Set</div><div class="ttdef"><b>Definition</b> <a href="file_8hpp_source.html#l00369">file.hpp:369</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aed914ffc8a62b2b2afe2c9bd43d62843" name="aed914ffc8a62b2b2afe2c9bd43d62843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed914ffc8a62b2b2afe2c9bd43d62843">&#9670;&#160;</a></span>unbind_all_rels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::unbind_all_rels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> &amp;&#160;</td>
          <td class="paramname"><em>rm_objs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a76f9050116edb5f3a1612fbbcbeda01b">OksObject::FSet</a> &amp;&#160;</td>
          <td class="paramname"><em>updated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unbind all references on given oks objects. The method unbinds all relationships referencing given objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rm_objs</td><td>objects to be destroyed </td></tr>
    <tr><td class="paramname">updated</td><td>return updated objects (i.e. containing unbind references) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04405">4405</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4406</span>{</div>
<div class="line"><span class="lineno"> 4407</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">all_classes</a>(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a7194b27de7f5d84b823c976c59e8b987">classes</a>());</div>
<div class="line"><span class="lineno"> 4408</span> </div>
<div class="line"><span class="lineno"> 4409</span>  <span class="keywordflow">for</span>(OksClass::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">all_classes</a>.begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">all_classes</a>.end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>) {</div>
<div class="line"><span class="lineno"> 4410</span>    <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 4411</span>    <span class="keywordflow">if</span>(<span class="keyword">const</span> <a class="code hl_typedef" href="classdunedaq_1_1oks_1_1OksObject.html#ac90f50584d1febdbee388a5712def8e5">OksObject::Map</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">objs</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>-&gt;second-&gt;objects()) {</div>
<div class="line"><span class="lineno"> 4412</span>      <span class="keywordflow">for</span>(OksObject::Map::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">objs</a>-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">objs</a>-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>) {</div>
<div class="line"><span class="lineno"> 4413</span>        <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#ac7db7b536426fdcbeab21b6b6eb95d89">OksObject</a> *o(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>-&gt;second);</div>
<div class="line"><span class="lineno"> 4414</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l1</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_attributes();</div>
<div class="line"><span class="lineno"> 4415</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l2</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l1</a> + <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;number_of_all_relationships();</div>
<div class="line"><span class="lineno"> 4416</span> </div>
<div class="line"><span class="lineno"> 4417</span>        <span class="keywordflow">while</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l1</a> &lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l2</a>) {</div>
<div class="line"><span class="lineno"> 4418</span>          OksDataInfo <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">odi</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l1</a>, (OksRelationship *)0);</div>
<div class="line"><span class="lineno"> 4419</span>          <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>(o-&gt;GetRelationshipValue(&amp;<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">odi</a>));</div>
<div class="line"><span class="lineno"> 4420</span> </div>
<div class="line"><span class="lineno"> 4421</span>          <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">OksData::object_type</a>) {</div>
<div class="line"><span class="lineno"> 4422</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rm_objs</a>.find(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.OBJECT) != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rm_objs</a>.end()) {</div>
<div class="line"><span class="lineno"> 4423</span>              updated.insert(o);</div>
<div class="line"><span class="lineno"> 4424</span>              <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__c</a>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.OBJECT-&gt;GetClass());</div>
<div class="line"><span class="lineno"> 4425</span>              <span class="keyword">const</span> OksString&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__id</a>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.OBJECT-&gt;GetId());</div>
<div class="line"><span class="lineno"> 4426</span>              <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;Set(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__c</a>,<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__id</a>);</div>
<div class="line"><span class="lineno"> 4427</span>              <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(5) &lt;&lt; <span class="stringliteral">&quot;set relationship of &quot;</span> &lt;&lt; o &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>;</div>
<div class="line"><span class="lineno"> 4428</span>            }</div>
<div class="line"><span class="lineno"> 4429</span>          }</div>
<div class="line"><span class="lineno"> 4430</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a1ddc949175081eade711b59356b159dc">OksData::list_type</a>) {</div>
<div class="line"><span class="lineno"> 4431</span>            <span class="keywordflow">for</span>(OksData::List::const_iterator <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li</a> = <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.LIST-&gt;begin(); <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li</a> != <a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>-&gt;data.LIST-&gt;end(); ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li</a>) {</div>
<div class="line"><span class="lineno"> 4432</span>              <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a5b74db997373812fa3a1390e0d2455a6">OksData</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">lid</a>(*<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">li</a>);</div>
<div class="line"><span class="lineno"> 4433</span>              <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">lid</a>-&gt;type == <a class="code hl_enumvalue" href="structdunedaq_1_1oks_1_1OksData.html#acd182ed1bdd90b1e18d411914b9d2284a4b6b2f60b8f940453d72f66e72e84477">OksData::object_type</a>) {</div>
<div class="line"><span class="lineno"> 4434</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rm_objs</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">lid</a>-&gt;data.OBJECT) != <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">rm_objs</a>.end()) {</div>
<div class="line"><span class="lineno"> 4435</span>          updated.insert(o);</div>
<div class="line"><span class="lineno"> 4436</span>                  <span class="keyword">const</span> <a class="code hl_friend" href="classdunedaq_1_1oks_1_1OksKernel.html#a0781385fa53ab9c1e66ee5850c35c0bc">OksClass</a> * <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__c</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">lid</a>-&gt;data.OBJECT-&gt;GetClass());</div>
<div class="line"><span class="lineno"> 4437</span>                  <span class="keyword">const</span> OksString&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__id</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">lid</a>-&gt;data.OBJECT-&gt;GetId());</div>
<div class="line"><span class="lineno"> 4438</span>          <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">lid</a>-&gt;Set(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__c</a>,<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">__id</a>);</div>
<div class="line"><span class="lineno"> 4439</span>                  <a class="code hl_define" href="logging_2include_2logging_2Logging_8hpp.html#a8c6732348bcdf3758aac3d18eb3995b9">TLOG_DEBUG</a>(5) &lt;&lt; <span class="stringliteral">&quot;set relationship of &quot;</span> &lt;&lt; o &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; *<a class="code hl_variable" href="namespacehermesmodules_1_1rx__endpoints.html#acdd587ec2525eb9b4f2c8bb9ecdac545">d</a>;</div>
<div class="line"><span class="lineno"> 4440</span>                }</div>
<div class="line"><span class="lineno"> 4441</span>              }</div>
<div class="line"><span class="lineno"> 4442</span>            }</div>
<div class="line"><span class="lineno"> 4443</span>          }</div>
<div class="line"><span class="lineno"> 4444</span>          ++<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">l1</a>;</div>
<div class="line"><span class="lineno"> 4445</span>        }</div>
<div class="line"><span class="lineno"> 4446</span>      }</div>
<div class="line"><span class="lineno"> 4447</span>    }</div>
<div class="line"><span class="lineno"> 4448</span>  }</div>
<div class="line"><span class="lineno"> 4449</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksClass_html_ad3c54a0eebc4de59ef08a6257e4c9e16"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">dunedaq::oks::OksClass::Map</a></div><div class="ttdeci">std::map&lt; const char *, OksClass *, SortStr &gt; Map</div><div class="ttdef"><b>Definition</b> <a href="class_8hpp_source.html#l00233">class.hpp:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8302bd73f06f566ef796310536f96ba4" name="a8302bd73f06f566ef796310536f96ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8302bd73f06f566ef796310536f96ba4">&#9670;&#160;</a></span>undefine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::undefine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02147">2147</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2147</span>{ <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.empty()) { std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a06159b5ff8335605dc992309a22409ae">p_objects_mutex</a>); <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ad09d4dbcba0626d213b076634aafdde0">p_objects</a>.erase(o); } }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e6e33f0d0192ff6b2f748864b33cf44" name="a8e6e33f0d0192ff6b2f748864b33cf44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6e33f0d0192ff6b2f748864b33cf44">&#9670;&#160;</a></span>unset_repository_created()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::unset_repository_created </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set repository created flag to false to avoid created repository removal in destructor;. </p>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04954">4954</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4955</span>{</div>
<div class="line"><span class="lineno"> 4956</span>  <a class="code hl_variable" href="namespacedunedaq_1_1oks.html#a596d3acd145c1f45b34b1a4611870396">s_git_folders</a>.<a class="code hl_function" href="classdunedaq_1_1oks_1_1GitFoldersHolder.html#a8ac60eaa74a897f2592e230fda2609c7">erase</a>(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">p_user_repository_root</a>);</div>
<div class="line"><span class="lineno"> 4957</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a86b77743fd9868405c0cee8910d02247">p_user_repository_root_created</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 4958</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a244a1dbb6e31ce070e3ff3d79220d299" name="a244a1dbb6e31ce070e3ff3d79220d299"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a244a1dbb6e31ce070e3ff3d79220d299">&#9670;&#160;</a></span>update_repository() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::update_repository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>hash_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5">RepositoryUpdateType</a>&#160;</td>
          <td class="paramname"><em>update_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update user repository files from origin by hash. </p>
<p>The method performs GIT update of files in local user directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash_val</td><td>SHA or "origin/master" </td></tr>
    <tr><td class="paramname">update_type</td><td>action in case of conflicts (discard changes, try to merge changes, cancel)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l01606">1606</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1607</span>    {</div>
<div class="line"><span class="lineno"> 1608</span>      <a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a244a1dbb6e31ce070e3ff3d79220d299">update_repository</a>(<span class="stringliteral">&quot;hash&quot;</span>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">hash_val</a>, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">update_type</a>);</div>
<div class="line"><span class="lineno"> 1609</span>    }</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksKernel_html_a244a1dbb6e31ce070e3ff3d79220d299"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksKernel.html#a244a1dbb6e31ce070e3ff3d79220d299">dunedaq::oks::OksKernel::update_repository</a></div><div class="ttdeci">void update_repository(const std::string &amp;hash_val, RepositoryUpdateType update_type)</div><div class="ttdoc">Update user repository files from origin by hash.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8hpp_source.html#l01606">kernel.hpp:1606</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c581bfa069bd56fbc3e6da5e790ce4c" name="a1c581bfa069bd56fbc3e6da5e790ce4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c581bfa069bd56fbc3e6da5e790ce4c">&#9670;&#160;</a></span>update_repository() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a> dunedaq::oks::OksKernel::update_repository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5">RepositoryUpdateType</a>&#160;</td>
          <td class="paramname"><em>update_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update user repository files from origin. </p>
<p>The method performs GIT update of files in local user directory. Pass parameters to the oks-git-update.sh script.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>"tag", "date" or "hash" </td></tr>
    <tr><td class="paramname">val</td><td>SHA or "origin/master" </td></tr>
    <tr><td class="paramname">update_type</td><td>action in case of conflicts (discard changes, try to merge changes, cancel)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Throw</td><td><a class="el" href="classdunedaq_1_1oks_1_1exception.html">oks::exception</a> in case of problems. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l04996">4996</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4997</span>{</div>
<div class="line"><span class="lineno"> 4998</span>  std::unique_lock lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#ac18d066f601c9b45cb47bb4c2e1f3cc7">p_kernel_mutex</a>);</div>
<div class="line"><span class="lineno"> 4999</span> </div>
<div class="line"><span class="lineno"> 5000</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#aade265849b397edf161fc12715b1e979">OksKernel::get_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5001</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;update&quot;</span>, <span class="stringliteral">&quot;the repository-root is not set (check environment variable TDAQ_DB_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5002</span> </div>
<div class="line"><span class="lineno"> 5003</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>().<a class="code hl_variable" href="namespacedunedaq.html#a2936855bbd7a7bb39c961235a438462c">empty</a>())</div>
<div class="line"><span class="lineno"> 5004</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;update&quot;</span>, <span class="stringliteral">&quot;the user-repository-root is not set (check environment variable TDAQ_DB_USER_REPOSITORY)&quot;</span>);</div>
<div class="line"><span class="lineno"> 5005</span> </div>
<div class="line"><span class="lineno"> 5006</span>  std::string <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>(<span class="stringliteral">&quot;oks-update.sh&quot;</span>);</div>
<div class="line"><span class="lineno"> 5007</span> </div>
<div class="line"><span class="lineno"> 5008</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a4bb4a70a6dec8d2fc7d61c506d79f4c3">get_verbose_mode</a>())</div>
<div class="line"><span class="lineno"> 5009</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -v&quot;</span>);</div>
<div class="line"><span class="lineno"> 5010</span> </div>
<div class="line"><span class="lineno"> 5011</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; -u &quot;</span>);</div>
<div class="line"><span class="lineno"> 5012</span>  <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_function" href="classdunedaq_1_1oks_1_1OksKernel.html#a09102313f879350a437e7e56b2f351f4">get_user_repository_root</a>());</div>
<div class="line"><span class="lineno"> 5013</span> </div>
<div class="line"><span class="lineno"> 5014</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">update_type</a> == <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5a31c1e9c7d4d3ae17e4945d954fa17ae6">OksKernel::DiscardChanges</a>)</div>
<div class="line"><span class="lineno"> 5015</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; --force&quot;</span>);</div>
<div class="line"><span class="lineno"> 5016</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">update_type</a> == <a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksKernel.html#a348cbdfb0b8385aa7ab3921d25a387b5aa3230da50c16767b8f718e09e9bca1d1">OksKernel::MergeChanges</a>)</div>
<div class="line"><span class="lineno"> 5017</span>    <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; --merge&quot;</span>);</div>
<div class="line"><span class="lineno"> 5018</span> </div>
<div class="line"><span class="lineno"> 5019</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>.empty())</div>
<div class="line"><span class="lineno"> 5020</span>    {</div>
<div class="line"><span class="lineno"> 5021</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<span class="stringliteral">&quot; --&quot;</span>);</div>
<div class="line"><span class="lineno"> 5022</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">param</a>);</div>
<div class="line"><span class="lineno"> 5023</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno"> 5024</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 5025</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.append(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">val</a>);</div>
<div class="line"><span class="lineno"> 5026</span>      <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.push_back(<span class="charliteral">&#39;\&quot;&#39;</span>);</div>
<div class="line"><span class="lineno"> 5027</span>    }</div>
<div class="line"><span class="lineno"> 5028</span> </div>
<div class="line"><span class="lineno"> 5029</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a> = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno"> 5030</span> </div>
<div class="line"><span class="lineno"> 5031</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>) {</div>
<div class="line"><span class="lineno"> 5032</span>    std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5033</span>    <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS update] =&gt; &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5034</span>  }</div>
<div class="line"><span class="lineno"> 5035</span> </div>
<div class="line"><span class="lineno"> 5036</span>  CommandOutput <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>(<span class="stringliteral">&quot;oks-update&quot;</span>, <span class="keyword">this</span>, cmd);</div>
<div class="line"><span class="lineno"> 5037</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.check_command_status(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">system</a>(<a class="code hl_function" href="namespacedunedaq.html#a32b26ec6a54e0c0849936cd5e14d9308">cmd</a>.c_str()));</div>
<div class="line"><span class="lineno"> 5038</span> </div>
<div class="line"><span class="lineno"> 5039</span>  <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a80f9d537ea0cdd55cf07d9e5f0f0836a">p_repository_update_ts</a> = std::time(0);</div>
<div class="line"><span class="lineno"> 5040</span> </div>
<div class="line"><span class="lineno"> 5041</span>  <span class="keyword">static</span> std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>(<span class="stringliteral">&quot;update oks version &quot;</span>);</div>
<div class="line"><span class="lineno"> 5042</span>  std::string <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.last_str();</div>
<div class="line"><span class="lineno"> 5043</span>  std::string::size_type pos = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.find(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>);</div>
<div class="line"><span class="lineno"> 5044</span> </div>
<div class="line"><span class="lineno"> 5045</span>  <span class="keywordflow">if</span>(pos == 0)</div>
<div class="line"><span class="lineno"> 5046</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a30fd2e07159fbe5ffc1ca3da0be67055">p_repository_version</a> = <a class="code hl_variable" href="TriggerActivity__serialization_8hpp.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>.substr(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">version_prefix</a>.size());</div>
<div class="line"><span class="lineno"> 5047</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5048</span>    <span class="keywordflow">throw</span> RepositoryOperationFailed(<span class="stringliteral">&quot;commit&quot;</span>, <span class="stringliteral">&quot;cannot read oks version&quot;</span>);</div>
<div class="line"><span class="lineno"> 5049</span> </div>
<div class="line"><span class="lineno"> 5050</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a0ba3231bc9d5110cae9dab9790c2dc15">p_silence</a>)</div>
<div class="line"><span class="lineno"> 5051</span>    {</div>
<div class="line"><span class="lineno"> 5052</span>      std::lock_guard lock(<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a29924bc55bc4d00959a7c4a439ef4579">p_parallel_out_mutex</a>);</div>
<div class="line"><span class="lineno"> 5053</span>      std::cout &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">cmd_out</a>.cat2str();</div>
<div class="line"><span class="lineno"> 5054</span>      <a class="code hl_function" href="namespacedunedaq_1_1oks.html#a3971596978f15a9c6466adbf9edb7653">log_timestamp</a>() &lt;&lt; <span class="stringliteral">&quot;[OKS update] =&gt; done in &quot;</span> &lt;&lt; std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(std::chrono::steady_clock::now()-<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">start_usage</a>).count() / 1000. &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 5055</span>    }</div>
<div class="line"><span class="lineno"> 5056</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a0781385fa53ab9c1e66ee5850c35c0bc" name="a0781385fa53ab9c1e66ee5850c35c0bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0781385fa53ab9c1e66ee5850c35c0bc">&#9670;&#160;</a></span>OksClass</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">friend</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">class</a> <a class="el" href="classdunedaq_1_1oks_1_1OksClass.html">OksClass</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00580">580</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a5b74db997373812fa3a1390e0d2455a6" name="a5b74db997373812fa3a1390e0d2455a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b74db997373812fa3a1390e0d2455a6">&#9670;&#160;</a></span>OksData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">friend</a> struct <a class="el" href="structdunedaq_1_1oks_1_1OksData.html">OksData</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00583">583</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a94f4edb000c1848aac74cfd4e1457a4d" name="a94f4edb000c1848aac74cfd4e1457a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f4edb000c1848aac74cfd4e1457a4d">&#9670;&#160;</a></span>OksFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">friend</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">class</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00579">579</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a3e24d3bdd4b82fbeee070daa90a9fb5a" name="a3e24d3bdd4b82fbeee070daa90a9fb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e24d3bdd4b82fbeee070daa90a9fb5a">&#9670;&#160;</a></span>OksLoadObjectsJob</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">friend</a> struct <a class="el" href="structdunedaq_1_1oks_1_1OksLoadObjectsJob.html">OksLoadObjectsJob</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00582">582</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="ac7db7b536426fdcbeab21b6b6eb95d89" name="ac7db7b536426fdcbeab21b6b6eb95d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7db7b536426fdcbeab21b6b6eb95d89">&#9670;&#160;</a></span>OksObject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">friend</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">class</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l00581">581</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="aeff395fabaa86c1fa43666f5143fc828" name="aeff395fabaa86c1fa43666f5143fc828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff395fabaa86c1fa43666f5143fc828">&#9670;&#160;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">operator</a>&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a> &amp;&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8cpp_source.html#l01493">1493</a> of file <a class="el" href="kernel_8cpp_source.html">kernel.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1495</span>{</div>
<div class="line"><span class="lineno"> 1496</span>  <a class="code hl_define" href="defs_8hpp.html#acee4373a49e0afcc5330d31d29983ca9">OSK_PROFILING</a>(<a class="code hl_enumvalue" href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a686b13b4568098febd0efacb9cb2c59a">OksProfiler::KernelOperatorOut</a>, &amp;k)</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot;OKS KERNEL DUMP:\n&quot;</span> &lt;&lt; <span class="stringliteral">&quot;OKS VERSION: &quot;</span> &lt;&lt; k.GetVersion() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1499</span> </div>
<div class="line"><span class="lineno"> 1500</span>  <span class="keywordflow">if</span> (!k.p_schema_files.empty())</div>
<div class="line"><span class="lineno"> 1501</span>    {</div>
<div class="line"><span class="lineno"> 1502</span>      <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot; Loaded schema:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a> : k.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a477034829bb0a6654ab8404175ae4604">p_schema_files</a>)</div>
<div class="line"><span class="lineno"> 1505</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">i</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">second</a>-&gt;get_full_file_name() &lt;&lt; <a class="code hl_namespace" href="namespacestd.html">std</a>::<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">endl</a>;</div>
<div class="line"><span class="lineno"> 1506</span> </div>
<div class="line"><span class="lineno"> 1507</span>      <span class="keywordflow">if</span> (!k.p_data_files.empty())</div>
<div class="line"><span class="lineno"> 1508</span>        {</div>
<div class="line"><span class="lineno"> 1509</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot; Loaded data:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : k.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#af63752813c588c05d1e1b6ce1797a9f5">p_data_files</a>)</div>
<div class="line"><span class="lineno"> 1512</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">second</a>-&gt;get_full_file_name() &lt;&lt; <a class="code hl_namespace" href="namespacestd.html">std</a>::<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">endl</a>;</div>
<div class="line"><span class="lineno"> 1513</span>        }</div>
<div class="line"><span class="lineno"> 1514</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1515</span>        <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot; No loaded data files\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1516</span> </div>
<div class="line"><span class="lineno"> 1517</span>      <span class="keywordflow">if</span> (!k.p_classes.empty())</div>
<div class="line"><span class="lineno"> 1518</span>        {</div>
<div class="line"><span class="lineno"> 1519</span>          <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot; The classes:\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1520</span> </div>
<div class="line"><span class="lineno"> 1521</span>          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a> : k.<a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksKernel.html#a3dbcee3a353a3d24204b4765a194e1d5">p_classes</a>)</div>
<div class="line"><span class="lineno"> 1522</span>            <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; *<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">j</a>.<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">second</a>;</div>
<div class="line"><span class="lineno"> 1523</span>        }</div>
<div class="line"><span class="lineno"> 1524</span>    }</div>
<div class="line"><span class="lineno"> 1525</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1526</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot; No loaded schema files\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a> &lt;&lt; <span class="stringliteral">&quot;END OF OKS KERNEL DUMP.\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1529</span> </div>
<div class="line"><span class="lineno"> 1530</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>;</div>
<div class="line"><span class="lineno"> 1531</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksProfiler_html_a64e1342fd1757c9eba0d7b43b925bde5a686b13b4568098febd0efacb9cb2c59a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksProfiler.html#a64e1342fd1757c9eba0d7b43b925bde5a686b13b4568098febd0efacb9cb2c59a">dunedaq::oks::OksProfiler::KernelOperatorOut</a></div><div class="ttdeci">@ KernelOperatorOut</div><div class="ttdef"><b>Definition</b> <a href="profiler_8hpp_source.html#l00020">profiler.hpp:20</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae85145f1522602d506b8d933519f9018" name="ae85145f1522602d506b8d933519f9018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85145f1522602d506b8d933519f9018">&#9670;&#160;</a></span>p_active_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a>* dunedaq::oks::OksKernel::p_active_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02052">2052</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a027d8e76d068dde3dd3c2195376c695a" name="a027d8e76d068dde3dd3c2195376c695a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027d8e76d068dde3dd3c2195376c695a">&#9670;&#160;</a></span>p_active_schema</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a>* dunedaq::oks::OksKernel::p_active_schema</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02051">2051</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a01c94417eb51449baf27890e9663c73c" name="a01c94417eb51449baf27890e9663c73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01c94417eb51449baf27890e9663c73c">&#9670;&#160;</a></span>p_allow_duplicated_classes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_allow_duplicated_classes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02021">2021</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a1a10ad58ba9a09c7c324fb90cabc0e44" name="a1a10ad58ba9a09c7c324fb90cabc0e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a10ad58ba9a09c7c324fb90cabc0e44">&#9670;&#160;</a></span>p_allow_duplicated_objects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_allow_duplicated_objects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02022">2022</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a2c859e6a3ed6e14fa0e672b1d4b59886" name="a2c859e6a3ed6e14fa0e672b1d4b59886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c859e6a3ed6e14fa0e672b1d4b59886">&#9670;&#160;</a></span>p_allow_repository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_allow_repository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02020">2020</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a98deca8b0f40dc677caca63479acc0c3" name="a98deca8b0f40dc677caca63479acc0c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98deca8b0f40dc677caca63479acc0c3">&#9670;&#160;</a></span>p_bind_classes_status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::p_bind_classes_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02075">2075</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a41302a21b195f3c0222a6cfcdc8aa41f" name="a41302a21b195f3c0222a6cfcdc8aa41f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41302a21b195f3c0222a6cfcdc8aa41f">&#9670;&#160;</a></span>p_bind_objects_status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::p_bind_objects_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02074">2074</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a023ce21b0c591f53e79c65c1e48c4c6a" name="a023ce21b0c591f53e79c65c1e48c4c6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023ce21b0c591f53e79c65c1e48c4c6a">&#9670;&#160;</a></span>p_change_object_notify_fn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a> dunedaq::oks::OksKernel::p_change_object_notify_fn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02159">2159</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="aae17b172d5ca4c96035a027ab1545bc8" name="aae17b172d5ca4c96035a027ab1545bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae17b172d5ca4c96035a027ab1545bc8">&#9670;&#160;</a></span>p_change_object_notify_param</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>* dunedaq::oks::OksKernel::p_change_object_notify_param</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02160">2160</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a3dbcee3a353a3d24204b4765a194e1d5" name="a3dbcee3a353a3d24204b4765a194e1d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dbcee3a353a3d24204b4765a194e1d5">&#9670;&#160;</a></span>p_classes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksClass.html#ad3c54a0eebc4de59ef08a6257e4c9e16">OksClass::Map</a> dunedaq::oks::OksKernel::p_classes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02064">2064</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a8a38de67fc48d5c5c2169eda863252cc" name="a8a38de67fc48d5c5c2169eda863252cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a38de67fc48d5c5c2169eda863252cc">&#9670;&#160;</a></span>p_close_all</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_close_all</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02054">2054</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a9c554b2122f46f49a5ab42ded403305b" name="a9c554b2122f46f49a5ab42ded403305b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c554b2122f46f49a5ab42ded403305b">&#9670;&#160;</a></span>p_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">unsigned</a> <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">long</a> dunedaq::oks::OksKernel::p_count = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02066">2066</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="acc68c1f8cefd257f4aff1167ba5e6389" name="acc68c1f8cefd257f4aff1167ba5e6389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc68c1f8cefd257f4aff1167ba5e6389">&#9670;&#160;</a></span>p_create_object_notify_fn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a> dunedaq::oks::OksKernel::p_create_object_notify_fn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02156">2156</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="afc6da3fe96597d26b0e71ce80d6a4919" name="afc6da3fe96597d26b0e71ce80d6a4919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc6da3fe96597d26b0e71ce80d6a4919">&#9670;&#160;</a></span>p_create_object_notify_param</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>* dunedaq::oks::OksKernel::p_create_object_notify_param</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02157">2157</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="af63752813c588c05d1e1b6ce1797a9f5" name="af63752813c588c05d1e1b6ce1797a9f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63752813c588c05d1e1b6ce1797a9f5">&#9670;&#160;</a></span>p_data_files</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> dunedaq::oks::OksKernel::p_data_files</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02049">2049</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a5f14be93d583ebf6f6e8b07f46c5c2b5" name="a5f14be93d583ebf6f6e8b07f46c5c2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f14be93d583ebf6f6e8b07f46c5c2b5">&#9670;&#160;</a></span>p_delete_object_notify_fn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#a8a03008a11d7cbd482c21fbd09a2d5f0">OksObject::notify_obj</a> dunedaq::oks::OksKernel::p_delete_object_notify_fn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02162">2162</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a7f141393a48db689e86066a08b63c44e" name="a7f141393a48db689e86066a08b63c44e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f141393a48db689e86066a08b63c44e">&#9670;&#160;</a></span>p_delete_object_notify_param</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">void</a>* dunedaq::oks::OksKernel::p_delete_object_notify_param</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02163">2163</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="ac18d066f601c9b45cb47bb4c2e1f3cc7" name="ac18d066f601c9b45cb47bb4c2e1f3cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac18d066f601c9b45cb47bb4c2e1f3cc7">&#9670;&#160;</a></span>p_kernel_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_mutex dunedaq::oks::OksKernel::p_kernel_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02040">2040</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="aa0a2ea60d49d61ff118f3bb6722aae8e" name="aa0a2ea60d49d61ff118f3bb6722aae8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0a2ea60d49d61ff118f3bb6722aae8e">&#9670;&#160;</a></span>p_load_errors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdunedaq_1_1oks_1_1LoadErrors.html">LoadErrors</a> dunedaq::oks::OksKernel::p_load_errors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02077">2077</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="ad09d4dbcba0626d213b076634aafdde0" name="ad09d4dbcba0626d213b076634aafdde0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09d4dbcba0626d213b076634aafdde0">&#9670;&#160;</a></span>p_objects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksObject.html#af3e245cfa22aaeff278cb6a793b902fc">OksObject::Set</a> dunedaq::oks::OksKernel::p_objects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02070">2070</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a06159b5ff8335605dc992309a22409ae" name="a06159b5ff8335605dc992309a22409ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06159b5ff8335605dc992309a22409ae">&#9670;&#160;</a></span>p_objects_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex dunedaq::oks::OksKernel::p_objects_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02041">2041</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a98e32cfeb81b0fdf95f0a69ac904f879" name="a98e32cfeb81b0fdf95f0a69ac904f879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e32cfeb81b0fdf95f0a69ac904f879">&#9670;&#160;</a></span>p_objects_refs_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex dunedaq::oks::OksKernel::p_objects_refs_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02042">2042</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a29924bc55bc4d00959a7c4a439ef4579" name="a29924bc55bc4d00959a7c4a439ef4579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29924bc55bc4d00959a7c4a439ef4579">&#9670;&#160;</a></span>p_parallel_out_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex dunedaq::oks::OksKernel::p_parallel_out_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02044">2044</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a7ebf40f11e523f6310d4d7917e508f4b" name="a7ebf40f11e523f6310d4d7917e508f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ebf40f11e523f6310d4d7917e508f4b">&#9670;&#160;</a></span>p_preload_added_files</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&gt; dunedaq::oks::OksKernel::p_preload_added_files</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02080">2080</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="af678babfee87cc6ad1c42da687d14646" name="af678babfee87cc6ad1c42da687d14646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af678babfee87cc6ad1c42da687d14646">&#9670;&#160;</a></span>p_preload_file_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *, <a class="el" href="classdunedaq_1_1oks_1_1OksFile.html">OksFile</a> *&gt; dunedaq::oks::OksKernel::p_preload_file_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02079">2079</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a6a86419a90e856eefd7a8e14af9ab95b" name="a6a86419a90e856eefd7a8e14af9ab95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a86419a90e856eefd7a8e14af9ab95b">&#9670;&#160;</a></span>p_profiling</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_profiling</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02019">2019</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a3cdafe18537c1878dc705dc544556023" name="a3cdafe18537c1878dc705dc544556023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cdafe18537c1878dc705dc544556023">&#9670;&#160;</a></span>p_repository_checkout_ts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t dunedaq::oks::OksKernel::p_repository_checkout_ts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02034">2034</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a626691afecd914a9808e008690008103" name="a626691afecd914a9808e008690008103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626691afecd914a9808e008690008103">&#9670;&#160;</a></span>p_repository_dirs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;std::string&gt; dunedaq::oks::OksKernel::p_repository_dirs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02059">2059</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a7c388d2cef0d147eac31f486e2246084" name="a7c388d2cef0d147eac31f486e2246084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c388d2cef0d147eac31f486e2246084">&#9670;&#160;</a></span>p_repository_mapping_dir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::p_repository_mapping_dir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02029">2029</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a376982cc6357b8191ba7e5a11f81e3b3" name="a376982cc6357b8191ba7e5a11f81e3b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a376982cc6357b8191ba7e5a11f81e3b3">&#9670;&#160;</a></span>p_repository_root</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::p_repository_root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02028">2028</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a80f9d537ea0cdd55cf07d9e5f0f0836a" name="a80f9d537ea0cdd55cf07d9e5f0f0836a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80f9d537ea0cdd55cf07d9e5f0f0836a">&#9670;&#160;</a></span>p_repository_update_ts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t dunedaq::oks::OksKernel::p_repository_update_ts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02035">2035</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a30fd2e07159fbe5ffc1ca3da0be67055" name="a30fd2e07159fbe5ffc1ca3da0be67055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30fd2e07159fbe5ffc1ca3da0be67055">&#9670;&#160;</a></span>p_repository_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::p_repository_version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02033">2033</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a477034829bb0a6654ab8404175ae4604" name="a477034829bb0a6654ab8404175ae4604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a477034829bb0a6654ab8404175ae4604">&#9670;&#160;</a></span>p_schema_files</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksFile.html#a92fa9e7d1c2f15398df45f582ab401f4">OksFile::Map</a> dunedaq::oks::OksKernel::p_schema_files</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02048">2048</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="ae97100aa2f2c13a8c80d9c4e99456b27" name="ae97100aa2f2c13a8c80d9c4e99456b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae97100aa2f2c13a8c80d9c4e99456b27">&#9670;&#160;</a></span>p_schema_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_mutex dunedaq::oks::OksKernel::p_schema_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02043">2043</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a0ba3231bc9d5110cae9dab9790c2dc15" name="a0ba3231bc9d5110cae9dab9790c2dc15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba3231bc9d5110cae9dab9790c2dc15">&#9670;&#160;</a></span>p_silence</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_silence</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02017">2017</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="aa5f313975428a5db86a1f15e04affd2a" name="aa5f313975428a5db86a1f15e04affd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f313975428a5db86a1f15e04affd2a">&#9670;&#160;</a></span>p_skip_string_range</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_skip_string_range = <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02025">2025</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="ac26b4bde2895fc3606c18f13908e3392" name="ac26b4bde2895fc3606c18f13908e3392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26b4bde2895fc3606c18f13908e3392">&#9670;&#160;</a></span>p_test_duplicated_objects_via_inheritance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_test_duplicated_objects_via_inheritance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02023">2023</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a84a1feb0f10e13050b8867c600eb24df" name="a84a1feb0f10e13050b8867c600eb24df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a1feb0f10e13050b8867c600eb24df">&#9670;&#160;</a></span>p_threads_pool_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dunedaq::oks::OksKernel::p_threads_pool_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02072">2072</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a240f6bd8b9dbea5b2263dae112ad53a1" name="a240f6bd8b9dbea5b2263dae112ad53a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a240f6bd8b9dbea5b2263dae112ad53a1">&#9670;&#160;</a></span>p_use_strict_repository_paths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_use_strict_repository_paths = <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">true</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02026">2026</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="aa55a080d3b1484fcdb1fa1cbbe0c3ab8" name="aa55a080d3b1484fcdb1fa1cbbe0c3ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55a080d3b1484fcdb1fa1cbbe0c3ab8">&#9670;&#160;</a></span>p_user_repository_root</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dunedaq::oks::OksKernel::p_user_repository_root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02030">2030</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a86b77743fd9868405c0cee8910d02247" name="a86b77743fd9868405c0cee8910d02247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b77743fd9868405c0cee8910d02247">&#9670;&#160;</a></span>p_user_repository_root_created</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_user_repository_root_created</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02032">2032</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="afe8105e10baeb961ec7301c091bd8af1" name="afe8105e10baeb961ec7301c091bd8af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe8105e10baeb961ec7301c091bd8af1">&#9670;&#160;</a></span>p_user_repository_root_inited</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_user_repository_root_inited</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02031">2031</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="ab11076c81a76f57ea6ddb25c70e66d42" name="ab11076c81a76f57ea6ddb25c70e66d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11076c81a76f57ea6ddb25c70e66d42">&#9670;&#160;</a></span>p_verbose</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dunedaq::oks::OksKernel::p_verbose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02018">2018</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a4b101fc322054d01ed6da39d5184dea3" name="a4b101fc322054d01ed6da39d5184dea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b101fc322054d01ed6da39d5184dea3">&#9670;&#160;</a></span>profiler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1OksProfiler.html">OksProfiler</a>* dunedaq::oks::OksKernel::profiler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02068">2068</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<a id="a1cef12849ae5c6dda13eb705c8006e65" name="a1cef12849ae5c6dda13eb705c8006e65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cef12849ae5c6dda13eb705c8006e65">&#9670;&#160;</a></span>s_cwd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">char</a> * dunedaq::oks::OksKernel::s_cwd = <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kernel_8hpp_source.html#l02061">2061</a> of file <a class="el" href="kernel_8hpp_source.html">kernel.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/github/workspace/dev_area/sourcecode/oks/include/oks/<a class="el" href="kernel_8hpp_source.html">kernel.hpp</a></li>
<li>/github/workspace/dev_area/sourcecode/oks/src/<a class="el" href="kernel_8cpp_source.html">kernel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
