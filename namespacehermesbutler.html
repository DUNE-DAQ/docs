<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: hermesbutler Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">hermesbutler Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhermesbutler_1_1HermesCliObj.html">HermesCliObj</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhermesbutler_1_1HermesModule.html">HermesModule</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a28c6302187c37dd07f6d0ee2824bd24a" id="r_a28c6302187c37dd07f6d0ee2824bd24a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a28c6302187c37dd07f6d0ee2824bd24a">dict_to_table</a> (dict vals, **kwargs)</td></tr>
<tr class="separator:a28c6302187c37dd07f6d0ee2824bd24a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd693c75959b8194dd03878cbc2ca04e" id="r_abd693c75959b8194dd03878cbc2ca04e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#abd693c75959b8194dd03878cbc2ca04e">read_regs</a> (hw, reg_list)</td></tr>
<tr class="separator:abd693c75959b8194dd03878cbc2ca04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaffd0888efd78893743ebeeac168a593" id="r_aaffd0888efd78893743ebeeac168a593"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#aaffd0888efd78893743ebeeac168a593">read_and_print</a> (hw, reg_list)</td></tr>
<tr class="separator:aaffd0888efd78893743ebeeac168a593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c53fa72399d06892e67d8c2ec1d76c4" id="r_a4c53fa72399d06892e67d8c2ec1d76c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a4c53fa72399d06892e67d8c2ec1d76c4">dump_sub_regs</a> (node)</td></tr>
<tr class="separator:a4c53fa72399d06892e67d8c2ec1d76c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc49ec692cf9949f6dfc18b8368fe33f" id="r_adc49ec692cf9949f6dfc18b8368fe33f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#adc49ec692cf9949f6dfc18b8368fe33f">dump_reg</a> (node)</td></tr>
<tr class="separator:adc49ec692cf9949f6dfc18b8368fe33f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce5f5775c17b27a76c2510200c6d906" id="r_abce5f5775c17b27a76c2510200c6d906"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#abce5f5775c17b27a76c2510200c6d906">validate_device</a> (ctx, param, value)</td></tr>
<tr class="separator:abce5f5775c17b27a76c2510200c6d906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7011be3cfc257cfe8f27b0279de570da" id="r_a7011be3cfc257cfe8f27b0279de570da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a7011be3cfc257cfe8f27b0279de570da">cli</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, device)</td></tr>
<tr class="separator:a7011be3cfc257cfe8f27b0279de570da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c04bd801518700898fd72b03deff40" id="r_ab7c04bd801518700898fd72b03deff40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#ab7c04bd801518700898fd72b03deff40">addrbook</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>)</td></tr>
<tr class="separator:ab7c04bd801518700898fd72b03deff40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f4ce935319fec1d9910b67717dabbc" id="r_ac5f4ce935319fec1d9910b67717dabbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#ac5f4ce935319fec1d9910b67717dabbc">reset</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, nuke)</td></tr>
<tr class="separator:ac5f4ce935319fec1d9910b67717dabbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af10d7ec651d987d304987b8a21f4d4" id="r_a6af10d7ec651d987d304987b8a21f4d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a6af10d7ec651d987d304987b8a21f4d4">enable</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, enable, buf_en, tx_en, link)</td></tr>
<tr class="separator:a6af10d7ec651d987d304987b8a21f4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67cc934ce16fc6498d2a69143031d9f" id="r_aa67cc934ce16fc6498d2a69143031d9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#aa67cc934ce16fc6498d2a69143031d9f">mux_config</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, <a class="el" href="TriggerActivity__serialization_8hpp.html#a036922aa17eb4543599ba8c6288e3712">detid</a>, crate, slot, link)</td></tr>
<tr class="separator:aa67cc934ce16fc6498d2a69143031d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97148dea57db2db2157cad8bfda08dfb" id="r_a97148dea57db2db2157cad8bfda08dfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a97148dea57db2db2157cad8bfda08dfb">udp_config</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, src_id, dst_id, link)</td></tr>
<tr class="separator:a97148dea57db2db2157cad8bfda08dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e100ba74b716c6ebb638d2bfdec6f6" id="r_ac6e100ba74b716c6ebb638d2bfdec6f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#ac6e100ba74b716c6ebb638d2bfdec6f6">zcu_src_config</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, link, en_n_src, dlen, rate_rdx)</td></tr>
<tr class="separator:ac6e100ba74b716c6ebb638d2bfdec6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c52efdfa1e1c3b3784f725853c5855" id="r_a96c52efdfa1e1c3b3784f725853c5855"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a96c52efdfa1e1c3b3784f725853c5855">fakesrc_config</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, link, n_src, src, data_len, rate_rdx)</td></tr>
<tr class="separator:a96c52efdfa1e1c3b3784f725853c5855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70eb721e7631a09a6688e70af43e1471" id="r_a70eb721e7631a09a6688e70af43e1471"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a70eb721e7631a09a6688e70af43e1471">stats</a> (<a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a>, sel_links, seconds, show_udp, show_buf)</td></tr>
<tr class="separator:a70eb721e7631a09a6688e70af43e1471"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a25d795d25e1190dda81140e9695d8eef" id="r_a25d795d25e1190dda81140e9695d8eef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a25d795d25e1190dda81140e9695d8eef">MAX_SRCS_P_MGT</a> = 16</td></tr>
<tr class="separator:a25d795d25e1190dda81140e9695d8eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a6e8129a8b5f3ddd9d513a6dc82003" id="r_a19a6e8129a8b5f3ddd9d513a6dc82003"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a19a6e8129a8b5f3ddd9d513a6dc82003">mgts_all</a> = tuple(str(i) for i in range(MAX_MGT))</td></tr>
<tr class="separator:a19a6e8129a8b5f3ddd9d513a6dc82003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4294284592fcbeb9fe82b2938d3b3e3" id="r_ae4294284592fcbeb9fe82b2938d3b3e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#ae4294284592fcbeb9fe82b2938d3b3e3">CONTEXT_SETTINGS</a> = dict(help_option_names=['-h', '--help'])</td></tr>
<tr class="separator:ae4294284592fcbeb9fe82b2938d3b3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317560dc55ce78134834cbdb4ac17a8e" id="r_a317560dc55ce78134834cbdb4ac17a8e"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a317560dc55ce78134834cbdb4ac17a8e">FORMAT</a> = &quot;%(message)s&quot;</td></tr>
<tr class="separator:a317560dc55ce78134834cbdb4ac17a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a477c84ff9e63465dc67e58e48111e9db" id="r_a477c84ff9e63465dc67e58e48111e9db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a477c84ff9e63465dc67e58e48111e9db">level</a></td></tr>
<tr class="separator:a477c84ff9e63465dc67e58e48111e9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af274d821f836a35cbb5b6def90574907" id="r_af274d821f836a35cbb5b6def90574907"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#af274d821f836a35cbb5b6def90574907">format</a></td></tr>
<tr class="separator:af274d821f836a35cbb5b6def90574907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd808626d478af468728018e28e9893" id="r_adcd808626d478af468728018e28e9893"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#adcd808626d478af468728018e28e9893">datefmt</a></td></tr>
<tr class="separator:adcd808626d478af468728018e28e9893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf5242321997c94f9a3f2c021371a8d" id="r_a7bf5242321997c94f9a3f2c021371a8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#a7bf5242321997c94f9a3f2c021371a8d">handlers</a></td></tr>
<tr class="separator:a7bf5242321997c94f9a3f2c021371a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e5701a24fdf944e89003d09ebe3c68" id="r_aa4e5701a24fdf944e89003d09ebe3c68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehermesbutler.html#aa4e5701a24fdf944e89003d09ebe3c68">obj</a></td></tr>
<tr class="separator:aa4e5701a24fdf944e89003d09ebe3c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab7c04bd801518700898fd72b03deff40" name="ab7c04bd801518700898fd72b03deff40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c04bd801518700898fd72b03deff40">&#9670;&#160;</a></span>addrbook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.addrbook </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00211">211</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  211</span><span class="keyword">def </span>addrbook(obj):</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>    t = Table(title=<span class="stringliteral">&quot;Control hosts&quot;</span>)</div>
<div class="line"><span class="lineno">  214</span>    t.add_column(<span class="stringliteral">&#39;name&#39;</span>)</div>
<div class="line"><span class="lineno">  215</span>    <span class="comment"># t.add_column(&#39;addrtable&#39;, style=&#39;green&#39;)</span></div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">for</span> h <span class="keywordflow">in</span> obj.cm.getDevices():</div>
<div class="line"><span class="lineno">  217</span>        t.add_row(h)</div>
<div class="line"><span class="lineno">  218</span>    print(t)</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    t = Table(title=<span class="stringliteral">&quot;Receivers&quot;</span>)</div>
<div class="line"><span class="lineno">  221</span>    t.add_column(<span class="stringliteral">&#39;name&#39;</span>)</div>
<div class="line"><span class="lineno">  222</span>    t.add_column(<span class="stringliteral">&#39;mac&#39;</span>, style=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  223</span>    t.add_column(<span class="stringliteral">&#39;ip&#39;</span>, style=<span class="stringliteral">&#39;blue&#39;</span>)</div>
<div class="line"><span class="lineno">  224</span>    t.add_column(<span class="stringliteral">&#39;port&#39;</span>, style=<span class="stringliteral">&#39;blue&#39;</span>)</div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">for</span> h,d <span class="keywordflow">in</span> rx_endpoints.items():</div>
<div class="line"><span class="lineno">  226</span>        t.add_row(h, f<span class="stringliteral">&quot;0x{d[&#39;mac&#39;]:012x}&quot;</span>, f<span class="stringliteral">&quot;{d[&#39;ip&#39;]}&quot;</span>, str(d[<span class="stringliteral">&#39;port&#39;</span>]))</div>
<div class="line"><span class="lineno">  227</span>    print(t)</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    t = Table(title=<span class="stringliteral">&quot;Transmitters&quot;</span>)</div>
<div class="line"><span class="lineno">  230</span>    t.add_column(<span class="stringliteral">&#39;name&#39;</span>)</div>
<div class="line"><span class="lineno">  231</span>    t.add_column(<span class="stringliteral">&#39;mac&#39;</span>, style=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  232</span>    t.add_column(<span class="stringliteral">&#39;ip&#39;</span>, style=<span class="stringliteral">&#39;blue&#39;</span>)</div>
<div class="line"><span class="lineno">  233</span>    t.add_column(<span class="stringliteral">&#39;port&#39;</span>, style=<span class="stringliteral">&#39;blue&#39;</span>)</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">for</span> h,d <span class="keywordflow">in</span> tx_endpoints.items():</div>
<div class="line"><span class="lineno">  235</span>        t.add_row(h, f<span class="stringliteral">&quot;0x{d[&#39;mac&#39;]:012x}&quot;</span>, f<span class="stringliteral">&quot;{d[&#39;ip&#39;]}&quot;</span>, str(d[<span class="stringliteral">&#39;port&#39;</span>]))</div>
<div class="line"><span class="lineno">  236</span>    print(t)</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span><span class="preprocessor">@cli.command()</span></div>
<div class="line"><span class="lineno">  240</span><span class="preprocessor">@click.option(&#39;--nuke&#39;, is_flag=True, default=None)</span></div>
<div class="line"><span class="lineno">  241</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7011be3cfc257cfe8f27b0279de570da" name="a7011be3cfc257cfe8f27b0279de570da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7011be3cfc257cfe8f27b0279de570da">&#9670;&#160;</a></span>cli()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.cli </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00205">205</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span><span class="keyword">def </span>cli(obj, device):</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    obj.ctrl_id = device</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span><span class="preprocessor">@cli.command()</span></div>
<div class="line"><span class="lineno">  210</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28c6302187c37dd07f6d0ee2824bd24a" name="a28c6302187c37dd07f6d0ee2824bd24a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c6302187c37dd07f6d0ee2824bd24a">&#9670;&#160;</a></span>dict_to_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.dict_to_table </td>
          <td>(</td>
          <td class="paramtype">dict&#160;</td>
          <td class="paramname"><em>vals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00023">23</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span><span class="keyword">def </span>dict_to_table( vals: dict, **kwargs):</div>
<div class="line"><span class="lineno">   24</span> </div>
<div class="line"><span class="lineno">   25</span>    t = Table(**kwargs)</div>
<div class="line"><span class="lineno">   26</span>    t.add_column(<span class="stringliteral">&#39;name&#39;</span>)</div>
<div class="line"><span class="lineno">   27</span>    t.add_column(<span class="stringliteral">&#39;value&#39;</span>, style=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordflow">for</span> k,v <span class="keywordflow">in</span> vals.items():</div>
<div class="line"><span class="lineno">   29</span>        t.add_row(k,hex(v))</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">return</span> t</div>
<div class="line"><span class="lineno">   31</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adc49ec692cf9949f6dfc18b8368fe33f" name="adc49ec692cf9949f6dfc18b8368fe33f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc49ec692cf9949f6dfc18b8368fe33f">&#9670;&#160;</a></span>dump_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.dump_reg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00058">58</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span><span class="keyword">def </span>dump_reg(node):</div>
<div class="line"><span class="lineno">   59</span>    v = node.read()</div>
<div class="line"><span class="lineno">   60</span>    node.getClient().dispatch()</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">return</span> {node.getId(): v.value()}</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c53fa72399d06892e67d8c2ec1d76c4" name="a4c53fa72399d06892e67d8c2ec1d76c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c53fa72399d06892e67d8c2ec1d76c4">&#9670;&#160;</a></span>dump_sub_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.dump_sub_regs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00048">48</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span><span class="keyword">def </span>dump_sub_regs(node):</div>
<div class="line"><span class="lineno">   49</span>    regs = {}</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> sorted(node.getNodes()):</div>
<div class="line"><span class="lineno">   51</span>        regs[i] = node.getNode(i).read()</div>
<div class="line"><span class="lineno">   52</span>    node.getClient().dispatch()</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">return</span> {k: v.value() <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> regs.items()}</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span><span class="comment"># -----------------------------------------------------------------------------</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6af10d7ec651d987d304987b8a21f4d4" name="a6af10d7ec651d987d304987b8a21f4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af10d7ec651d987d304987b8a21f4d4">&#9670;&#160;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.enable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>buf_en</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tx_en</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00270">270</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  270</span><span class="keyword">def </span><a class="code hl_namespace" href="namespaceenable.html">enable</a>(obj, enable, buf_en, tx_en, link):</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    n_mgt = hrms.n_mgt</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span> link &gt;= n_mgt:</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;MGT {link} not instantiated&quot;</span>)</div>
<div class="line"><span class="lineno">  278</span>    </div>
<div class="line"><span class="lineno">  279</span>    hrms.sel_tx_mux(link)</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>    print()</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    tx_en = tx_en <span class="keywordflow">if</span> tx_en <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> enable</div>
<div class="line"><span class="lineno">  284</span>    buf_en = buf_en <span class="keywordflow">if</span> buf_en <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> enable</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">if</span> tx_en <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  287</span>        print(f<span class="stringliteral">&quot;- {&#39;Enabling&#39; if tx_en else &#39;Disabling&#39;} &#39;tx block&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  288</span>        hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl.tx_en&#39;</span>).write(tx_en)</div>
<div class="line"><span class="lineno">  289</span>    print()</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">if</span> buf_en <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  292</span>        print(f<span class="stringliteral">&quot;- {&#39;Enabling&#39; if buf_en else &#39;Disabling&#39;} &#39;input buffers&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  293</span>        hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl.en_buf&#39;</span>).write(buf_en)</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    time.sleep(0.1)</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">if</span> enable <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  298</span>        print(f<span class="stringliteral">&quot;- {&#39;Enabling&#39; if enable else &#39;Disabling&#39;} &#39;mux&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  299</span>        hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl.en&#39;</span>).write(enable)</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>    </div>
<div class="line"><span class="lineno">  303</span>    hrms.dispatch()</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    top_ctrl = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl&#39;</span>))</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>    print(</div>
<div class="line"><span class="lineno">  309</span>        dict_to_table(top_ctrl, title=f<span class="stringliteral">&#39;Link {link} ctrls&#39;</span>, show_header=<span class="keyword">False</span>), </div>
<div class="line"><span class="lineno">  310</span>    )</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span><span class="preprocessor">@cli.command(&quot;mux-config&quot;)</span></div>
<div class="line"><span class="lineno">  314</span><span class="preprocessor">@click.argument(&#39;detid&#39;, type=int)</span></div>
<div class="line"><span class="lineno">  315</span><span class="preprocessor">@click.argument(&#39;crate&#39;, type=int)</span></div>
<div class="line"><span class="lineno">  316</span><span class="preprocessor">@click.argument(&#39;slot&#39;, type=int)</span></div>
<div class="line"><span class="lineno">  317</span><span class="preprocessor">@click.option(&#39;-l&#39;, &#39;--link&#39;, type=int, default=0)</span></div>
<div class="line"><span class="lineno">  318</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="ttc" id="anamespaceenable_html"><div class="ttname"><a href="namespaceenable.html">enable</a></div><div class="ttdef"><b>Definition</b> <a href="enable_8py_source.html#l00001">enable.py:1</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96c52efdfa1e1c3b3784f725853c5855" name="a96c52efdfa1e1c3b3784f725853c5855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c52efdfa1e1c3b3784f725853c5855">&#9670;&#160;</a></span>fakesrc_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.fakesrc_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rate_rdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configure trivial data sources</pre> 
<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00481">481</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  481</span><span class="keyword">def </span>fakesrc_config(obj, link, n_src, src, data_len, rate_rdx):</div>
<div class="line"><span class="lineno">  482</span>    <span class="stringliteral">&quot;&quot;&quot;Configure trivial data sources&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    all_srcs = set(range(hrms.n_srcs_p_mgt))</div>
<div class="line"><span class="lineno">  487</span>    en_srcs = set(src) </div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">if</span> en_srcs != set.intersection(all_srcs, en_srcs):</div>
<div class="line"><span class="lineno">  490</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;AAARGH&quot;</span>)</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    <span class="comment"># print(src)</span></div>
<div class="line"><span class="lineno">  493</span>    <span class="comment"># return</span></div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    hrms.sel_tx_mux(link)</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">if</span> n_src &gt; hrms.n_srcs_p_mgt:</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;{n_src} must be lower than the number of generators per link ({n_srcs_p_mgt})&quot;</span>)</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    was_en = hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl.en_buf&#39;</span>).read()</div>
<div class="line"><span class="lineno">  501</span>    <span class="comment"># disable buffer before reconfiguring &quot;or bad things will happen&quot;</span></div>
<div class="line"><span class="lineno">  502</span>    hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl.en_buf&#39;</span>).write(0x0)</div>
<div class="line"><span class="lineno">  503</span>    hrms.dispatch()</div>
<div class="line"><span class="lineno">  504</span>    </div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">for</span> src_id <span class="keywordflow">in</span> range(hrms.n_srcs_p_mgt):</div>
<div class="line"><span class="lineno">  506</span>        hrms.sel_tx_mux_buf(src_id)</div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>        <span class="comment"># src_en = (src_id&lt;n_src)</span></div>
<div class="line"><span class="lineno">  509</span>        src_en = (src_id <span class="keywordflow">in</span> en_srcs)</div>
<div class="line"><span class="lineno">  510</span>        print(f<span class="stringliteral">&#39;Configuring generator {src_id} : {src_en}&#39;</span>)</div>
<div class="line"><span class="lineno">  511</span>        <span class="comment"># hw.write(f&#39;tx.buf.ctrl.fake_en&#39;, src_en)</span></div>
<div class="line"><span class="lineno">  512</span>        hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.buf.ctrl.fake_en&#39;</span>).write(src_en)</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> src_en:</div>
<div class="line"><span class="lineno">  514</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  515</span>        </div>
<div class="line"><span class="lineno">  516</span>        hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.buf.ctrl.dlen&#39;</span>).write(data_len)</div>
<div class="line"><span class="lineno">  517</span>        </div>
<div class="line"><span class="lineno">  518</span>        hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.buf.ctrl.rate_rdx&#39;</span>).write(rate_rdx) </div>
<div class="line"><span class="lineno">  519</span>        hrms.dispatch()</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl.en_buf&#39;</span>).write(was_en.value())</div>
<div class="line"><span class="lineno">  522</span>    hrms.dispatch()</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span><span class="preprocessor">@cli.command()</span></div>
<div class="line"><span class="lineno">  526</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  527</span><span class="preprocessor">@click.option(&#39;-l&#39;, &#39;--links&#39;, &#39;sel_links&#39;, type=click.Choice(mgts_all)</span>, multiple=<span class="keyword">True</span>, default=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  528</span><span class="preprocessor">@click.option(&#39;-s&#39;, &#39;--seconds&#39;, type=int, default=0)</span></div>
<div class="line"><span class="lineno">  529</span><span class="preprocessor">@click.option(&#39;-u/-U&#39;, &#39;--show-udp/--hide-udp&#39;, &#39;show_udp&#39;, default=True)</span></div>
<div class="line"><span class="lineno">  530</span><span class="preprocessor">@click.option(&#39;-b/-B&#39;, &#39;--show-buf/--hide-buf&#39;, &#39;show_buf&#39;, default=True)</span></div>
<div class="line"><span class="lineno">  531</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa67cc934ce16fc6498d2a69143031d9f" name="aa67cc934ce16fc6498d2a69143031d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67cc934ce16fc6498d2a69143031d9f">&#9670;&#160;</a></span>mux_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.mux_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>detid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>crate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configure the UDP blocks </pre> 
<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00319">319</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  319</span><span class="keyword">def </span>mux_config(obj, detid, crate, slot, link):</div>
<div class="line"><span class="lineno">  320</span>    <span class="stringliteral">&quot;&quot;&quot;Configure the UDP blocks &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    hrms.sel_tx_mux(link)</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.mux.ctrl.detid&#39;</span>).write(detid)</div>
<div class="line"><span class="lineno">  327</span>    hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.mux.ctrl.crate&#39;</span>).write(crate)</div>
<div class="line"><span class="lineno">  328</span>    hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.mux.ctrl.slot&#39;</span>).write(slot)</div>
<div class="line"><span class="lineno">  329</span>    </div>
<div class="line"><span class="lineno">  330</span>    mux_ctrl = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.mux.ctrl&#39;</span>))</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    print(</div>
<div class="line"><span class="lineno">  333</span>        dict_to_table(mux_ctrl, title=f<span class="stringliteral">&#39;Link {link} mux cfg&#39;</span>, show_header=<span class="keyword">False</span>), </div>
<div class="line"><span class="lineno">  334</span>    )</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span><span class="preprocessor">@cli.command(&quot;udp-config&quot;)</span></div>
<div class="line"><span class="lineno">  338</span><span class="preprocessor">@click.argument(&#39;src_id&#39;, type=click.Choice(tx_endpoints.keys()</span>))</div>
<div class="line"><span class="lineno">  339</span><span class="preprocessor">@click.argument(&#39;dst_id&#39;, type=click.Choice(rx_endpoints.keys()</span>))</div>
<div class="line"><span class="lineno">  340</span><span class="preprocessor">@click.option(&#39;-l&#39;, &#39;--link&#39;, type=int, default=0)</span></div>
<div class="line"><span class="lineno">  341</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaffd0888efd78893743ebeeac168a593" name="aaffd0888efd78893743ebeeac168a593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaffd0888efd78893743ebeeac168a593">&#9670;&#160;</a></span>read_and_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.read_and_print </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reg_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00039">39</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span><span class="keyword">def </span>read_and_print(hw, reg_list):</div>
<div class="line"><span class="lineno">   40</span>    d = {}</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">for</span> r <span class="keywordflow">in</span> reg_list:</div>
<div class="line"><span class="lineno">   42</span>        v = hw.read(r)</div>
<div class="line"><span class="lineno">   43</span>        d[r] = v</div>
<div class="line"><span class="lineno">   44</span>    print(dict_to_table(d))</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span><span class="comment"># -----------------------------------------------------------------------------</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd693c75959b8194dd03878cbc2ca04e" name="abd693c75959b8194dd03878cbc2ca04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd693c75959b8194dd03878cbc2ca04e">&#9670;&#160;</a></span>read_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.read_regs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reg_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00032">32</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span><span class="keyword">def </span>read_regs(hw, reg_list):</div>
<div class="line"><span class="lineno">   33</span>    d = {}</div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">for</span> r <span class="keywordflow">in</span> reg_list:</div>
<div class="line"><span class="lineno">   35</span>        v = hw.read(r)</div>
<div class="line"><span class="lineno">   36</span>        d[r] = v</div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">return</span> d</div>
<div class="line"><span class="lineno">   38</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5f4ce935319fec1d9910b67717dabbc" name="ac5f4ce935319fec1d9910b67717dabbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5f4ce935319fec1d9910b67717dabbc">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nuke</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00242">242</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  242</span><span class="keyword">def </span>reset(obj, nuke):</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> nuke <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:        </div>
<div class="line"><span class="lineno">  247</span>        hrms.get_node(<span class="stringliteral">&#39;csr.ctrl.nuke&#39;</span>).write(0x1)</div>
<div class="line"><span class="lineno">  248</span>        hrms.dispatch()</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>        time.sleep(0.1)</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>        hrms.get_node(<span class="stringliteral">&#39;csr.ctrl.nuke&#39;</span>).write(0x0)</div>
<div class="line"><span class="lineno">  253</span>        hrms.dispatch()</div>
<div class="line"><span class="lineno">  254</span>    </div>
<div class="line"><span class="lineno">  255</span>    hrms.get_node(<span class="stringliteral">&#39;csr.ctrl.soft_rst&#39;</span>).write(0x1)</div>
<div class="line"><span class="lineno">  256</span>    hrms.dispatch()</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    time.sleep(0.1)</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    hrms.get_node(<span class="stringliteral">&#39;csr.ctrl.soft_rst&#39;</span>).write(0x0)</div>
<div class="line"><span class="lineno">  261</span>    hrms.dispatch()</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span><span class="preprocessor">@cli.command()</span></div>
<div class="line"><span class="lineno">  265</span><span class="preprocessor">@click.option(&#39;--en/--dis&#39;, &#39;enable&#39;, default=None)</span></div>
<div class="line"><span class="lineno">  266</span><span class="preprocessor">@click.option(&#39;--buf-en/--buf-dis&#39;, &#39;buf_en&#39;, default=None)</span></div>
<div class="line"><span class="lineno">  267</span><span class="preprocessor">@click.option(&#39;--tx-en/--tx-dis&#39;, &#39;tx_en&#39;, default=None)</span></div>
<div class="line"><span class="lineno">  268</span><span class="preprocessor">@click.option(&#39;-l&#39;, &#39;--link&#39;, type=int, default=0)</span></div>
<div class="line"><span class="lineno">  269</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70eb721e7631a09a6688e70af43e1471" name="a70eb721e7631a09a6688e70af43e1471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70eb721e7631a09a6688e70af43e1471">&#9670;&#160;</a></span>stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.stats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sel_links</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>show_udp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>show_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Simple program that greets NAME for a total of COUNT times.</pre> 
<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00532">532</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  532</span><span class="keyword">def </span>stats(obj, sel_links, seconds, show_udp, show_buf):</div>
<div class="line"><span class="lineno">  533</span>    <span class="stringliteral">&quot;&quot;&quot;Simple program that greets NAME for a total of COUNT times.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>    mgts = list(range(hrms.n_mgt))</div>
<div class="line"><span class="lineno">  538</span>    </div>
<div class="line"><span class="lineno">  539</span>    <span class="comment"># deal with defaults</span></div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> sel_links:</div>
<div class="line"><span class="lineno">  541</span>        sel_links = mgts</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  543</span>        sel_links = [int(s) <span class="keywordflow">for</span> s <span class="keywordflow">in</span> sel_links]</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>    <span class="comment"># Check for existance</span></div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> set(sel_links).issubset(mgts):</div>
<div class="line"><span class="lineno">  548</span>        print(sel_links, mgts)</div>
<div class="line"><span class="lineno">  549</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;MGTs {set(sel_links)-set(mgts)} are not instantiated&quot;</span>)</div>
<div class="line"><span class="lineno">  550</span>    </div>
<div class="line"><span class="lineno">  551</span>    <span class="comment"># mgts = [int(s) for s in (mgts if mgts else [0])]</span></div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>    print(f<span class="stringliteral">&quot;Sampling hermes counters for {seconds}s&quot;</span>)</div>
<div class="line"><span class="lineno">  554</span>    hrms.sample_ctrs(seconds)</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    info_data = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;info&#39;</span>))</div>
<div class="line"><span class="lineno">  557</span>    print(dict_to_table(info_data, title=<span class="stringliteral">&#39;hermes info&#39;</span>, show_header=<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>    <span class="comment"># n_srcs_p_mgt = n_src//n_mgt</span></div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> sel_links:</div>
<div class="line"><span class="lineno">  562</span>        print(f<span class="stringliteral">&#39;---Tx Mux {i} Status---&#39;</span>)</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>        hrms.sel_tx_mux(i)</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>        <span class="comment"># cli control registers</span></div>
<div class="line"><span class="lineno">  568</span>        top_ctrl = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.ctrl&#39;</span>))</div>
<div class="line"><span class="lineno">  569</span>        top_stat = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.csr.stat&#39;</span>))</div>
<div class="line"><span class="lineno">  570</span>        ctrl_mux = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.mux.ctrl&#39;</span>))</div>
<div class="line"><span class="lineno">  571</span>        stat_mux = dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.mux.stat&#39;</span>))</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>        grid = Table.grid()</div>
<div class="line"><span class="lineno">  574</span>        grid.add_column(<span class="stringliteral">&quot;ctrl&quot;</span>)</div>
<div class="line"><span class="lineno">  575</span>        grid.add_column(<span class="stringliteral">&quot;stat&quot;</span>)</div>
<div class="line"><span class="lineno">  576</span>        grid.add_row(</div>
<div class="line"><span class="lineno">  577</span>            dict_to_table(top_ctrl, title=<span class="stringliteral">&#39;tx_mux ctrl&#39;</span>, show_header=<span class="keyword">False</span>), </div>
<div class="line"><span class="lineno">  578</span>            dict_to_table(top_stat, title=<span class="stringliteral">&#39;tx mux stat&#39;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  579</span>            dict_to_table(ctrl_mux, title=<span class="stringliteral">&quot;mux ctrl&quot;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  580</span>            dict_to_table(stat_mux, title=<span class="stringliteral">&quot;mux stat&quot;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  581</span>        )</div>
<div class="line"><span class="lineno">  582</span>        print(grid)</div>
<div class="line"><span class="lineno">  583</span>        </div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">if</span> show_udp:</div>
<div class="line"><span class="lineno">  586</span>            hrms.sel_udp_core(i)</div>
<div class="line"><span class="lineno">  587</span>            ctrl_udp_src = dump_sub_regs(hrms.get_node(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.src_addr_ctrl&#39;</span>))</div>
<div class="line"><span class="lineno">  588</span>            ctrl_udp = dump_sub_regs(hrms.get_node(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.ctrl&#39;</span>))</div>
<div class="line"><span class="lineno">  589</span>            ctrl_flt_udp = dump_sub_regs(hrms.get_node(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.ctrl.filter_control&#39;</span>))</div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">if</span> hrms.get_nodes(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.rx_packet_counters&#39;</span>):</div>
<div class="line"><span class="lineno">  591</span>                print(<span class="stringliteral">&quot;New tx counters found&quot;</span>)</div>
<div class="line"><span class="lineno">  592</span>                stat_rx_udp = dump_sub_regs(hrms.get_node(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.rx_packet_counters&#39;</span>))</div>
<div class="line"><span class="lineno">  593</span>                stat_tx_udp = dump_sub_regs(hrms.get_node(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.tx_packet_counters&#39;</span>))</div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  595</span>                print(<span class="stringliteral">&quot;No new tx counters found&quot;</span>)</div>
<div class="line"><span class="lineno">  596</span>                stat_rx_udp = dump_sub_regs(hrms.get_node(f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control.tx_packet_counters&#39;</span>))</div>
<div class="line"><span class="lineno">  597</span>                stat_tx_udp = {<span class="stringliteral">&#39;-&#39;</span>:0}</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>            ctrl_srcdst = {}</div>
<div class="line"><span class="lineno">  601</span>            ctrl_srcdst[<span class="stringliteral">&#39;src_ip&#39;</span>] = ctrl_udp_src[<span class="stringliteral">&#39;src_ip_addr&#39;</span>]</div>
<div class="line"><span class="lineno">  602</span>            ctrl_srcdst[<span class="stringliteral">&#39;dst_ip&#39;</span>] = ctrl_udp[<span class="stringliteral">&#39;dst_ip_addr&#39;</span>]</div>
<div class="line"><span class="lineno">  603</span>            ctrl_srcdst[<span class="stringliteral">&#39;src_mac&#39;</span>] = (ctrl_udp_src[<span class="stringliteral">&#39;src_mac_addr_upper&#39;</span>] &lt;&lt; 32) + ctrl_udp_src[<span class="stringliteral">&#39;src_mac_addr_lower&#39;</span>]</div>
<div class="line"><span class="lineno">  604</span>            ctrl_srcdst[<span class="stringliteral">&#39;dst_mac&#39;</span>] = (ctrl_udp[<span class="stringliteral">&#39;dst_mac_addr_upper&#39;</span>] &lt;&lt; 32) + ctrl_udp[<span class="stringliteral">&#39;dst_mac_addr_lower&#39;</span>]</div>
<div class="line"><span class="lineno">  605</span>            ctrl_srcdst[<span class="stringliteral">&#39;src_port&#39;</span>] = ctrl_udp_src[<span class="stringliteral">&#39;src_port&#39;</span>]</div>
<div class="line"><span class="lineno">  606</span>            ctrl_srcdst[<span class="stringliteral">&#39;dst_port&#39;</span>] = ctrl_udp[<span class="stringliteral">&#39;dst_port&#39;</span>]</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>            grid = Table.grid()</div>
<div class="line"><span class="lineno">  609</span>            grid.add_column(<span class="stringliteral">&quot;ctrl&quot;</span>)</div>
<div class="line"><span class="lineno">  610</span>            grid.add_column(<span class="stringliteral">&quot;stat&quot;</span>)</div>
<div class="line"><span class="lineno">  611</span>            grid.add_row(</div>
<div class="line"><span class="lineno">  612</span>                <span class="comment"># dict_to_table(ctrl_udp, title=&quot;udp ctrl&quot;, show_header=False),</span></div>
<div class="line"><span class="lineno">  613</span>                dict_to_table(ctrl_srcdst, title=<span class="stringliteral">&quot;udp src/dst&quot;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  614</span>                dict_to_table(ctrl_flt_udp, title=<span class="stringliteral">&quot;udp filter&quot;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  615</span>                dict_to_table(stat_rx_udp, title=<span class="stringliteral">&quot;udp rx stat&quot;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  616</span>                dict_to_table(stat_tx_udp, title=<span class="stringliteral">&quot;udp tx stat&quot;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  617</span>            )</div>
<div class="line"><span class="lineno">  618</span>            print(grid)</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">if</span> show_buf:</div>
<div class="line"><span class="lineno">  621</span>            ibuf_stats = {}</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>            src_ids = tuple(range(hrms.n_srcs_p_mgt))</div>
<div class="line"><span class="lineno">  624</span>            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> src_ids:</div>
<div class="line"><span class="lineno">  625</span>                <span class="comment"># hw.write(&#39;tx.mux.csr.ctrl.sel_buf&#39;,j)</span></div>
<div class="line"><span class="lineno">  626</span>                hrms.sel_tx_mux_buf(j)</div>
<div class="line"><span class="lineno">  627</span>                s =  dump_sub_regs(hrms.get_node(<span class="stringliteral">&#39;tx_path.tx_mux.buf&#39;</span>))</div>
<div class="line"><span class="lineno">  628</span>                s[<span class="stringliteral">&#39;blk_acc&#39;</span>] = (s[<span class="stringliteral">&#39;blk_acc_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;blk_acc_l&#39;</span>]</div>
<div class="line"><span class="lineno">  629</span>                s[<span class="stringliteral">&#39;blk_oflow&#39;</span>] = (s[<span class="stringliteral">&#39;blk_oflow_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;blk_oflow_l&#39;</span>]</div>
<div class="line"><span class="lineno">  630</span>                s[<span class="stringliteral">&#39;blk_rej&#39;</span>] = (s[<span class="stringliteral">&#39;blk_rej_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;blk_rej_l&#39;</span>]</div>
<div class="line"><span class="lineno">  631</span>                s[<span class="stringliteral">&#39;ts&#39;</span>] = (s[<span class="stringliteral">&#39;ts_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;ts_l&#39;</span>]</div>
<div class="line"><span class="lineno">  632</span>                s[<span class="stringliteral">&#39;vol&#39;</span>] = (s[<span class="stringliteral">&#39;vol_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;vol_l&#39;</span>]</div>
<div class="line"><span class="lineno">  633</span>                s[<span class="stringliteral">&#39;blk_longlast&#39;</span>] = (s[<span class="stringliteral">&#39;blk_longlast_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;blk_longlast_l&#39;</span>]</div>
<div class="line"><span class="lineno">  634</span>                s[<span class="stringliteral">&#39;blk_lastnotval&#39;</span>] = (s[<span class="stringliteral">&#39;blk_lastnotval_h&#39;</span>]&lt;&lt;32)+s[<span class="stringliteral">&#39;blk_lastnotval_l&#39;</span>]</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> tuple(s.keys()):</div>
<div class="line"><span class="lineno">  637</span>                    <span class="keywordflow">for</span> n <span class="keywordflow">in</span> (<span class="stringliteral">&#39;blk_acc_&#39;</span>, <span class="stringliteral">&#39;blk_oflow_&#39;</span>, <span class="stringliteral">&#39;blk_rej_&#39;</span>, <span class="stringliteral">&#39;ts_&#39;</span>, <span class="stringliteral">&#39;vol_&#39;</span>, <span class="stringliteral">&#39;blk_longlast_&#39;</span>, <span class="stringliteral">&#39;blk_lastnotval_&#39;</span>):</div>
<div class="line"><span class="lineno">  638</span>                        <span class="keywordflow">if</span> k.startswith(n):</div>
<div class="line"><span class="lineno">  639</span>                            del s[k]</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> (<span class="stringliteral">&#39;ctrl&#39;</span>, <span class="stringliteral">&#39;stat&#39;</span>, <span class="stringliteral">&#39;buf_mon&#39;</span>):</div>
<div class="line"><span class="lineno">  642</span>                    del s[k]</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>                    </div>
<div class="line"><span class="lineno">  645</span>                ibuf_stats[j] = s</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>            <span class="comment"># Create the summary table</span></div>
<div class="line"><span class="lineno">  648</span>            t = Table()</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>            <span class="comment"># Add 1 column for the reg name, and as many as the number of sources</span></div>
<div class="line"><span class="lineno">  651</span>            t.add_column(<span class="stringliteral">&#39;name&#39;</span>)</div>
<div class="line"><span class="lineno">  652</span>            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> src_ids:</div>
<div class="line"><span class="lineno">  653</span>                t.add_column(f<span class="stringliteral">&#39;Buf {j}&#39;</span>, style=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>            <span class="comment"># Unify the reg list (useless?)</span></div>
<div class="line"><span class="lineno">  656</span>            reg_names = set()</div>
<div class="line"><span class="lineno">  657</span>            <span class="keywordflow">for</span> k,v <span class="keywordflow">in</span> ibuf_stats.items():</div>
<div class="line"><span class="lineno">  658</span>                reg_names = reg_names.union(v.keys())</div>
<div class="line"><span class="lineno">  659</span>            </div>
<div class="line"><span class="lineno">  660</span>            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> sorted(reg_names):</div>
<div class="line"><span class="lineno">  661</span>                t.add_row(n,*(hex(ibuf_stats[j][n]) <span class="keywordflow">for</span> j <span class="keywordflow">in</span> src_ids))</div>
<div class="line"><span class="lineno">  662</span>            print(t)</div>
<div class="line"><span class="lineno">  663</span>            </div>
<div class="line"><span class="lineno">  664</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a97148dea57db2db2157cad8bfda08dfb" name="a97148dea57db2db2157cad8bfda08dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97148dea57db2db2157cad8bfda08dfb">&#9670;&#160;</a></span>udp_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.udp_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>src_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configure the UDP blocks </pre> 
<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00342">342</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  342</span><span class="keyword">def </span>udp_config(obj, src_id, dst_id, link):</div>
<div class="line"><span class="lineno">  343</span>    <span class="stringliteral">&quot;&quot;&quot;Configure the UDP blocks &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    filter_control = 0x07400307</div>
<div class="line"><span class="lineno">  346</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">if</span> link &gt;= hrms.n_mgt:</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Link {link} not instantiated&quot;</span>)</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    dst = rx_endpoints[dst_id]</div>
<div class="line"><span class="lineno">  353</span>    src = tx_endpoints[src_id]</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    udp_core_ctrl = f<span class="stringliteral">&#39;tx_path.udp_core.udp_core_control&#39;</span></div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.ctrl.filter_control&#39;</span>).write(filter_control)</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    <span class="comment"># Our IP address = 10.73.139.23</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="comment"># print(f&quot;Our ip address: {socket.inet_ntoa(src[&#39;ip&#39;].to_bytes(4, &#39;big&#39;))}&quot;)</span></div>
<div class="line"><span class="lineno">  361</span>    src_u32 = int.from_bytes(socket.inet_aton(src[<span class="stringliteral">&#39;ip&#39;</span>]),<span class="stringliteral">&quot;big&quot;</span>)</div>
<div class="line"><span class="lineno">  362</span>    print(f<span class="stringliteral">&quot;Our ip address: {src[&#39;ip&#39;]} (0x{src_u32:08x})&quot;</span>)</div>
<div class="line"><span class="lineno">  363</span>    </div>
<div class="line"><span class="lineno">  364</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.src_addr_ctrl.src_ip_addr&#39;</span>).write(src_u32) </div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="comment"># Their IP address = 10.73.139.23</span></div>
<div class="line"><span class="lineno">  367</span>    <span class="comment"># print(f&quot;Their ip address: {socket.inet_ntoa(dst[&#39;ip&#39;].to_bytes(4, &#39;big&#39;))}&quot;)</span></div>
<div class="line"><span class="lineno">  368</span>    dst_u32 = int.from_bytes(socket.inet_aton(dst[<span class="stringliteral">&#39;ip&#39;</span>]),<span class="stringliteral">&quot;big&quot;</span>)</div>
<div class="line"><span class="lineno">  369</span>    print(f<span class="stringliteral">&quot;Their ip address: {dst[&#39;ip&#39;]} (0x{dst_u32:08x})&quot;</span>)</div>
<div class="line"><span class="lineno">  370</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.ctrl.dst_ip_addr&#39;</span>).write(dst_u32) </div>
<div class="line"><span class="lineno">  371</span>    </div>
<div class="line"><span class="lineno">  372</span>    <span class="comment"># Our MAC address</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="comment"># Dest MAC address</span></div>
<div class="line"><span class="lineno">  374</span>    print(f<span class="stringliteral">&quot;Our mac address: 0x{src[&#39;mac&#39;]:012x}&quot;</span>)</div>
<div class="line"><span class="lineno">  375</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.src_addr_ctrl.src_mac_addr_lower&#39;</span>).write(src[<span class="stringliteral">&#39;mac&#39;</span>] &amp; 0xffffffff) </div>
<div class="line"><span class="lineno">  376</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.src_addr_ctrl.src_mac_addr_upper&#39;</span>).write((src[<span class="stringliteral">&#39;mac&#39;</span>] &gt;&gt; 32) &amp; 0xffff) </div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <span class="comment"># Dest MAC address</span></div>
<div class="line"><span class="lineno">  379</span>    print(f<span class="stringliteral">&quot;Their mac address: 0x{dst[&#39;mac&#39;]:012x}&quot;</span>)</div>
<div class="line"><span class="lineno">  380</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.ctrl.dst_mac_addr_lower&#39;</span>).write(dst[<span class="stringliteral">&#39;mac&#39;</span>] &amp; 0xffffffff) </div>
<div class="line"><span class="lineno">  381</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.ctrl.dst_mac_addr_upper&#39;</span>).write((dst[<span class="stringliteral">&#39;mac&#39;</span>] &gt;&gt; 32) &amp; 0xffff) </div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="comment"># Ports</span></div>
<div class="line"><span class="lineno">  384</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.src_addr_ctrl.src_port&#39;</span>).write(src[<span class="stringliteral">&#39;port&#39;</span>]) </div>
<div class="line"><span class="lineno">  385</span>    hrms.get_node(f<span class="stringliteral">&#39;{udp_core_ctrl}.ctrl.dst_port&#39;</span>).write(dst[<span class="stringliteral">&#39;port&#39;</span>]) </div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    hrms.dispatch()</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span><span class="preprocessor">@cli.command(&quot;zcu-src-config&quot;)</span></div>
<div class="line"><span class="lineno">  391</span><span class="preprocessor">@click.option(&#39;-l&#39;, &#39;--link&#39;, type=int, default=0)</span></div>
<div class="line"><span class="lineno">  392</span><span class="preprocessor">@click.option(&#39;-n&#39;, &#39;--en-n-src&#39;, type=click.IntRange(0, MAX_SRCS_P_MGT)</span>, default=1)</div>
<div class="line"><span class="lineno">  393</span><span class="preprocessor">@click.option(&#39;-d&#39;, &#39;--dlen&#39;, type=click.IntRange(0, 0xfff)</span>, default=0x383)</div>
<div class="line"><span class="lineno">  394</span><span class="preprocessor">@click.option(&#39;-r&#39;, &#39;--rate-rdx&#39;, type=click.IntRange(0, 0x3f)</span>, default=0xa)</div>
<div class="line"><span class="lineno">  395</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abce5f5775c17b27a76c2510200c6d906" name="abce5f5775c17b27a76c2510200c6d906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce5f5775c17b27a76c2510200c6d906">&#9670;&#160;</a></span>validate_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.validate_device </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00157">157</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  157</span><span class="keyword">def </span>validate_device(ctx, param, value):</div>
<div class="line"><span class="lineno">  158</span>    lDevices = ctx.obj.cm.getDevices()</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">if</span> value <span class="keywordflow">and</span> (value <span class="keywordflow">not</span> <span class="keywordflow">in</span> lDevices):</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">raise</span> click.BadParameter(</div>
<div class="line"><span class="lineno">  161</span>            <span class="stringliteral">&#39;Device must be one of &#39;</span>+</div>
<div class="line"><span class="lineno">  162</span>            <span class="stringliteral">&#39;, &#39;</span>.join([<span class="stringliteral">&quot;&#39;&quot;</span>+lId+<span class="stringliteral">&quot;&#39;&quot;</span> <span class="keywordflow">for</span> lId <span class="keywordflow">in</span> lDevices])</div>
<div class="line"><span class="lineno">  163</span>            )</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">return</span> value</div>
<div class="line"><span class="lineno">  165</span><span class="comment"># -----------------</span></div>
<div class="line"><span class="lineno">  166</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6e100ba74b716c6ebb638d2bfdec6f6" name="ac6e100ba74b716c6ebb638d2bfdec6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e100ba74b716c6ebb638d2bfdec6f6">&#9670;&#160;</a></span>zcu_src_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.zcu_src_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>en_n_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rate_rdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configure trivial data sources</pre> 
<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00396">396</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  396</span><span class="keyword">def </span>zcu_src_config(obj, link, en_n_src, dlen, rate_rdx):</div>
<div class="line"><span class="lineno">  397</span>    <span class="stringliteral">&quot;&quot;&quot;Configure trivial data sources&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    hw = obj.cm.getDevice(obj.ctrl_id)</div>
<div class="line"><span class="lineno">  400</span>    <span class="comment">#hw = obj.hw</span></div>
<div class="line"><span class="lineno">  401</span>    hrms = obj.hermes</div>
<div class="line"><span class="lineno">  402</span>    </div>
<div class="line"><span class="lineno">  403</span>    <span class="comment"># n_mgt = obj.n_mgt</span></div>
<div class="line"><span class="lineno">  404</span>    <span class="comment"># n_src = obj.n_src</span></div>
<div class="line"><span class="lineno">  405</span>    <span class="comment"># n_srcs_p_mgt = n_src//n_mgt</span></div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">#print(hw)</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="comment">#pprint(vars(obj))</span></div>
<div class="line"><span class="lineno">  409</span>    <span class="comment">#pprint(vars(hrms))</span></div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">#print(hw)    </span></div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span> link &gt;= hrms.n_mgt:</div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;MGT {link} not instantiated&quot;</span>)</div>
<div class="line"><span class="lineno">  414</span>    </div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> en_n_src &gt; hrms.n_srcs_p_mgt:</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;{en_n_src} must be lower than the number of generators per link ({hrms.n_srcs_p_mgt})&quot;</span>)</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(hrms.n_srcs_p_mgt):</div>
<div class="line"><span class="lineno">  419</span>        src_id = hrms.n_srcs_p_mgt*link+i</div>
<div class="line"><span class="lineno">  420</span>        hw.getNode(<span class="stringliteral">&#39;src.csr.ctrl.sel&#39;</span>).write(src_id)</div>
<div class="line"><span class="lineno">  421</span>        src_en = (i&lt;en_n_src)</div>
<div class="line"><span class="lineno">  422</span>        print(f<span class="stringliteral">&#39;Configuring generator {src_id} : {src_en}&#39;</span>)</div>
<div class="line"><span class="lineno">  423</span>        <span class="comment">#data_gen = hw.getNode(&quot;src.data_src.src.params.write&quot;)</span></div>
<div class="line"><span class="lineno">  424</span>        <span class="comment">#data_gen.getNode(&quot;gap&quot;).write(1)</span></div>
<div class="line"><span class="lineno">  425</span>        <span class="comment">#hw.getNode(&#39;src.data_src.src.csr.ctrl.start_stop&#39;).write(src_en)</span></div>
<div class="line"><span class="lineno">  426</span>        <span class="comment">#if not src_en:</span></div>
<div class="line"><span class="lineno">  427</span>        <span class="comment">#    continue</span></div>
<div class="line"><span class="lineno">  428</span>        </div>
<div class="line"><span class="lineno">  432</span>        hw.dispatch()</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    regs = {}</div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(hrms.n_srcs_p_mgt):</div>
<div class="line"><span class="lineno">  437</span>        hw.getNode(<span class="stringliteral">&#39;src.csr.ctrl.sel&#39;</span>).write(i)</div>
<div class="line"><span class="lineno">  438</span>        src_regs = dump_sub_regs(hw.getNode(<span class="stringliteral">&#39;src.csr&#39;</span>))</div>
<div class="line"><span class="lineno">  439</span>        data_src_regs = dump_sub_regs(hw.getNode(<span class="stringliteral">&#39;src.data_src&#39;</span>))</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        grid = Table.grid()</div>
<div class="line"><span class="lineno">  442</span>        grid.add_column(<span class="stringliteral">&quot;ctrl&quot;</span>)</div>
<div class="line"><span class="lineno">  443</span>        grid.add_column(<span class="stringliteral">&quot;stat&quot;</span>)</div>
<div class="line"><span class="lineno">  444</span>        grid.add_row(</div>
<div class="line"><span class="lineno">  445</span>            dict_to_table(src_regs, title=<span class="stringliteral">&#39;src_ctrl&#39;</span>, show_header=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  446</span>            <span class="comment">#dict_to_table(data_src_regs, title=&#39;data_src_ctrl&#39;, show_header=False)</span></div>
<div class="line"><span class="lineno">  447</span>        )</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(hrms.n_srcs_p_mgt):</div>
<div class="line"><span class="lineno">  449</span>            grid.add_row(</div>
<div class="line"><span class="lineno">  450</span>                dict_to_table(data_src_regs, title=<span class="stringliteral">&#39;data_src_ctrl&#39;</span>, show_header=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>            )</div>
<div class="line"><span class="lineno">  453</span>        print(f<span class="stringliteral">&#39;Link {i}&#39;</span>)</div>
<div class="line"><span class="lineno">  454</span>        print(grid)</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>        <span class="comment">#regs[i] =  dump_sub_regs(hw.getNode(&#39;src.csr.stat.no_of_src_blocks&#39;))</span></div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <span class="comment"># Create the summary table</span></div>
<div class="line"><span class="lineno">  459</span>    t = Table()</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    </div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="comment"># Add 1 column for the reg name, and as many as the number of sources</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="comment">#t.add_column(&#39;name&#39;)</span></div>
<div class="line"><span class="lineno">  465</span>    <span class="comment"># for j in range(hrms.n_srcs_p_mgt):</span></div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">#     t.add_column(f&#39;Src {j}&#39;, style=&#39;green&#39;)</span></div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="comment"># for n in hw.getNode(&#39;src&#39;).getNodes():</span></div>
<div class="line"><span class="lineno">  469</span>    <span class="comment">#     t.add_row(n, *[hex(regs[i][n]) for i in range(hrms.n_srcs_p_mgt)])</span></div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    </div>
<div class="line"><span class="lineno">  472</span>    <span class="comment">#print(t)</span></div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span><span class="preprocessor">@cli.command(&quot;fakesrc-config&quot;)</span></div>
<div class="line"><span class="lineno">  475</span><span class="preprocessor">@click.option(&#39;-l&#39;, &#39;--link&#39;, type=int, default=0)</span></div>
<div class="line"><span class="lineno">  476</span><span class="preprocessor">@click.option(&#39;-n&#39;, &#39;--n-src&#39;, type=click.IntRange(0, MAX_SRCS_P_MGT)</span>, default=1)</div>
<div class="line"><span class="lineno">  477</span><span class="preprocessor">@click.option(&#39;-s&#39;, &#39;--src&#39;, type=click.IntRange(0, MAX_SRCS_P_MGT)</span>, default=<span class="keywordtype">None</span>, multiple=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  478</span><span class="preprocessor">@click.option(&#39;-k&#39;, &#39;--data-len&#39;, type=click.IntRange(0, 0xfff)</span>, default=0x383)</div>
<div class="line"><span class="lineno">  479</span><span class="preprocessor">@click.option(&#39;-r&#39;, &#39;--rate-rdx&#39;, type=click.IntRange(0, 0x3f)</span>, default=0xa)</div>
<div class="line"><span class="lineno">  480</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae4294284592fcbeb9fe82b2938d3b3e3" name="ae4294284592fcbeb9fe82b2938d3b3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4294284592fcbeb9fe82b2938d3b3e3">&#9670;&#160;</a></span>CONTEXT_SETTINGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.CONTEXT_SETTINGS = dict(help_option_names=['-h', '--help'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00148">148</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="adcd808626d478af468728018e28e9893" name="adcd808626d478af468728018e28e9893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd808626d478af468728018e28e9893">&#9670;&#160;</a></span>datefmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.datefmt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00668">668</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="a317560dc55ce78134834cbdb4ac17a8e" name="a317560dc55ce78134834cbdb4ac17a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317560dc55ce78134834cbdb4ac17a8e">&#9670;&#160;</a></span>FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.FORMAT = &quot;%(message)s&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00666">666</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="af274d821f836a35cbb5b6def90574907" name="af274d821f836a35cbb5b6def90574907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af274d821f836a35cbb5b6def90574907">&#9670;&#160;</a></span>format</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.format</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00668">668</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="a7bf5242321997c94f9a3f2c021371a8d" name="a7bf5242321997c94f9a3f2c021371a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf5242321997c94f9a3f2c021371a8d">&#9670;&#160;</a></span>handlers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.handlers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00668">668</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="a477c84ff9e63465dc67e58e48111e9db" name="a477c84ff9e63465dc67e58e48111e9db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a477c84ff9e63465dc67e58e48111e9db">&#9670;&#160;</a></span>level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.level</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00668">668</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="a25d795d25e1190dda81140e9695d8eef" name="a25d795d25e1190dda81140e9695d8eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d795d25e1190dda81140e9695d8eef">&#9670;&#160;</a></span>MAX_SRCS_P_MGT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hermesbutler.MAX_SRCS_P_MGT = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00145">145</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="a19a6e8129a8b5f3ddd9d513a6dc82003" name="a19a6e8129a8b5f3ddd9d513a6dc82003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19a6e8129a8b5f3ddd9d513a6dc82003">&#9670;&#160;</a></span>mgts_all</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.mgts_all = tuple(str(i) for i in range(MAX_MGT))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00146">146</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
<a id="aa4e5701a24fdf944e89003d09ebe3c68" name="aa4e5701a24fdf944e89003d09ebe3c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e5701a24fdf944e89003d09ebe3c68">&#9670;&#160;</a></span>obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hermesbutler.obj</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hermesbutler_8py_source.html#l00670">670</a> of file <a class="el" href="hermesbutler_8py_source.html">hermesbutler.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
