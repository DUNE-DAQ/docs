<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: triggeralgs::dbscan::IncrementalDBSCAN Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetriggeralgs.html">triggeralgs</a></li><li class="navelem"><a class="el" href="namespacetriggeralgs_1_1dbscan.html">dbscan</a></li><li class="navelem"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html">IncrementalDBSCAN</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">triggeralgs::dbscan::IncrementalDBSCAN Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab79123aacad26c39c8c16a53ddc95ffa" id="r_ab79123aacad26c39c8c16a53ddc95ffa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ab79123aacad26c39c8c16a53ddc95ffa">IncrementalDBSCAN</a> (float eps, unsigned int minPts, size_t pool_size=100000)</td></tr>
<tr class="separator:ab79123aacad26c39c8c16a53ddc95ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c21db1aff80713e1d62858ca7066479" id="r_a6c21db1aff80713e1d62858ca7066479"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a6c21db1aff80713e1d62858ca7066479">add_primitive</a> (const <a class="el" href="namespacetriggeralgs.html#a7a9ef2563dfb84a0839fb5ab230b1728">triggeralgs::TriggerPrimitive</a> &amp;prim, std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; *completed_clusters=nullptr)</td></tr>
<tr class="separator:a6c21db1aff80713e1d62858ca7066479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e7f5cfdc61cf846b30821a892142f9" id="r_ac2e7f5cfdc61cf846b30821a892142f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac2e7f5cfdc61cf846b30821a892142f9">add_point</a> (float time, float channel, std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; *completed_clusters=nullptr)</td></tr>
<tr class="separator:ac2e7f5cfdc61cf846b30821a892142f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96ff77e8409a6ef859fc683bb1b64fd" id="r_ac96ff77e8409a6ef859fc683bb1b64fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac96ff77e8409a6ef859fc683bb1b64fd">add_hit</a> (<a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> *new_hit, std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; *completed_clusters=nullptr)</td></tr>
<tr class="separator:ac96ff77e8409a6ef859fc683bb1b64fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332d596a1cdff9bd010d0db25d10b067" id="r_a332d596a1cdff9bd010d0db25d10b067"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a332d596a1cdff9bd010d0db25d10b067">trim_hits</a> ()</td></tr>
<tr class="separator:a332d596a1cdff9bd010d0db25d10b067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712f5bdd5b9467f8647e9bd3bcf4a728" id="r_a712f5bdd5b9467f8647e9bd3bcf4a728"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a712f5bdd5b9467f8647e9bd3bcf4a728">get_hits</a> () const</td></tr>
<tr class="separator:a712f5bdd5b9467f8647e9bd3bcf4a728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f1d0d0b9b8beca6be98cf41565c4e1" id="r_a73f1d0d0b9b8beca6be98cf41565c4e1"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a73f1d0d0b9b8beca6be98cf41565c4e1">get_clusters</a> () const</td></tr>
<tr class="separator:a73f1d0d0b9b8beca6be98cf41565c4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223ba8ccfb7b19d259fea0b1118f8de2" id="r_a223ba8ccfb7b19d259fea0b1118f8de2"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a223ba8ccfb7b19d259fea0b1118f8de2">get_first_prim_time</a> () const</td></tr>
<tr class="separator:a223ba8ccfb7b19d259fea0b1118f8de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac77ba0804a2b0eacf1d1bfe387f8c47a" id="r_ac77ba0804a2b0eacf1d1bfe387f8c47a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac77ba0804a2b0eacf1d1bfe387f8c47a">cluster_reachable</a> (<a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> *seed_hit, <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &amp;cluster)</td></tr>
<tr class="separator:ac77ba0804a2b0eacf1d1bfe387f8c47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae7c8391bab9f9004bc48d0d99c89cd62" id="r_ae7c8391bab9f9004bc48d0d99c89cd62"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae7c8391bab9f9004bc48d0d99c89cd62">m_eps</a></td></tr>
<tr class="separator:ae7c8391bab9f9004bc48d0d99c89cd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b43b308ba40f8a3171c9b2640ea88ca" id="r_a3b43b308ba40f8a3171c9b2640ea88ca"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a></td></tr>
<tr class="separator:a3b43b308ba40f8a3171c9b2640ea88ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74fa26e686575cbe2197c9d4bc3ff428" id="r_a74fa26e686575cbe2197c9d4bc3ff428"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">m_hit_pool</a></td></tr>
<tr class="separator:a74fa26e686575cbe2197c9d4bc3ff428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd0eb33df518940620cb7d9eab90675" id="r_abdd0eb33df518940620cb7d9eab90675"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#abdd0eb33df518940620cb7d9eab90675">m_pool_begin</a></td></tr>
<tr class="separator:abdd0eb33df518940620cb7d9eab90675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3584857a45ee4cea653294b873fc93" id="r_aac3584857a45ee4cea653294b873fc93"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a></td></tr>
<tr class="separator:aac3584857a45ee4cea653294b873fc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bfc4efd82daaa201ec31bde614123f3" id="r_a4bfc4efd82daaa201ec31bde614123f3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a></td></tr>
<tr class="separator:a4bfc4efd82daaa201ec31bde614123f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56c19e9e11d83415ca99dac35c2998b" id="r_ae56c19e9e11d83415ca99dac35c2998b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae56c19e9e11d83415ca99dac35c2998b">m_latest_time</a> { 0 }</td></tr>
<tr class="separator:ae56c19e9e11d83415ca99dac35c2998b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d75c01091faa3152973d04cd1fe2953" id="r_a8d75c01091faa3152973d04cd1fe2953"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a8d75c01091faa3152973d04cd1fe2953">m_first_prim_time</a> {0}</td></tr>
<tr class="separator:a8d75c01091faa3152973d04cd1fe2953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ce37510dab553ce1b15aa75665c6bd" id="r_ae6ce37510dab553ce1b15aa75665c6bd"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a></td></tr>
<tr class="separator:ae6ce37510dab553ce1b15aa75665c6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00057">57</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab79123aacad26c39c8c16a53ddc95ffa" name="ab79123aacad26c39c8c16a53ddc95ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79123aacad26c39c8c16a53ddc95ffa">&#9670;&#160;</a></span>IncrementalDBSCAN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">triggeralgs::dbscan::IncrementalDBSCAN::IncrementalDBSCAN </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minPts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pool_size</em> = <code>100000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00060">60</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>        : <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae7c8391bab9f9004bc48d0d99c89cd62">m_eps</a>(eps)</div>
<div class="line"><span class="lineno">   62</span>        , <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>(minPts)</div>
<div class="line"><span class="lineno">   63</span>        , <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#abdd0eb33df518940620cb7d9eab90675">m_pool_begin</a>(0)</div>
<div class="line"><span class="lineno">   64</span>        , <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>(0)</div>
<div class="line"><span class="lineno">   65</span>    {</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;pool_size; ++i){</div>
<div class="line"><span class="lineno">   67</span>            <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">m_hit_pool</a>.emplace_back(0,0);</div>
<div class="line"><span class="lineno">   68</span>        }</div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_a3b43b308ba40f8a3171c9b2640ea88ca"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">triggeralgs::dbscan::IncrementalDBSCAN::m_minPts</a></div><div class="ttdeci">float m_minPts</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00095">dbscan.hpp:95</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_a74fa26e686575cbe2197c9d4bc3ff428"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">triggeralgs::dbscan::IncrementalDBSCAN::m_hit_pool</a></div><div class="ttdeci">std::vector&lt; Hit &gt; m_hit_pool</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00096">dbscan.hpp:96</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_aac3584857a45ee4cea653294b873fc93"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">triggeralgs::dbscan::IncrementalDBSCAN::m_pool_end</a></div><div class="ttdeci">size_t m_pool_end</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00097">dbscan.hpp:97</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_abdd0eb33df518940620cb7d9eab90675"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#abdd0eb33df518940620cb7d9eab90675">triggeralgs::dbscan::IncrementalDBSCAN::m_pool_begin</a></div><div class="ttdeci">size_t m_pool_begin</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00097">dbscan.hpp:97</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_ae7c8391bab9f9004bc48d0d99c89cd62"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae7c8391bab9f9004bc48d0d99c89cd62">triggeralgs::dbscan::IncrementalDBSCAN::m_eps</a></div><div class="ttdeci">float m_eps</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00094">dbscan.hpp:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac96ff77e8409a6ef859fc683bb1b64fd" name="ac96ff77e8409a6ef859fc683bb1b64fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96ff77e8409a6ef859fc683bb1b64fd">&#9670;&#160;</a></span>add_hit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void triggeralgs::dbscan::IncrementalDBSCAN::add_hit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> *&#160;</td>
          <td class="paramname"><em>new_hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; *&#160;</td>
          <td class="paramname"><em>completed_clusters</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8cpp_source.html#l00153">153</a> of file <a class="el" href="dbscan_8cpp_source.html">dbscan.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">// TODO: this should be a member variable, not a static, in case</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">// there are multiple IncrementalDBSCAN instances</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> next_cluster_index = 0;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>.push_back(new_hit);</div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae56c19e9e11d83415ca99dac35c2998b">m_latest_time</a> = new_hit-&gt;time;</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">// All the clusters that this hit neighboured. If there are</span></div>
<div class="line"><span class="lineno">  163</span>    <span class="comment">// multiple clusters neighbouring this hit, we&#39;ll merge them at</span></div>
<div class="line"><span class="lineno">  164</span>    <span class="comment">// the end</span></div>
<div class="line"><span class="lineno">  165</span>    std::set&lt;int&gt; clusters_neighbouring_hit;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="comment">// Find all the hit&#39;s neighbours</span></div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_function" href="namespacetriggeralgs_1_1dbscan.html#a8964bb831c5a054ee1439020a9d1d5e2">neighbours_sorted</a>(<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>, *new_hit, <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae7c8391bab9f9004bc48d0d99c89cd62">m_eps</a>, <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> neighbour : new_hit-&gt;neighbours) {</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">if</span> (neighbour-&gt;cluster != <a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a31a72d3e1af0fb9a27fd724dc597bc1a">kUndefined</a> &amp;&amp; neighbour-&gt;cluster != <a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a4f897f07671bda11241fe303839912ac">kNoise</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  172</span>            neighbour-&gt;neighbours.size() + 1 &gt;= <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>) {</div>
<div class="line"><span class="lineno">  173</span>            <span class="comment">// This neighbour is a core point in a cluster. Add the cluster to the list of</span></div>
<div class="line"><span class="lineno">  174</span>            <span class="comment">// clusters that will contain this hit</span></div>
<div class="line"><span class="lineno">  175</span>            clusters_neighbouring_hit.insert(neighbour-&gt;cluster);</div>
<div class="line"><span class="lineno">  176</span>        }</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (clusters_neighbouring_hit.empty()) {</div>
<div class="line"><span class="lineno">  180</span>        <span class="comment">// This hit didn&#39;t match any existing cluster. See if we can</span></div>
<div class="line"><span class="lineno">  181</span>        <span class="comment">// make a new cluster out of it. Otherwise mark it as noise</span></div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">if</span> (new_hit-&gt;neighbours.size() + 1 &gt;= <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>) {</div>
<div class="line"><span class="lineno">  184</span>            <span class="comment">// std::cout &lt;&lt; &quot;New cluster starting at hit time &quot; &lt;&lt; new_hit-&gt;time &lt;&lt; &quot; with &quot; &lt;&lt; new_hit-&gt;neighbours.size() &lt;&lt; &quot; neighbours&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  185</span>            new_hit-&gt;connectedness = <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#ad281285fbb3da69b46f0facdc6d3f216ade8900e4c323b0c667bfd5ca5ecf9e5c">Connectedness::kCore</a>;</div>
<div class="line"><span class="lineno">  186</span>            <span class="keyword">auto</span> new_it = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.emplace_hint(</div>
<div class="line"><span class="lineno">  187</span>                <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.end(), next_cluster_index, next_cluster_index);</div>
<div class="line"><span class="lineno">  188</span>            Cluster&amp; new_cluster = new_it-&gt;second;</div>
<div class="line"><span class="lineno">  189</span>            new_cluster.completeness = <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#a340b2151dcc56dfde5d5ffc5b7a75f94a7748dbabbd4c2eff6a7baf085312529b">Completeness::kIncomplete</a>;</div>
<div class="line"><span class="lineno">  190</span>            new_cluster.add_hit(new_hit);</div>
<div class="line"><span class="lineno">  191</span>            next_cluster_index++;</div>
<div class="line"><span class="lineno">  192</span>            <a class="code hl_function" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac77ba0804a2b0eacf1d1bfe387f8c47a">cluster_reachable</a>(new_hit, new_cluster);</div>
<div class="line"><span class="lineno">  193</span>        }</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  195</span>            <span class="comment">// std::cout &lt;&lt; &quot;New hit time &quot; &lt;&lt; new_hit-&gt;time &lt;&lt; &quot; with &quot; &lt;&lt; new_hit-&gt;neighbours.size() &lt;&lt; &quot; neighbours is noise&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  196</span>        }</div>
<div class="line"><span class="lineno">  197</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  198</span>        <span class="comment">// This hit neighboured at least one cluster. Add the hit and</span></div>
<div class="line"><span class="lineno">  199</span>        <span class="comment">// its noise neighbours to the first cluster in the list, then</span></div>
<div class="line"><span class="lineno">  200</span>        <span class="comment">// merge the rest of the clusters into it</span></div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        <span class="keyword">auto</span> index_it = clusters_neighbouring_hit.begin();</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>        <span class="keyword">auto</span> it = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.find(*index_it);</div>
<div class="line"><span class="lineno">  205</span>        assert(it != <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.end());</div>
<div class="line"><span class="lineno">  206</span>        Cluster&amp; cluster = it-&gt;second;</div>
<div class="line"><span class="lineno">  207</span>        <span class="comment">// std::cout &lt;&lt; &quot;Adding hit time &quot; &lt;&lt; new_hit-&gt;time &lt;&lt; &quot; with &quot; &lt;&lt; new_hit-&gt;neighbours.size() &lt;&lt; &quot; neighbours to existing cluster&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  208</span>        cluster.add_hit(new_hit);</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>        <span class="comment">// TODO: this seems wrong: we&#39;re adding this hit&#39;s neighbours</span></div>
<div class="line"><span class="lineno">  211</span>        <span class="comment">// to the cluster even if this hit isn&#39;t a core point, but if</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="comment">// I wrap the whole thing in &quot;if(new_hit is core)&quot; then the</span></div>
<div class="line"><span class="lineno">  213</span>        <span class="comment">// results differ from classic DBSCAN</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> q : new_hit-&gt;neighbours) {</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">if</span> (q-&gt;cluster == <a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a31a72d3e1af0fb9a27fd724dc597bc1a">kUndefined</a> || q-&gt;cluster == <a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a4f897f07671bda11241fe303839912ac">kNoise</a>) {</div>
<div class="line"><span class="lineno">  216</span>                <span class="comment">// std::cout &lt;&lt; &quot;  Adding hit time &quot; &lt;&lt; q-&gt;time &lt;&lt; &quot; to existing cluster&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  217</span>                cluster.add_hit(q);</div>
<div class="line"><span class="lineno">  218</span>            }</div>
<div class="line"><span class="lineno">  219</span>            <span class="comment">// If the neighbouring hit q has exactly m_minPts</span></div>
<div class="line"><span class="lineno">  220</span>            <span class="comment">// neighbours, it must have become a core point by the</span></div>
<div class="line"><span class="lineno">  221</span>            <span class="comment">// addition of new_hit. Add q&#39;s neighbours to the cluster</span></div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">if</span>(q-&gt;neighbours.size() + 1 == <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>){</div>
<div class="line"><span class="lineno">  223</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> r : q-&gt;neighbours) {</div>
<div class="line"><span class="lineno">  224</span>                    cluster.add_hit(r);</div>
<div class="line"><span class="lineno">  225</span>                }</div>
<div class="line"><span class="lineno">  226</span>            }</div>
<div class="line"><span class="lineno">  227</span>        }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>        ++index_it;</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">for</span> (; index_it != clusters_neighbouring_hit.end(); ++index_it) {</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>            <span class="keyword">auto</span> other_it = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.find(*index_it);</div>
<div class="line"><span class="lineno">  235</span>            assert(other_it != <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.end());</div>
<div class="line"><span class="lineno">  236</span>            Cluster&amp; other_cluster = other_it-&gt;second;</div>
<div class="line"><span class="lineno">  237</span>            cluster.steal_hits(other_cluster);</div>
<div class="line"><span class="lineno">  238</span>        }</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">// Last case: new_hit and its neighbour are both noise, but the</span></div>
<div class="line"><span class="lineno">  242</span>    <span class="comment">// addition of new_hit makes the neighbour a core point. So we</span></div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">// start a new cluster at the neighbour, and walk out from there</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; neighbour : new_hit-&gt;neighbours) {</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">if</span>(neighbour-&gt;neighbours.size() + 1 &gt;= <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>){</div>
<div class="line"><span class="lineno">  246</span>            <span class="comment">// std::cout &lt;&lt; &quot;new_hit&#39;s neighbour at &quot; &lt;&lt; neighbour-&gt;time &lt;&lt; &quot; has &quot; &lt;&lt; neighbour-&gt;neighbours.size() &lt;&lt; &quot; neighbours, so is core&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">if</span>(neighbour-&gt;cluster==<a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a4f897f07671bda11241fe303839912ac">kNoise</a> || neighbour-&gt;cluster==<a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a31a72d3e1af0fb9a27fd724dc597bc1a">kUndefined</a>){</div>
<div class="line"><span class="lineno">  248</span>                <span class="keywordflow">if</span>(new_hit-&gt;cluster==<a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a4f897f07671bda11241fe303839912ac">kNoise</a> || new_hit-&gt;cluster==<a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a31a72d3e1af0fb9a27fd724dc597bc1a">kUndefined</a>){</div>
<div class="line"><span class="lineno">  249</span>                    <span class="keyword">auto</span> new_it = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.emplace_hint(</div>
<div class="line"><span class="lineno">  250</span>                                                          <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.end(), next_cluster_index, next_cluster_index);</div>
<div class="line"><span class="lineno">  251</span>                    Cluster&amp; new_cluster = new_it-&gt;second;</div>
<div class="line"><span class="lineno">  252</span>                    new_cluster.completeness = <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#a340b2151dcc56dfde5d5ffc5b7a75f94a7748dbabbd4c2eff6a7baf085312529b">Completeness::kIncomplete</a>;</div>
<div class="line"><span class="lineno">  253</span>                    new_cluster.add_hit(neighbour);</div>
<div class="line"><span class="lineno">  254</span>                    next_cluster_index++;</div>
<div class="line"><span class="lineno">  255</span>                    <a class="code hl_function" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac77ba0804a2b0eacf1d1bfe387f8c47a">cluster_reachable</a>(neighbour, new_cluster);</div>
<div class="line"><span class="lineno">  256</span>                }</div>
<div class="line"><span class="lineno">  257</span>            }</div>
<div class="line"><span class="lineno">  258</span>        }</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  260</span>            <span class="comment">// std::cout &lt;&lt; &quot;new_hit&#39;s neighbour at &quot; &lt;&lt; neighbour-&gt;time &lt;&lt; &quot; has &quot; &lt;&lt; neighbour-&gt;neighbours.size() &lt;&lt; &quot; neighbours, so is NOT core&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  261</span>        }</div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>    <span class="comment">// Delete any completed clusters from the list. Put them in the</span></div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// `completed_clusters` vector, if that vector was passed</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="keyword">auto</span> clust_it = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.begin();</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">while</span> (clust_it != <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.end()) {</div>
<div class="line"><span class="lineno">  269</span>        Cluster&amp; cluster = clust_it-&gt;second;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">if</span> (cluster.latest_time &lt; <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae56c19e9e11d83415ca99dac35c2998b">m_latest_time</a> - <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae7c8391bab9f9004bc48d0d99c89cd62">m_eps</a>) {</div>
<div class="line"><span class="lineno">  272</span>            cluster.completeness = <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#a340b2151dcc56dfde5d5ffc5b7a75f94a5849f449d026268058ff70e25c57c14a">Completeness::kComplete</a>;</div>
<div class="line"><span class="lineno">  273</span>        }</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">if</span> (cluster.completeness == <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#a340b2151dcc56dfde5d5ffc5b7a75f94a5849f449d026268058ff70e25c57c14a">Completeness::kComplete</a>) {</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">if</span>(completed_clusters){</div>
<div class="line"><span class="lineno">  277</span>                <span class="comment">// TODO: room for std::move here?</span></div>
<div class="line"><span class="lineno">  278</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">  279</span>                <span class="comment">// Clusters that got merged into another cluster had</span></div>
<div class="line"><span class="lineno">  280</span>                <span class="comment">// their hits cleared, and were set kComplete, by</span></div>
<div class="line"><span class="lineno">  281</span>                <span class="comment">// steal_hits</span></div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordflow">if</span>(cluster.hits.size()!=0){</div>
<div class="line"><span class="lineno">  283</span>                    completed_clusters-&gt;push_back(cluster);</div>
<div class="line"><span class="lineno">  284</span>                }</div>
<div class="line"><span class="lineno">  285</span>            }</div>
<div class="line"><span class="lineno">  286</span>            clust_it = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.erase(clust_it);</div>
<div class="line"><span class="lineno">  287</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  288</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  289</span>            ++clust_it;</div>
<div class="line"><span class="lineno">  290</span>        }</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span>}</div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_a4bfc4efd82daaa201ec31bde614123f3"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">triggeralgs::dbscan::IncrementalDBSCAN::m_hits</a></div><div class="ttdeci">std::vector&lt; Hit * &gt; m_hits</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00098">dbscan.hpp:98</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_ac77ba0804a2b0eacf1d1bfe387f8c47a"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac77ba0804a2b0eacf1d1bfe387f8c47a">triggeralgs::dbscan::IncrementalDBSCAN::cluster_reachable</a></div><div class="ttdeci">void cluster_reachable(Hit *seed_hit, Cluster &amp;cluster)</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8cpp_source.html#l00095">dbscan.cpp:95</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_ae56c19e9e11d83415ca99dac35c2998b"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae56c19e9e11d83415ca99dac35c2998b">triggeralgs::dbscan::IncrementalDBSCAN::m_latest_time</a></div><div class="ttdeci">float m_latest_time</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00099">dbscan.hpp:99</a></div></div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_ae6ce37510dab553ce1b15aa75665c6bd"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">triggeralgs::dbscan::IncrementalDBSCAN::m_clusters</a></div><div class="ttdeci">std::map&lt; int, Cluster &gt; m_clusters</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00102">dbscan.hpp:102</a></div></div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_a31a72d3e1af0fb9a27fd724dc597bc1a"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#a31a72d3e1af0fb9a27fd724dc597bc1a">triggeralgs::dbscan::kUndefined</a></div><div class="ttdeci">const int kUndefined</div><div class="ttdef"><b>Definition</b> <a href="Hit_8hpp_source.html#l00015">Hit.hpp:15</a></div></div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_a340b2151dcc56dfde5d5ffc5b7a75f94a5849f449d026268058ff70e25c57c14a"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#a340b2151dcc56dfde5d5ffc5b7a75f94a5849f449d026268058ff70e25c57c14a">triggeralgs::dbscan::Completeness::kComplete</a></div><div class="ttdeci">@ kComplete</div></div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_a340b2151dcc56dfde5d5ffc5b7a75f94a7748dbabbd4c2eff6a7baf085312529b"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#a340b2151dcc56dfde5d5ffc5b7a75f94a7748dbabbd4c2eff6a7baf085312529b">triggeralgs::dbscan::Completeness::kIncomplete</a></div><div class="ttdeci">@ kIncomplete</div></div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_a4f897f07671bda11241fe303839912ac"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#a4f897f07671bda11241fe303839912ac">triggeralgs::dbscan::kNoise</a></div><div class="ttdeci">const int kNoise</div><div class="ttdef"><b>Definition</b> <a href="Hit_8hpp_source.html#l00014">Hit.hpp:14</a></div></div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_a8964bb831c5a054ee1439020a9d1d5e2"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#a8964bb831c5a054ee1439020a9d1d5e2">triggeralgs::dbscan::neighbours_sorted</a></div><div class="ttdeci">int neighbours_sorted(const std::vector&lt; Hit * &gt; &amp;hits, Hit &amp;q, float eps, int minPts)</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8cpp_source.html#l00012">dbscan.cpp:12</a></div></div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_ad281285fbb3da69b46f0facdc6d3f216ade8900e4c323b0c667bfd5ca5ecf9e5c"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#ad281285fbb3da69b46f0facdc6d3f216ade8900e4c323b0c667bfd5ca5ecf9e5c">triggeralgs::dbscan::Connectedness::kCore</a></div><div class="ttdeci">@ kCore</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2e7f5cfdc61cf846b30821a892142f9" name="ac2e7f5cfdc61cf846b30821a892142f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2e7f5cfdc61cf846b30821a892142f9">&#9670;&#160;</a></span>add_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void triggeralgs::dbscan::IncrementalDBSCAN::add_point </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; *&#160;</td>
          <td class="paramname"><em>completed_clusters</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8cpp_source.html#l00126">126</a> of file <a class="el" href="dbscan_8cpp_source.html">dbscan.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>{</div>
<div class="line"><span class="lineno">  128</span>    Hit&amp; new_hit=<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">m_hit_pool</a>[<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>];</div>
<div class="line"><span class="lineno">  129</span>    new_hit.reset(time, channel);</div>
<div class="line"><span class="lineno">  130</span>    ++<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>;</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>==<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">m_hit_pool</a>.size()) <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>=0;</div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_function" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac96ff77e8409a6ef859fc683bb1b64fd">add_hit</a>(&amp;new_hit, completed_clusters);</div>
<div class="line"><span class="lineno">  133</span>}</div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_ac96ff77e8409a6ef859fc683bb1b64fd"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac96ff77e8409a6ef859fc683bb1b64fd">triggeralgs::dbscan::IncrementalDBSCAN::add_hit</a></div><div class="ttdeci">void add_hit(Hit *new_hit, std::vector&lt; Cluster &gt; *completed_clusters=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8cpp_source.html#l00153">dbscan.cpp:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c21db1aff80713e1d62858ca7066479" name="a6c21db1aff80713e1d62858ca7066479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c21db1aff80713e1d62858ca7066479">&#9670;&#160;</a></span>add_primitive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void triggeralgs::dbscan::IncrementalDBSCAN::add_primitive </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacetriggeralgs.html#a7a9ef2563dfb84a0839fb5ab230b1728">triggeralgs::TriggerPrimitive</a> &amp;&#160;</td>
          <td class="paramname"><em>prim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; *&#160;</td>
          <td class="paramname"><em>completed_clusters</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8cpp_source.html#l00137">137</a> of file <a class="el" href="dbscan_8cpp_source.html">dbscan.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a8d75c01091faa3152973d04cd1fe2953">m_first_prim_time</a>==0){</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a8d75c01091faa3152973d04cd1fe2953">m_first_prim_time</a>=prim.<a class="code hl_variable" href="structdunedaq_1_1trgdataformats_1_1TriggerPrimitive.html#aca28368539f01dcc3b371b436f7441a2">time_start</a>;</div>
<div class="line"><span class="lineno">  141</span>    }</div>
<div class="line"><span class="lineno">  142</span>    </div>
<div class="line"><span class="lineno">  143</span>    Hit&amp; new_hit=<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">m_hit_pool</a>[<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>];</div>
<div class="line"><span class="lineno">  144</span>    new_hit.reset(1e-2*(prim.<a class="code hl_variable" href="structdunedaq_1_1trgdataformats_1_1TriggerPrimitive.html#aca28368539f01dcc3b371b436f7441a2">time_start</a>-<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a8d75c01091faa3152973d04cd1fe2953">m_first_prim_time</a>), prim.<a class="code hl_variable" href="structdunedaq_1_1trgdataformats_1_1TriggerPrimitive.html#a6865c98a7661fbe4d165e21427ccabf1">channel</a>, &amp;prim);</div>
<div class="line"><span class="lineno">  145</span>    ++<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>;</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>==<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a74fa26e686575cbe2197c9d4bc3ff428">m_hit_pool</a>.size()) <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#aac3584857a45ee4cea653294b873fc93">m_pool_end</a>=0;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <a class="code hl_function" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ac96ff77e8409a6ef859fc683bb1b64fd">add_hit</a>(&amp;new_hit, completed_clusters);</div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="aclasstriggeralgs_1_1dbscan_1_1IncrementalDBSCAN_html_a8d75c01091faa3152973d04cd1fe2953"><div class="ttname"><a href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a8d75c01091faa3152973d04cd1fe2953">triggeralgs::dbscan::IncrementalDBSCAN::m_first_prim_time</a></div><div class="ttdeci">uint64_t m_first_prim_time</div><div class="ttdef"><b>Definition</b> <a href="dbscan_8hpp_source.html#l00100">dbscan.hpp:100</a></div></div>
<div class="ttc" id="astructdunedaq_1_1trgdataformats_1_1TriggerPrimitive_html_a6865c98a7661fbe4d165e21427ccabf1"><div class="ttname"><a href="structdunedaq_1_1trgdataformats_1_1TriggerPrimitive.html#a6865c98a7661fbe4d165e21427ccabf1">dunedaq::trgdataformats::TriggerPrimitive::channel</a></div><div class="ttdeci">channel_t channel</div><div class="ttdef"><b>Definition</b> <a href="trgdataformats_2include_2trgdataformats_2TriggerPrimitive_8hpp_source.html#l00062">TriggerPrimitive.hpp:62</a></div></div>
<div class="ttc" id="astructdunedaq_1_1trgdataformats_1_1TriggerPrimitive_html_aca28368539f01dcc3b371b436f7441a2"><div class="ttname"><a href="structdunedaq_1_1trgdataformats_1_1TriggerPrimitive.html#aca28368539f01dcc3b371b436f7441a2">dunedaq::trgdataformats::TriggerPrimitive::time_start</a></div><div class="ttdeci">timestamp_t time_start</div><div class="ttdef"><b>Definition</b> <a href="trgdataformats_2include_2trgdataformats_2TriggerPrimitive_8hpp_source.html#l00059">TriggerPrimitive.hpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac77ba0804a2b0eacf1d1bfe387f8c47a" name="ac77ba0804a2b0eacf1d1bfe387f8c47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77ba0804a2b0eacf1d1bfe387f8c47a">&#9670;&#160;</a></span>cluster_reachable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void triggeralgs::dbscan::IncrementalDBSCAN::cluster_reachable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> *&#160;</td>
          <td class="paramname"><em>seed_hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &amp;&#160;</td>
          <td class="paramname"><em>cluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8cpp_source.html#l00095">95</a> of file <a class="el" href="dbscan_8cpp_source.html">dbscan.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{</div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">// Loop over all neighbours (and the neighbours of core points, and so on)</span></div>
<div class="line"><span class="lineno">   98</span>    std::vector&lt;Hit*&gt; seedSet(seed_hit-&gt;neighbours.begin(),</div>
<div class="line"><span class="lineno">   99</span>                              seed_hit-&gt;neighbours.end());</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">while</span> (!seedSet.empty()) {</div>
<div class="line"><span class="lineno">  102</span>        Hit* q = seedSet.back();</div>
<div class="line"><span class="lineno">  103</span>        seedSet.pop_back();</div>
<div class="line"><span class="lineno">  104</span>        <span class="comment">// Change noise to a border point</span></div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">if</span> (q-&gt;connectedness == <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#ad281285fbb3da69b46f0facdc6d3f216a3dc46555b4fa07914f5122a068d48a40">Connectedness::kNoise</a>) {</div>
<div class="line"><span class="lineno">  106</span>            cluster.add_hit(q);</div>
<div class="line"><span class="lineno">  107</span>        }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">if</span> (q-&gt;cluster != <a class="code hl_variable" href="namespacetriggeralgs_1_1dbscan.html#a31a72d3e1af0fb9a27fd724dc597bc1a">kUndefined</a>) {</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  111</span>        }</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        cluster.add_hit(q);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">// If q is a core point, add its neighbours to the search list</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">if</span> (q-&gt;neighbours.size() + 1 &gt;= <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a3b43b308ba40f8a3171c9b2640ea88ca">m_minPts</a>) {</div>
<div class="line"><span class="lineno">  117</span>            q-&gt;connectedness = <a class="code hl_enumvalue" href="namespacetriggeralgs_1_1dbscan.html#ad281285fbb3da69b46f0facdc6d3f216ade8900e4c323b0c667bfd5ca5ecf9e5c">Connectedness::kCore</a>;</div>
<div class="line"><span class="lineno">  118</span>            seedSet.insert(</div>
<div class="line"><span class="lineno">  119</span>                seedSet.end(), q-&gt;neighbours.begin(), q-&gt;neighbours.end());</div>
<div class="line"><span class="lineno">  120</span>        }</div>
<div class="line"><span class="lineno">  121</span>    }</div>
<div class="line"><span class="lineno">  122</span>}</div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_ad281285fbb3da69b46f0facdc6d3f216a3dc46555b4fa07914f5122a068d48a40"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#ad281285fbb3da69b46f0facdc6d3f216a3dc46555b4fa07914f5122a068d48a40">triggeralgs::dbscan::Connectedness::kNoise</a></div><div class="ttdeci">@ kNoise</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73f1d0d0b9b8beca6be98cf41565c4e1" name="a73f1d0d0b9b8beca6be98cf41565c4e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73f1d0d0b9b8beca6be98cf41565c4e1">&#9670;&#160;</a></span>get_clusters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a> &gt; triggeralgs::dbscan::IncrementalDBSCAN::get_clusters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00083">83</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a223ba8ccfb7b19d259fea0b1118f8de2" name="a223ba8ccfb7b19d259fea0b1118f8de2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223ba8ccfb7b19d259fea0b1118f8de2">&#9670;&#160;</a></span>get_first_prim_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t triggeralgs::dbscan::IncrementalDBSCAN::get_first_prim_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00085">85</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a8d75c01091faa3152973d04cd1fe2953">m_first_prim_time</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a712f5bdd5b9467f8647e9bd3bcf4a728" name="a712f5bdd5b9467f8647e9bd3bcf4a728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a712f5bdd5b9467f8647e9bd3bcf4a728">&#9670;&#160;</a></span>get_hits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a> * &gt; triggeralgs::dbscan::IncrementalDBSCAN::get_hits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00081">81</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a332d596a1cdff9bd010d0db25d10b067" name="a332d596a1cdff9bd010d0db25d10b067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332d596a1cdff9bd010d0db25d10b067">&#9670;&#160;</a></span>trim_hits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void triggeralgs::dbscan::IncrementalDBSCAN::trim_hits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8cpp_source.html#l00295">295</a> of file <a class="el" href="dbscan_8cpp_source.html">dbscan.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  296</span>{</div>
<div class="line"><span class="lineno">  297</span>    <span class="comment">// Find the earliest time of a hit in any cluster in the list (active or</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// not)</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordtype">float</span> earliest_time = std::numeric_limits&lt;float&gt;::max();</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; cluster : <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>) {</div>
<div class="line"><span class="lineno">  302</span>        earliest_time =</div>
<div class="line"><span class="lineno">  303</span>            std::min(earliest_time, (*cluster.second.hits.begin())-&gt;time);</div>
<div class="line"><span class="lineno">  304</span>    }</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <span class="comment">// If there were no clusters, set the earliest_time to the latest time</span></div>
<div class="line"><span class="lineno">  307</span>    <span class="comment">// (otherwise it would still be FLOAT_MAX)</span></div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae6ce37510dab553ce1b15aa75665c6bd">m_clusters</a>.empty()) {</div>
<div class="line"><span class="lineno">  309</span>        earliest_time = <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae56c19e9e11d83415ca99dac35c2998b">m_latest_time</a>;</div>
<div class="line"><span class="lineno">  310</span>    }</div>
<div class="line"><span class="lineno">  311</span>    <span class="keyword">auto</span> last_it = std::lower_bound(<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>.begin(),</div>
<div class="line"><span class="lineno">  312</span>                                    <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>.end(),</div>
<div class="line"><span class="lineno">  313</span>                                    earliest_time - 10 * <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#ae7c8391bab9f9004bc48d0d99c89cd62">m_eps</a>,</div>
<div class="line"><span class="lineno">  314</span>                                    <a class="code hl_function" href="namespacetriggeralgs_1_1dbscan.html#a394e2dcfba4ed1747f25f20c73de03e2">time_comp_lower</a>);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>.erase(<a class="code hl_variable" href="classtriggeralgs_1_1dbscan_1_1IncrementalDBSCAN.html#a4bfc4efd82daaa201ec31bde614123f3">m_hits</a>.begin(), last_it);</div>
<div class="line"><span class="lineno">  317</span>}</div>
<div class="ttc" id="anamespacetriggeralgs_1_1dbscan_html_a394e2dcfba4ed1747f25f20c73de03e2"><div class="ttname"><a href="namespacetriggeralgs_1_1dbscan.html#a394e2dcfba4ed1747f25f20c73de03e2">triggeralgs::dbscan::time_comp_lower</a></div><div class="ttdeci">bool time_comp_lower(const Hit *hit, const float t)</div><div class="ttdef"><b>Definition</b> <a href="Hit_8hpp_source.html#l00120">Hit.hpp:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae6ce37510dab553ce1b15aa75665c6bd" name="ae6ce37510dab553ce1b15aa75665c6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ce37510dab553ce1b15aa75665c6bd">&#9670;&#160;</a></span>m_clusters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, <a class="el" href="structtriggeralgs_1_1dbscan_1_1Cluster.html">Cluster</a>&gt; triggeralgs::dbscan::IncrementalDBSCAN::m_clusters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00102">102</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<a id="ae7c8391bab9f9004bc48d0d99c89cd62" name="ae7c8391bab9f9004bc48d0d99c89cd62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c8391bab9f9004bc48d0d99c89cd62">&#9670;&#160;</a></span>m_eps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float triggeralgs::dbscan::IncrementalDBSCAN::m_eps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00094">94</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<a id="a8d75c01091faa3152973d04cd1fe2953" name="a8d75c01091faa3152973d04cd1fe2953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d75c01091faa3152973d04cd1fe2953">&#9670;&#160;</a></span>m_first_prim_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t triggeralgs::dbscan::IncrementalDBSCAN::m_first_prim_time {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00100">100</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a74fa26e686575cbe2197c9d4bc3ff428" name="a74fa26e686575cbe2197c9d4bc3ff428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74fa26e686575cbe2197c9d4bc3ff428">&#9670;&#160;</a></span>m_hit_pool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a>&gt; triggeralgs::dbscan::IncrementalDBSCAN::m_hit_pool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00096">96</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<a id="a4bfc4efd82daaa201ec31bde614123f3" name="a4bfc4efd82daaa201ec31bde614123f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfc4efd82daaa201ec31bde614123f3">&#9670;&#160;</a></span>m_hits</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtriggeralgs_1_1dbscan_1_1Hit.html">Hit</a>*&gt; triggeralgs::dbscan::IncrementalDBSCAN::m_hits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00098">98</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<a id="ae56c19e9e11d83415ca99dac35c2998b" name="ae56c19e9e11d83415ca99dac35c2998b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56c19e9e11d83415ca99dac35c2998b">&#9670;&#160;</a></span>m_latest_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float triggeralgs::dbscan::IncrementalDBSCAN::m_latest_time { 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00099">99</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   99</span>{ 0 }; <span class="comment">// The latest time of a hit in the vector of hits</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b43b308ba40f8a3171c9b2640ea88ca" name="a3b43b308ba40f8a3171c9b2640ea88ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b43b308ba40f8a3171c9b2640ea88ca">&#9670;&#160;</a></span>m_minPts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float triggeralgs::dbscan::IncrementalDBSCAN::m_minPts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00095">95</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<a id="abdd0eb33df518940620cb7d9eab90675" name="abdd0eb33df518940620cb7d9eab90675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd0eb33df518940620cb7d9eab90675">&#9670;&#160;</a></span>m_pool_begin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t triggeralgs::dbscan::IncrementalDBSCAN::m_pool_begin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00097">97</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<a id="aac3584857a45ee4cea653294b873fc93" name="aac3584857a45ee4cea653294b873fc93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3584857a45ee4cea653294b873fc93">&#9670;&#160;</a></span>m_pool_end</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t triggeralgs::dbscan::IncrementalDBSCAN::m_pool_end</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbscan_8hpp_source.html#l00097">97</a> of file <a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/github/workspace/dev_area/sourcecode/triggeralgs/include/triggeralgs/dbscan/<a class="el" href="dbscan_8hpp_source.html">dbscan.hpp</a></li>
<li>/github/workspace/dev_area/sourcecode/triggeralgs/src/dbscan/<a class="el" href="dbscan_8cpp_source.html">dbscan.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
