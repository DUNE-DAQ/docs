<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: timing.cli.master Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetiming.html">timing</a></li><li class="navelem"><a class="el" href="namespacetiming_1_1cli.html">cli</a></li><li class="navelem"><a class="el" href="namespacetiming_1_1cli_1_1master.html">master</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">timing.cli.master Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a05dfe3074367524bb927bfe524b50626" id="r_a05dfe3074367524bb927bfe524b50626"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a05dfe3074367524bb927bfe524b50626">master</a> (obj, device)</td></tr>
<tr class="separator:a05dfe3074367524bb927bfe524b50626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac669705cc1f5f9174db71a4ca68446f3" id="r_ac669705cc1f5f9174db71a4ca68446f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#ac669705cc1f5f9174db71a4ca68446f3">status</a> (obj)</td></tr>
<tr class="separator:ac669705cc1f5f9174db71a4ca68446f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa6a8a58b5e9eb8f81756faf10150ea" id="r_a4fa6a8a58b5e9eb8f81756faf10150ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a4fa6a8a58b5e9eb8f81756faf10150ea">synctime</a> (obj, source)</td></tr>
<tr class="separator:a4fa6a8a58b5e9eb8f81756faf10150ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c7ca2d51f9b4e450ffc832ddd1c3f1" id="r_a06c7ca2d51f9b4e450ffc832ddd1c3f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a06c7ca2d51f9b4e450ffc832ddd1c3f1">sendcmd</a> (obj, cmd, chan, n)</td></tr>
<tr class="separator:a06c7ca2d51f9b4e450ffc832ddd1c3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6deb446084a546862cb545296df128" id="r_afa6deb446084a546862cb545296df128"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#afa6deb446084a546862cb545296df128">faketriggen</a> (obj, cmd, chan, rate, poisson)</td></tr>
<tr class="separator:afa6deb446084a546862cb545296df128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425016f4cfea44f10ca403a2209c6231" id="r_a425016f4cfea44f10ca403a2209c6231"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a425016f4cfea44f10ca403a2209c6231">faketrigclear</a> (obj, chan)</td></tr>
<tr class="separator:a425016f4cfea44f10ca403a2209c6231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2559d1bc78b9a0773ceac4915b147734" id="r_a2559d1bc78b9a0773ceac4915b147734"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a2559d1bc78b9a0773ceac4915b147734">writeeptreg</a> (obj, adr, reg, data, mode)</td></tr>
<tr class="separator:a2559d1bc78b9a0773ceac4915b147734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c871c75884ef6aa523fdbb2863d68b" id="r_ac5c871c75884ef6aa523fdbb2863d68b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#ac5c871c75884ef6aa523fdbb2863d68b">readeptreg</a> (obj, adr, reg, length, mode)</td></tr>
<tr class="separator:ac5c871c75884ef6aa523fdbb2863d68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eef8c56d962eb03bae7d516b53c564b" id="r_a2eef8c56d962eb03bae7d516b53c564b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a2eef8c56d962eb03bae7d516b53c564b">transmitasyncpacket</a> (obj, packet)</td></tr>
<tr class="separator:a2eef8c56d962eb03bae7d516b53c564b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf1ffbf41febe61a5fb5973d0e032bb" id="r_a6cf1ffbf41febe61a5fb5973d0e032bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a6cf1ffbf41febe61a5fb5973d0e032bb">resetcommandcounters</a> (obj)</td></tr>
<tr class="separator:a6cf1ffbf41febe61a5fb5973d0e032bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abead146b26ca1828bea4118a00fdb087" id="r_abead146b26ca1828bea4118a00fdb087"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#abead146b26ca1828bea4118a00fdb087">controltimestampbroadcast</a> (obj, on)</td></tr>
<tr class="separator:abead146b26ca1828bea4118a00fdb087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503f6e1db0c6de743a4f074f544753b1" id="r_a503f6e1db0c6de743a4f074f544753b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#a503f6e1db0c6de743a4f074f544753b1">partition</a> (obj)</td></tr>
<tr class="separator:a503f6e1db0c6de743a4f074f544753b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba12de047cee10db8b185adea5cfb7a" id="r_abba12de047cee10db8b185adea5cfb7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#abba12de047cee10db8b185adea5cfb7a">partstatus</a> (obj, watch, period)</td></tr>
<tr class="separator:abba12de047cee10db8b185adea5cfb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e1f10138e6e97cb84586b8db18cc4d" id="r_ad7e1f10138e6e97cb84586b8db18cc4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#ad7e1f10138e6e97cb84586b8db18cc4d">configure</a> (obj)</td></tr>
<tr class="separator:ad7e1f10138e6e97cb84586b8db18cc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7271d6c0615a7cd48fe1ee04e0d0db6" id="r_ae7271d6c0615a7cd48fe1ee04e0d0db6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetiming_1_1cli_1_1master.html#ae7271d6c0615a7cd48fe1ee04e0d0db6">configureendpointcmddecoder</a> (obj, addr, slot, cmd)</td></tr>
<tr class="separator:ae7271d6c0615a7cd48fe1ee04e0d0db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad7e1f10138e6e97cb84586b8db18cc4d" name="ad7e1f10138e6e97cb84586b8db18cc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e1f10138e6e97cb84586b8db18cc4d">&#9670;&#160;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.configure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00285">285</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span><span class="keyword">def </span>configure(obj):</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  287</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  290</span>@master.command(<span class="stringliteral">&#39;configure-endpoint-cmd-decoder&#39;</span>, short_help=<span class="stringliteral">&#39;Configure a slot of endpoint command decoder.&#39;</span>)</div>
<div class="line"><span class="lineno">  291</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">@click.argument(&#39;addr&#39;, type=toolbox.IntRange(0x0,0xffff)</span>)</div>
<div class="line"><span class="lineno">  293</span><span class="preprocessor">@click.argument(&#39;slot&#39;, type=toolbox.IntRange(0x0,0x7)</span>)</div>
<div class="line"><span class="lineno">  294</span><span class="preprocessor">@click.argument(&#39;cmd&#39;, type=toolbox.IntRange(0x0,0xff)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7271d6c0615a7cd48fe1ee04e0d0db6" name="ae7271d6c0615a7cd48fe1ee04e0d0db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7271d6c0615a7cd48fe1ee04e0d0db6">&#9670;&#160;</a></span>configureendpointcmddecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.configureendpointcmddecoder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configure endpoint command decoder
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00295">295</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  295</span><span class="keyword">def </span>configureendpointcmddecoder(obj, addr, slot, cmd):</div>
<div class="line"><span class="lineno">  296</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    Configure endpoint command decoder</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  301</span>    lMaster.configure_endpoint_command_decoder(addr,slot,cmd)</div>
<div class="line"><span class="lineno">  302</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abead146b26ca1828bea4118a00fdb087" name="abead146b26ca1828bea4118a00fdb087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abead146b26ca1828bea4118a00fdb087">&#9670;&#160;</a></span>controltimestampbroadcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.controltimestampbroadcast </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Enable or disable timestamp broadcast
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00246">246</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  246</span><span class="keyword">def </span>controltimestampbroadcast(obj, on):</div>
<div class="line"><span class="lineno">  247</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    Enable or disable timestamp broadcast</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  250</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span> on:</div>
<div class="line"><span class="lineno">  252</span>        lMaster.enable_timestamp_broadcast()</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  254</span>        lMaster.disable_timestamp_broadcast()</div>
<div class="line"><span class="lineno">  255</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  258</span><span class="preprocessor">@master.group(&#39;part&#39;, invoke_without_command=True)</span></div>
<div class="line"><span class="lineno">  259</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a425016f4cfea44f10ca403a2209c6231" name="a425016f4cfea44f10ca403a2209c6231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425016f4cfea44f10ca403a2209c6231">&#9670;&#160;</a></span>faketrigclear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.faketrigclear </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Clear the internal trigger generator.
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00172">172</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  172</span><span class="keyword">def </span>faketrigclear(obj, chan):</div>
<div class="line"><span class="lineno">  173</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">    Clear the internal trigger generator.</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  176</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  177</span>    lMaster.disable_periodic_fl_cmd(chan)</div>
<div class="line"><span class="lineno">  178</span>    secho( <span class="stringliteral">&quot;Fake triggers disabled; chan: {}&quot;</span>.format(chan), fg=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  179</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  182</span><span class="preprocessor">@master.command(&#39;write-ept-reg&#39;)</span></div>
<div class="line"><span class="lineno">  183</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  184</span><span class="preprocessor">@click.argument(&#39;adr&#39;, type=toolbox.IntRange(0x0,0xffff)</span>)</div>
<div class="line"><span class="lineno">  185</span><span class="preprocessor">@click.argument(&#39;reg&#39;, type=toolbox.IntRange(0x0,0x7b)</span>)</div>
<div class="line"><span class="lineno">  186</span><span class="preprocessor">@click.argument(&#39;data&#39;, callback=toolbox.split_ints)</span></div>
<div class="line"><span class="lineno">  187</span><span class="preprocessor">@click.argument(&#39;mode&#39;, type=bool)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="afa6deb446084a546862cb545296df128" name="afa6deb446084a546862cb545296df128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa6deb446084a546862cb545296df128">&#9670;&#160;</a></span>faketriggen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.faketriggen </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>poisson</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">\b
Enables the internal trigger generator.
Configures the internal command generator to produce triggers at a defined frequency.

Rate =  (50MHz / 2^(d+8)) / p where n in [0,15] and p in [1,256]
\b
DIVIDER (int): Frequency divider.
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00148">148</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span><span class="keyword">def </span>faketriggen(obj, cmd, chan, rate, poisson):</div>
<div class="line"><span class="lineno">  149</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">    \b</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    Enables the internal trigger generator.</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">    Configures the internal command generator to produce triggers at a defined frequency.</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    </span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">    Rate =  (50MHz / 2^(d+8)) / p where n in [0,15] and p in [1,256]</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">    \b</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    DIVIDER (int): Frequency divider.</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="comment"># The division from 50MHz to the desired rate is done in three steps:</span></div>
<div class="line"><span class="lineno">  160</span>    <span class="comment"># a) A pre-division by 256</span></div>
<div class="line"><span class="lineno">  161</span>    <span class="comment"># b) Division by a power of two set by n = 2 ^ rate_div_d (ranging from 2^0 -&gt; 2^15)</span></div>
<div class="line"><span class="lineno">  162</span>    <span class="comment"># c) 1-in-n prescaling set by n = rate_div_p</span></div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    lTopDesign = obj.mTopDesign</div>
<div class="line"><span class="lineno">  165</span>    lTopDesign.enable_periodic_fl_cmd(cmd,chan,rate,poisson)</div>
<div class="line"><span class="lineno">  166</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  169</span><span class="preprocessor">@master.command(&#39;faketrig-clear&#39;)</span></div>
<div class="line"><span class="lineno">  170</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  171</span><span class="preprocessor">@click.argument(&#39;chan&#39;, type=int)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05dfe3074367524bb927bfe524b50626" name="a05dfe3074367524bb927bfe524b50626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05dfe3074367524bb927bfe524b50626">&#9670;&#160;</a></span>master()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.master </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Timing master commands.

DEVICE: uhal device identifier
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00041">41</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span><span class="keyword">def </span>master(obj, device):</div>
<div class="line"><span class="lineno">   42</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">    Timing master commands.</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    DEVICE: uhal device identifier</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">   47</span>    lDevice = obj.mConnectionManager.getDevice(str(device))</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">if</span> obj.mTimeout:</div>
<div class="line"><span class="lineno">   49</span>        lDevice.setTimeoutPeriod(obj.mTimeout)</div>
<div class="line"><span class="lineno">   50</span>        </div>
<div class="line"><span class="lineno">   51</span>    echo(<span class="stringliteral">&#39;Created device &#39;</span> + click.style(lDevice.id(), fg=<span class="stringliteral">&#39;blue&#39;</span>))</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    lTopDesign = lDevice.getNode(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">   54</span>    </div>
<div class="line"><span class="lineno">   55</span>    lMaster = lDevice.getNode(<span class="stringliteral">&#39;master&#39;</span>)    </div>
<div class="line"><span class="lineno">   56</span>    lBoardInfo = toolbox.readSubNodes(lDevice.getNode(<span class="stringliteral">&#39;io.config&#39;</span>), <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">   57</span>    lNCmdchannels = lMaster.getNode(<span class="stringliteral">&#39;global.config.n_chan&#39;</span>).read()</div>
<div class="line"><span class="lineno">   58</span>    lDevice.dispatch()</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    echo(<span class="stringliteral">&quot;Design &#39;{}&#39; on board &#39;{}&#39; on carrier &#39;{}&#39; with frequency {} MHz&quot;</span>.format(</div>
<div class="line"><span class="lineno">   61</span>        style(kDesignNameMap[lBoardInfo[<span class="stringliteral">&#39;design_type&#39;</span>].value()], fg=<span class="stringliteral">&#39;blue&#39;</span>),</div>
<div class="line"><span class="lineno">   62</span>        style(kBoardNameMap[lBoardInfo[<span class="stringliteral">&#39;board_type&#39;</span>].value()], fg=<span class="stringliteral">&#39;blue&#39;</span>),</div>
<div class="line"><span class="lineno">   63</span>        style(kCarrierNameMap[lBoardInfo[<span class="stringliteral">&#39;carrier_type&#39;</span>].value()], fg=<span class="stringliteral">&#39;blue&#39;</span>),</div>
<div class="line"><span class="lineno">   64</span>        style(str(lBoardInfo[<span class="stringliteral">&#39;clock_frequency&#39;</span>].value()/1e6), fg=<span class="stringliteral">&#39;blue&#39;</span>)</div>
<div class="line"><span class="lineno">   65</span>    ))</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> lBoardInfo[<span class="stringliteral">&#39;board_type&#39;</span>].value() <span class="keywordflow">in</span> kLibrarySupportedBoards <span class="keywordflow">and</span> lBoardInfo[<span class="stringliteral">&#39;design_type&#39;</span>].value() <span class="keywordflow">in</span> kLibrarySupportedDesigns:</div>
<div class="line"><span class="lineno">   68</span>        lVersion = lTopDesign.read_firmware_version()</div>
<div class="line"><span class="lineno">   69</span>        lTopDesign.validate_firmware_version()</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   72</span>            echo(lDevice.getNode(<span class="stringliteral">&#39;io&#39;</span>).get_hardware_info())</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">   74</span>            secho(<span class="stringliteral">&quot;Failed to retrieve hardware information! I2C issue? Initial board reset needed?&quot;</span>, fg=<span class="stringliteral">&#39;yellow&#39;</span>)</div>
<div class="line"><span class="lineno">   75</span>            e = sys.exc_info()[0]</div>
<div class="line"><span class="lineno">   76</span>            secho(<span class="stringliteral">&quot;Error: {}&quot;</span>.format(e), fg=<span class="stringliteral">&#39;red&#39;</span>)</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   78</span>        lVersion = lMaster.getNode(<span class="stringliteral">&#39;global.version&#39;</span>).read()</div>
<div class="line"><span class="lineno">   79</span>        lDevice.dispatch()</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    echo(<span class="stringliteral">&quot;Master FW rev: {}, channels: {}&quot;</span>.format(</div>
<div class="line"><span class="lineno">   82</span>        style(format_firmware_version(lVersion), fg=<span class="stringliteral">&#39;cyan&#39;</span>),</div>
<div class="line"><span class="lineno">   83</span>        style(str(lNCmdchannels), fg=<span class="stringliteral">&#39;cyan&#39;</span>),</div>
<div class="line"><span class="lineno">   84</span>    ))</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    obj.mDevice = lDevice</div>
<div class="line"><span class="lineno">   87</span>    obj.mTopDesign = lTopDesign</div>
<div class="line"><span class="lineno">   88</span>    obj.mMaster = lMaster</div>
<div class="line"><span class="lineno">   89</span>    obj.mIO = lDevice.getNode(<span class="stringliteral">&#39;io&#39;</span>)</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    obj.mVersion = lVersion</div>
<div class="line"><span class="lineno">   92</span>    obj.mBoardType = lBoardInfo[<span class="stringliteral">&#39;board_type&#39;</span>].value()</div>
<div class="line"><span class="lineno">   93</span>    obj.mCarrierType = lBoardInfo[<span class="stringliteral">&#39;carrier_type&#39;</span>].value()</div>
<div class="line"><span class="lineno">   94</span>    obj.mDesignType = lBoardInfo[<span class="stringliteral">&#39;design_type&#39;</span>].value()</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="comment"># only overlord has ext trig ept</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">if</span> obj.mDesignType == kDesignOverlord:</div>
<div class="line"><span class="lineno">   98</span>        obj.mExtTrig = obj.mTopDesign.get_external_triggers_endpoint_node()</div>
<div class="line"><span class="lineno">   99</span>    </div>
<div class="line"><span class="lineno">  100</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  103</span><span class="preprocessor">@master.command(&#39;status&#39;, short_help=&quot;Print master status&quot;)</span></div>
<div class="line"><span class="lineno">  104</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a503f6e1db0c6de743a4f074f544753b1" name="a503f6e1db0c6de743a4f074f544753b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a503f6e1db0c6de743a4f074f544753b1">&#9670;&#160;</a></span>partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.partition </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Partition specific commands
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00260">260</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span><span class="keyword">def </span>partition(obj):</div>
<div class="line"><span class="lineno">  261</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">    Partition specific commands</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  264</span>    secho(<span class="stringliteral">&quot;New partition concept not yet supported&quot;</span>, fg=<span class="stringliteral">&#39;yellow&#39;</span>)</div>
<div class="line"><span class="lineno">  265</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  269</span><span class="preprocessor">@partition.command(&#39;status&#39;, short_help=&#39;Display the status of the timing master.&#39;)</span></div>
<div class="line"><span class="lineno">  270</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  271</span><span class="preprocessor">@click.option(&#39;--watch&#39;, &#39;-w&#39;, is_flag=True, default=False, help=&#39;Turn on automatic refresh&#39;)</span></div>
<div class="line"><span class="lineno">  272</span><span class="preprocessor">@click.option(&#39;--period&#39;,&#39;-p&#39;, type=click.IntRange(0, 10)</span>, default=2, help=<span class="stringliteral">&#39;Automatic refresh period&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="abba12de047cee10db8b185adea5cfb7a" name="abba12de047cee10db8b185adea5cfb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba12de047cee10db8b185adea5cfb7a">&#9670;&#160;</a></span>partstatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.partstatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>watch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Display the master status, accepted and rejected command counters
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00273">273</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  273</span><span class="keyword">def </span>partstatus(obj, watch, period):</div>
<div class="line"><span class="lineno">  274</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral">    Display the master status, accepted and rejected command counters</span></div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="comment"># lDevice = obj.mDevice</span></div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  280</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  283</span>@partition.command(<span class="stringliteral">&#39;configure&#39;</span>, short_help=<span class="stringliteral">&#39;Prepares partition for data taking.&#39;</span>)</div>
<div class="line"><span class="lineno">  284</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5c871c75884ef6aa523fdbb2863d68b" name="ac5c871c75884ef6aa523fdbb2863d68b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c871c75884ef6aa523fdbb2863d68b">&#9670;&#160;</a></span>readeptreg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.readeptreg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>adr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Read data from endpoint
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00204">204</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  204</span><span class="keyword">def </span>readeptreg(obj, adr, reg, length, mode):</div>
<div class="line"><span class="lineno">  205</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">    Read data from endpoint</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  208</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  209</span>    rx_data = lMaster.read_endpoint_data(adr, reg, length, mode)</div>
<div class="line"><span class="lineno">  210</span>    secho( f<span class="stringliteral">&quot;Data from endpoint {adr}, reg {reg} and length {length}: {rx_data}&quot;</span>, fg=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  211</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  214</span><span class="preprocessor">@master.command(&#39;transmit-async-packet&#39;)</span></div>
<div class="line"><span class="lineno">  215</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  216</span><span class="preprocessor">@click.option(&#39;--packet&#39;, &#39;-p&#39;, callback=toolbox.split_ints)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cf1ffbf41febe61a5fb5973d0e032bb" name="a6cf1ffbf41febe61a5fb5973d0e032bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf1ffbf41febe61a5fb5973d0e032bb">&#9670;&#160;</a></span>resetcommandcounters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.resetcommandcounters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Transmit already formed packet
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00234">234</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  234</span><span class="keyword">def </span>resetcommandcounters(obj):</div>
<div class="line"><span class="lineno">  235</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">    Transmit already formed packet</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  238</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  239</span>    lMaster.reset_command_counters()</div>
<div class="line"><span class="lineno">  240</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  243</span><span class="preprocessor">@master.command(&#39;control-timestamp-broadcast&#39;)</span></div>
<div class="line"><span class="lineno">  244</span><span class="preprocessor">@click.option(&#39;--on/--off&#39;, default=True, help=&#39;enable/disable ts broadcast&#39;)</span></div>
<div class="line"><span class="lineno">  245</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06c7ca2d51f9b4e450ffc832ddd1c3f1" name="a06c7ca2d51f9b4e450ffc832ddd1c3f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c7ca2d51f9b4e450ffc832ddd1c3f1">&#9670;&#160;</a></span>sendcmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.sendcmd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Inject a single command.
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00132">132</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  132</span><span class="keyword">def </span>sendcmd(obj, cmd, chan, n):</div>
<div class="line"><span class="lineno">  133</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    Inject a single command.</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  138</span>    lMaster.send_fl_cmd(cmd,chan,n)</div>
<div class="line"><span class="lineno">  139</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  142</span><span class="preprocessor">@master.command(&#39;faketrig-conf&#39;)</span></div>
<div class="line"><span class="lineno">  143</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  144</span><span class="preprocessor">@click.argument(&#39;cmd&#39;, type=toolbox.IntRange(0x0,0xff)</span>)</div>
<div class="line"><span class="lineno">  145</span><span class="preprocessor">@click.argument(&#39;chan&#39;, type=int)</span></div>
<div class="line"><span class="lineno">  146</span><span class="preprocessor">@click.argument(&#39;rate&#39;, type=float)</span></div>
<div class="line"><span class="lineno">  147</span><span class="preprocessor">@click.option(&#39;--poisson&#39;, is_flag=True, default=False, help=&quot;Randomize time interval between consecutive triggers.&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac669705cc1f5f9174db71a4ca68446f3" name="ac669705cc1f5f9174db71a4ca68446f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac669705cc1f5f9174db71a4ca68446f3">&#9670;&#160;</a></span>status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.status </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00105">105</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span><span class="keyword">def </span>status(obj):</div>
<div class="line"><span class="lineno">  106</span>    </div>
<div class="line"><span class="lineno">  107</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  108</span>    lIO = obj.mIO</div>
<div class="line"><span class="lineno">  109</span>    firmware_clock_frequency_hz = lIO.read_firmware_frequency()</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    echo(lMaster.get_status_with_date(firmware_clock_frequency_hz))</div>
<div class="line"><span class="lineno">  112</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  115</span><span class="preprocessor">@master.command(&#39;synctime&#39;, help=&quot;Sync timestamp, and enable broadcast. kMixed: TS value from SW, strobe from external&quot;)</span></div>
<div class="line"><span class="lineno">  116</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  117</span><span class="preprocessor">@click.argument(&#39;source&#39;, type=click.Choice(TimestampSource.__members__.keys()</span>))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fa6a8a58b5e9eb8f81756faf10150ea" name="a4fa6a8a58b5e9eb8f81756faf10150ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa6a8a58b5e9eb8f81756faf10150ea">&#9670;&#160;</a></span>synctime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.synctime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00118">118</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span><span class="keyword">def </span>synctime(obj, source):</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    lDesign = obj.mTopDesign</div>
<div class="line"><span class="lineno">  121</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  122</span>    lSource=TimestampSource.__members__[source]</div>
<div class="line"><span class="lineno">  123</span>    lMaster.sync_timestamp(lSource)</div>
<div class="line"><span class="lineno">  124</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  127</span><span class="preprocessor">@master.command(&#39;send-cmd&#39;, short_help=&#39;Inject a single command.&#39;)</span></div>
<div class="line"><span class="lineno">  128</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  129</span><span class="preprocessor">@click.argument(&#39;cmd&#39;, type=toolbox.IntRange(0x0,0xff)</span>)</div>
<div class="line"><span class="lineno">  130</span><span class="preprocessor">@click.argument(&#39;chan&#39;, type=int)</span></div>
<div class="line"><span class="lineno">  131</span><span class="preprocessor">@click.option(&#39;-n&#39;, type=int, default=1)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2eef8c56d962eb03bae7d516b53c564b" name="a2eef8c56d962eb03bae7d516b53c564b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eef8c56d962eb03bae7d516b53c564b">&#9670;&#160;</a></span>transmitasyncpacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.transmitasyncpacket </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Transmit already formed packet
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00217">217</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span><span class="keyword">def </span>transmitasyncpacket(obj, packet):</div>
<div class="line"><span class="lineno">  218</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    Transmit already formed packet</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  221</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">if</span> len(packet) == 0:</div>
<div class="line"><span class="lineno">  223</span>        <span class="comment"># make a random packet</span></div>
<div class="line"><span class="lineno">  224</span>        packet = [0x0, 0x0] + random.sample(range(256),random.randint(5, 20)) + [0x1aa]</div>
<div class="line"><span class="lineno">  225</span>    </div>
<div class="line"><span class="lineno">  226</span>    rx_packet = lMaster.transmit_async_packet(packet)</div>
<div class="line"><span class="lineno">  227</span>    secho( f<span class="stringliteral">&quot;tx packet: {packet}&quot;</span>, fg=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  228</span>    secho( f<span class="stringliteral">&quot;rx packet: {rx_packet}&quot;</span>, fg=<span class="stringliteral">&#39;green&#39;</span>)</div>
<div class="line"><span class="lineno">  229</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  232</span><span class="preprocessor">@master.command(&#39;reset-command-counters&#39;)</span></div>
<div class="line"><span class="lineno">  233</span><span class="preprocessor">@click.pass_obj</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2559d1bc78b9a0773ceac4915b147734" name="a2559d1bc78b9a0773ceac4915b147734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2559d1bc78b9a0773ceac4915b147734">&#9670;&#160;</a></span>writeeptreg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timing.cli.master.writeeptreg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>adr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write data from endpoint
</pre> 
<p class="definition">Definition at line <a class="el" href="cli_2master_8py_source.html#l00188">188</a> of file <a class="el" href="cli_2master_8py_source.html">master.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  188</span><span class="keyword">def </span>writeeptreg(obj, adr, reg, data, mode):</div>
<div class="line"><span class="lineno">  189</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">    Write data from endpoint</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  192</span>    lMaster = obj.mMaster</div>
<div class="line"><span class="lineno">  193</span>    rx_data = lMaster.write_endpoint_data(adr, reg, data, mode)</div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">#secho( &quot;Fake triggers disabled; chan: {}&quot;.format(chan), fg=&#39;green&#39;)</span></div>
<div class="line"><span class="lineno">  195</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span><span class="comment"># ------------------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  198</span><span class="preprocessor">@master.command(&#39;read-ept-reg&#39;)</span></div>
<div class="line"><span class="lineno">  199</span><span class="preprocessor">@click.pass_obj</span></div>
<div class="line"><span class="lineno">  200</span><span class="preprocessor">@click.argument(&#39;adr&#39;, type=toolbox.IntRange(0x0,0xffff)</span>)</div>
<div class="line"><span class="lineno">  201</span><span class="preprocessor">@click.argument(&#39;reg&#39;, type=toolbox.IntRange(0x0,0x7b)</span>)</div>
<div class="line"><span class="lineno">  202</span><span class="preprocessor">@click.argument(&#39;length&#39;, type=int)</span></div>
<div class="line"><span class="lineno">  203</span><span class="preprocessor">@click.argument(&#39;mode&#39;, type=bool)</span></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
