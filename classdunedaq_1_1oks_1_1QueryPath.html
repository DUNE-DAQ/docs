<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: dunedaq::oks::QueryPath Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedunedaq.html">dunedaq</a></li><li class="navelem"><a class="el" href="namespacedunedaq_1_1oks.html">oks</a></li><li class="navelem"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html">QueryPath</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classdunedaq_1_1oks_1_1QueryPath-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dunedaq::oks::QueryPath Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="query_8hpp_source.html">query.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for dunedaq::oks::QueryPath:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classdunedaq_1_1oks_1_1QueryPath__coll__graph.svg" width="1183" height="704"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4c1c9c5a45fef278c8b0828e62ad1061" id="r_a4c1c9c5a45fef278c8b0828e62ad1061"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#a4c1c9c5a45fef278c8b0828e62ad1061">QueryPath</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *o, <a class="el" href="classdunedaq_1_1oks_1_1QueryPathExpression.html">QueryPathExpression</a> *<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">qpe</a>)</td></tr>
<tr class="separator:a4c1c9c5a45fef278c8b0828e62ad1061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7bcca4248240b2b98ff501aa59f954" id="r_afb7bcca4248240b2b98ff501aa59f954"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#afb7bcca4248240b2b98ff501aa59f954">QueryPath</a> (<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;<a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">query</a>, <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a> &amp;)</td></tr>
<tr class="separator:afb7bcca4248240b2b98ff501aa59f954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652547f330c74c9cd1f4debf3f14fd8b" id="r_a652547f330c74c9cd1f4debf3f14fd8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#a652547f330c74c9cd1f4debf3f14fd8b">~QueryPath</a> ()</td></tr>
<tr class="separator:a652547f330c74c9cd1f4debf3f14fd8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2e7ce40df80827c9f0e0487ee0ab59" id="r_a4a2e7ce40df80827c9f0e0487ee0ab59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1QueryPathExpression.html">QueryPathExpression</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#a4a2e7ce40df80827c9f0e0487ee0ab59">get_start_expression</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="separator:a4a2e7ce40df80827c9f0e0487ee0ab59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340d0b5eea1cc47357062fd61e40ff9a" id="r_a340d0b5eea1cc47357062fd61e40ff9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#a340d0b5eea1cc47357062fd61e40ff9a">get_goal_object</a> () <a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a></td></tr>
<tr class="separator:a340d0b5eea1cc47357062fd61e40ff9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5f4ae8332fd23cb101213eb3d030746b" id="r_a5f4ae8332fd23cb101213eb3d030746b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#a5f4ae8332fd23cb101213eb3d030746b">p_goal</a></td></tr>
<tr class="separator:a5f4ae8332fd23cb101213eb3d030746b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41e62a0f79643b2d2b0027e66aeaa1a" id="r_ab41e62a0f79643b2d2b0027e66aeaa1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdunedaq_1_1oks_1_1QueryPathExpression.html">QueryPathExpression</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">p_start</a></td></tr>
<tr class="separator:ab41e62a0f79643b2d2b0027e66aeaa1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class <a class="el" href="classdunedaq_1_1oks_1_1QueryPath.html">QueryPath</a> describes special type of query to calculate path (i.e list of objects) between two given objects. The use case is to get a path in several trees using the same leave objects. Note for composite objects and exclusive relationships, the usage of reverse composite relationships is more effective. In such case there is the only tree built on top of given leaves.</p>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<p>The example of query is shown below: "(path-to "my-id@my-class" (direct "A" "B" (nested "N" (direct "X" "Y" "Z"))))"</p>
<p>The destination object is "my-id@my-class". The search can be started from any object of any class. In our example the start object has to have two relationships named "A" and "B". An object referenced via "A" and "B" should have relationship "N". In our example it is possible to lookup for path via nested objects linked via relationship "N". Finally all objects referenced via "N" should have relationships "X", "Y" and "Z". If the destination object is referenced by them, the path is found. The result of path query execution is list of objects between the start and the destination object. </p>

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00382">382</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4c1c9c5a45fef278c8b0828e62ad1061" name="a4c1c9c5a45fef278c8b0828e62ad1061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c1c9c5a45fef278c8b0828e62ad1061">&#9670;&#160;</a></span>QueryPath() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dunedaq::oks::QueryPath::QueryPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdunedaq_1_1oks_1_1QueryPathExpression.html">QueryPathExpression</a> *&#160;</td>
          <td class="paramname"><em>qpe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00387">387</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  387</span>: <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#a5f4ae8332fd23cb101213eb3d030746b">p_goal</a>(o), <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">p_start</a>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">qpe</a>) { }</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1QueryPath_html_a5f4ae8332fd23cb101213eb3d030746b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1QueryPath.html#a5f4ae8332fd23cb101213eb3d030746b">dunedaq::oks::QueryPath::p_goal</a></div><div class="ttdeci">const OksObject * p_goal</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00396">query.hpp:396</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1QueryPath_html_ab41e62a0f79643b2d2b0027e66aeaa1a"><div class="ttname"><a href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">dunedaq::oks::QueryPath::p_start</a></div><div class="ttdeci">QueryPathExpression * p_start</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00397">query.hpp:397</a></div></div>
<div class="ttc" id="anamespacedunedaq_html_ab00b75d7698751046d10e0f20b0e970e"><div class="ttname"><a href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">dunedaq::set</a></div><div class="ttdeci">Monitoring thread not set</div><div class="ttdef"><b>Definition</b> <a href="OpMonManager_8hpp_source.html#l00029">OpMonManager.hpp:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb7bcca4248240b2b98ff501aa59f954" name="afb7bcca4248240b2b98ff501aa59f954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7bcca4248240b2b98ff501aa59f954">&#9670;&#160;</a></span>QueryPath() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dunedaq::oks::QueryPath::QueryPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksKernel.html">OksKernel</a> &amp;&#160;</td>
          <td class="paramname"><em>kernel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8cpp_source.html#l01049">1049</a> of file <a class="el" href="query_8cpp_source.html">query.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1049</span>                                                                     : <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">p_start</a>(0)</div>
<div class="line"><span class="lineno"> 1050</span>{</div>
<div class="line"><span class="lineno"> 1051</span>  std::string <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>(str);</div>
<div class="line"><span class="lineno"> 1052</span>  <a class="code hl_function" href="namespacedunedaq_1_1oks.html#af75d7d958a2ef56dd1874998eb5daad8">erase_empty_chars</a>(s);</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.empty()) {</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keywordflow">throw</span> oks::bad_query_syntax( <span class="stringliteral">&quot;Empty query&quot;</span> );</div>
<div class="line"><span class="lineno"> 1056</span>  }</div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>  <span class="keywordflow">if</span>(s[0] == <span class="charliteral">&#39;(&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1059</span>    std::string::size_type <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.rfind(<span class="charliteral">&#39;)&#39;</span>);</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> == std::string::npos) {</div>
<div class="line"><span class="lineno"> 1062</span>      <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Query expression \&#39;&quot;</span>) + str + <span class="stringliteral">&quot;\&#39; must contain closing bracket&quot;</span>);</div>
<div class="line"><span class="lineno"> 1063</span>    }</div>
<div class="line"><span class="lineno"> 1064</span> </div>
<div class="line"><span class="lineno"> 1065</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.erase(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>);</div>
<div class="line"><span class="lineno"> 1066</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.erase(0, 1);</div>
<div class="line"><span class="lineno"> 1067</span>  }</div>
<div class="line"><span class="lineno"> 1068</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Query expression \&#39;&quot;</span>) + str + <span class="stringliteral">&quot;\&#39; must be enclosed by brackets&quot;</span>);</div>
<div class="line"><span class="lineno"> 1070</span>  }</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span>  <a class="code hl_function" href="namespacedunedaq_1_1oks.html#af75d7d958a2ef56dd1874998eb5daad8">erase_empty_chars</a>(s);</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  Oks::Tokenizer <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">t</a>(s, <span class="stringliteral">&quot; \t\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1075</span>  std::string <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>;</div>
<div class="line"><span class="lineno"> 1076</span>  <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">t</a>.next(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>);</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a> != <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksQuery.html#a90c2e5073f62207afb5e3157c62c2355">OksQuery::PATH_TO</a>) {</div>
<div class="line"><span class="lineno"> 1079</span>    <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Expression \&#39;&quot;</span>) + s + <span class="stringliteral">&quot;\&#39; must start from &quot;</span> + <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksQuery.html#ac3b3bd6f6ec61c757c4f2c416483021b">OksQuery::DIRECT</a> + <span class="stringliteral">&quot; or &quot;</span> + <a class="code hl_variable" href="classdunedaq_1_1oks_1_1OksQuery.html#ab51d00d14884bc28dc50b011caf86166">OksQuery::NESTED</a> + <span class="stringliteral">&quot; keyword&quot;</span>);</div>
<div class="line"><span class="lineno"> 1080</span>  }</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>  <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.erase(0, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">token</a>.size());</div>
<div class="line"><span class="lineno"> 1083</span>  <a class="code hl_function" href="namespacedunedaq_1_1oks.html#af75d7d958a2ef56dd1874998eb5daad8">erase_empty_chars</a>(s);</div>
<div class="line"><span class="lineno"> 1084</span>  </div>
<div class="line"><span class="lineno"> 1085</span>  <span class="keywordflow">if</span>( s[0] == <span class="charliteral">&#39;\&quot;&#39;</span> ) {</div>
<div class="line"><span class="lineno"> 1086</span>    std::string::size_type <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.find(<span class="charliteral">&#39;\&quot;&#39;</span>, 1);</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> == std::string::npos) {</div>
<div class="line"><span class="lineno"> 1089</span>      <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;No trailing delimiter of object name in query \&#39;&quot;</span>) + str + <span class="stringliteral">&quot;\&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1090</span>    }</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>    std::string::size_type p2 = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.find(<span class="charliteral">&#39;@&#39;</span>);</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keywordflow">if</span>(p2 == std::string::npos || p2 &gt; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>) {</div>
<div class="line"><span class="lineno"> 1095</span>      <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Bad format of object name &quot;</span>) + <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.substr(0, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>+1) + <span class="stringliteral">&quot; in query \&#39;&quot;</span> + str + <span class="stringliteral">&quot;\&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1096</span>    }</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>    std::string object_id = std::string(s, 1, p2 - 1);</div>
<div class="line"><span class="lineno"> 1099</span>    std::string class_name = std::string(s, p2 + 1, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> - p2 - 1);</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordflow">if</span>(OksClass * c = kernel.find_class(class_name)) {</div>
<div class="line"><span class="lineno"> 1102</span>      <span class="keywordflow">if</span>((<a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#a5f4ae8332fd23cb101213eb3d030746b">p_goal</a> = <a class="code hl_variable" href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">c</a>-&gt;get_object(object_id)) == 0) {</div>
<div class="line"><span class="lineno"> 1103</span>        <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Cannot find object &quot;</span>) + <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.substr(0, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>+1) + <span class="stringliteral">&quot; in query \&#39;&quot;</span> + str + <span class="stringliteral">&quot;\&#39;: no such object&quot;</span>);</div>
<div class="line"><span class="lineno"> 1104</span>      }</div>
<div class="line"><span class="lineno"> 1105</span>    }</div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1107</span>      <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Cannot find object &quot;</span>) + <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.substr(0, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a>+1) + <span class="stringliteral">&quot; in query \&#39;&quot;</span> + str + <span class="stringliteral">&quot;\&#39;: no such class&quot;</span>);</div>
<div class="line"><span class="lineno"> 1108</span>    }</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>    <a class="code hl_variable" href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">s</a>.erase(0, <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">p</a> + 1);</div>
<div class="line"><span class="lineno"> 1111</span>  }</div>
<div class="line"><span class="lineno"> 1112</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1113</span>    <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;No name of object in \&#39;&quot;</span>) + str + <span class="stringliteral">&quot;\&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1114</span>  }</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1117</span>    <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">p_start</a> = <span class="keyword">new</span> QueryPathExpression(s);</div>
<div class="line"><span class="lineno"> 1118</span>  }</div>
<div class="line"><span class="lineno"> 1119</span>  <span class="keywordflow">catch</span> ( oks::bad_query_syntax&amp; <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a> ) {</div>
<div class="line"><span class="lineno"> 1120</span>    <span class="keywordflow">throw</span> oks::bad_query_syntax(std::string(<span class="stringliteral">&quot;Failed to parse expression \&#39;&quot;</span>) + str + <span class="stringliteral">&quot;\&#39; because \&#39;&quot;</span> + <a class="code hl_variable" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">e</a>.what() + <span class="stringliteral">&quot;\&#39;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1121</span>  }</div>
<div class="line"><span class="lineno"> 1122</span>}</div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksQuery_html_a90c2e5073f62207afb5e3157c62c2355"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksQuery.html#a90c2e5073f62207afb5e3157c62c2355">dunedaq::oks::OksQuery::PATH_TO</a></div><div class="ttdeci">static const char * PATH_TO</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00076">query.hpp:76</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksQuery_html_ab51d00d14884bc28dc50b011caf86166"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksQuery.html#ab51d00d14884bc28dc50b011caf86166">dunedaq::oks::OksQuery::NESTED</a></div><div class="ttdeci">static const char * NESTED</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00078">query.hpp:78</a></div></div>
<div class="ttc" id="aclassdunedaq_1_1oks_1_1OksQuery_html_ac3b3bd6f6ec61c757c4f2c416483021b"><div class="ttname"><a href="classdunedaq_1_1oks_1_1OksQuery.html#ac3b3bd6f6ec61c757c4f2c416483021b">dunedaq::oks::OksQuery::DIRECT</a></div><div class="ttdeci">static const char * DIRECT</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00077">query.hpp:77</a></div></div>
<div class="ttc" id="anamespacedunedaq_1_1oks_html_af75d7d958a2ef56dd1874998eb5daad8"><div class="ttname"><a href="namespacedunedaq_1_1oks.html#af75d7d958a2ef56dd1874998eb5daad8">dunedaq::oks::erase_empty_chars</a></div><div class="ttdeci">void erase_empty_chars(std::string &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="query_8cpp_source.html#l00079">query.cpp:79</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_a54d1684ef5066c4ce8af8764d2d0682b"><div class="ttname"><a href="namespacehermes-make-dro-map.html#a54d1684ef5066c4ce8af8764d2d0682b">hermes-make-dro-map.s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00030">hermes-make-dro-map.py:30</a></div></div>
<div class="ttc" id="anamespacehermes-make-dro-map_html_af9b52fbc05c1575ff304264a11855b22"><div class="ttname"><a href="namespacehermes-make-dro-map.html#af9b52fbc05c1575ff304264a11855b22">hermes-make-dro-map.c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition</b> <a href="hermes-make-dro-map_8py_source.html#l00030">hermes-make-dro-map.py:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a652547f330c74c9cd1f4debf3f14fd8b" name="a652547f330c74c9cd1f4debf3f14fd8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a652547f330c74c9cd1f4debf3f14fd8b">&#9670;&#160;</a></span>~QueryPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dunedaq::oks::QueryPath::~QueryPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00389">389</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  389</span>{<span class="keyword">delete</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">p_start</a>;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a340d0b5eea1cc47357062fd61e40ff9a" name="a340d0b5eea1cc47357062fd61e40ff9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a340d0b5eea1cc47357062fd61e40ff9a">&#9670;&#160;</a></span>get_goal_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a> * dunedaq::oks::QueryPath::get_goal_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00392">392</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  392</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#a5f4ae8332fd23cb101213eb3d030746b">p_goal</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a2e7ce40df80827c9f0e0487ee0ab59" name="a4a2e7ce40df80827c9f0e0487ee0ab59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2e7ce40df80827c9f0e0487ee0ab59">&#9670;&#160;</a></span>get_start_expression()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1QueryPathExpression.html">QueryPathExpression</a> * dunedaq::oks::QueryPath::get_start_expression </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00391">391</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  391</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classdunedaq_1_1oks_1_1QueryPath.html#ab41e62a0f79643b2d2b0027e66aeaa1a">p_start</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5f4ae8332fd23cb101213eb3d030746b" name="a5f4ae8332fd23cb101213eb3d030746b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4ae8332fd23cb101213eb3d030746b">&#9670;&#160;</a></span>p_goal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedunedaq.html#ab00b75d7698751046d10e0f20b0e970e">const</a> <a class="el" href="classdunedaq_1_1oks_1_1OksObject.html">OksObject</a>* dunedaq::oks::QueryPath::p_goal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00396">396</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>

</div>
</div>
<a id="ab41e62a0f79643b2d2b0027e66aeaa1a" name="ab41e62a0f79643b2d2b0027e66aeaa1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab41e62a0f79643b2d2b0027e66aeaa1a">&#9670;&#160;</a></span>p_start</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdunedaq_1_1oks_1_1QueryPathExpression.html">QueryPathExpression</a>* dunedaq::oks::QueryPath::p_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8hpp_source.html#l00397">397</a> of file <a class="el" href="query_8hpp_source.html">query.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/github/workspace/dev_area/sourcecode/oks/include/oks/<a class="el" href="query_8hpp_source.html">query.hpp</a></li>
<li>/github/workspace/dev_area/sourcecode/oks/src/<a class="el" href="query_8cpp_source.html">query.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
