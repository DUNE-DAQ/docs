<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: IOManager Test Applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">IOManager Test Applications</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md201"></a> </p>
<h1><a class="anchor" id="autotoc_md202"></a>
config_client_test</h1>
<p>This test application is a simple test of the ConfigClient functionality, and tests the amount of time needed to publish, lookup, and retract a given number of connections.</p>
<h1><a class="anchor" id="autotoc_md203"></a>
iomanager_stress_test</h1>
<p>This test application tries to emulate the send/recv part of a large DAQ session. It does this by creating a number of Sender and Receiver pair applications, each with a number of connections between them. Configuration options include the number of app pairs to start, the number of connections for each app pair, the number of messages that they will send to one another, and the size of each message.</p>
<p>A "Control" channel is used by the Receiver app to notify the Sender that it is ready to start receiving messages and that it has completed reception of all expected messages. These control messages allow the separate proceeses to remain synchonized.</p>
<p>The Connectivity Service will have N_apps * N_connections + N_apps connections registered, which means that systems consisting of O(1000) connections can be tested with this app. The Connectivity Service can also be run on a separate host, and multiple instances of the iomanager_stress_test executable can be spread to other hosts to increase the synthetic load.</p>
<p><img src="https://github.com/DUNE-DAQ/iomanager/raw/develop/docs/iomanager_stress_test-Apps.drawio.png" alt="Diagram of app structure" class="inline"/> <img src="https://github.com/DUNE-DAQ/iomanager/raw/develop/docs/iomanager_stress_test-Connections.drawio.png" alt="Diagram of connection test" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md204"></a>
iomanager_stress_test_pubsub</h1>
<p>This test application is largely similar to the iomanager_stress_test, but with several modifications to reflect the publish/subscribe pattern used, for example, by TPSets. It starts a number of Publisher and Subscriber apps, each running a number of "groups" of connections. Each connection has a dedicated subscriber endpoint, and there is also a subscriber endpoint listening to all connections in each group.</p>
<p>Here, the Publishers start sending without waiting for any control messages, and continue to send until they receive a "QuotaReached" message for the appropriate connection from the Subscriber app. This reflects the fact that ZeroMQ allows for messages to be dropped under certain conditions in pub/sub mode.</p>
<p>The Connectivity Service will have N_apps + N_apps * N_groups * N_connections connections registered for this test. Note that with three multiplicative factors, very large systems can be configured if the user is not careful!</p>
<p><img src="https://github.com/DUNE-DAQ/iomanager/raw/develop/docs/iomanager_stress_test_pubsub-Apps.drawio.png" alt="Diagram of app structure" class="inline"/> <img src="https://github.com/DUNE-DAQ/iomanager/raw/develop/docs/iomanager_stress_test_pubsub-Connections.drawio.png" alt="Diagram of connection test" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md205"></a>
queue_IO_check</h1>
<p>This test application checks the DUNE-DAQ queues for thread-safe behavior and ensures that the Queue API works correctly.</p>
<h1><a class="anchor" id="autotoc_md206"></a>
queues_vs_threads</h1>
<p>These test applications show the effect on timing of using multiple threads on reception from queues while using Folly Queues by themselves, by using timeout exceptions, and by using IOManager.</p>
<h1><a class="anchor" id="autotoc_md207"></a>
reconnection_test</h1>
<p>This test application starts a "ring" of applications that pass messages. Each application is assigned an ID number, and when it receives a message from ID - 1, it sends it on to ID + 1. The apps are aware of the number of apps in the system, so the last app sends to ID 0, which then starts the next round of messages.</p>
<p>Once the ring apps are started, the test application randomly kills and restarts apps at a configurable interval for the requested test duration. It is up to the user to determine whether the test succeeded by examining the output to ensure that messages make it around the ring after application restarts.</p>
<p><img src="https://github.com/DUNE-DAQ/iomanager/raw/develop/docs/reconnection_test.drawio.png" alt="reconnection_test" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
