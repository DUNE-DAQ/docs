<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: Plane Coincidence Trigger</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Plane Coincidence Trigger</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md385"></a></p><ul>
<li>Serves as introductory low energy event trigger algorithm template. Based on the same method of continuous scanning of time windows containing TPs.</li>
<li>In the past we have used only collection channel TPC hits to trigger on, for example, horizontal muons in the VD ColdBox runs at CERN. With the introduction of induction TPs used in this algorithm, it is hoped they can be leveraged for the identification and triggering on candidate low energy events.</li>
<li>The current approach to developing this algorithm is the simulation of TPC TPs in LArSoft, using Klaudia's branch of <a href="https://github.com/DUNE/duneana/tree/feature/kwawrows_TriggerTPGen/duneana/DAQSimAna">duneana</a>. The output TPs can be played through the <code>trigger</code> <a href="https://github.com/DUNE-DAQ/trigger/tree/develop/python/trigger/replay_tp_to_chain">replay app</a>, which can be used to test the functionality of algorithms offline, in <code>dunedaq</code> code.</li>
</ul>
<h1><a class="anchor" id="autotoc_md386"></a>
Trigger Activity Maker</h1>
<ul>
<li>We have 3 instances of the <code>Window</code> class, as used in the Horizontal Muon Algorithm (HMA). Each <code>Window</code> will contain the TPs received in a configurable amount of time from one of three TPC planes. Currently we first require an ADC spike above pure radiological background and noise hits (from simulation) which is the sum of ADC integrals of all windows. Second, this must be coupled with a short primary ionisation track in the collection plane, presumably caused by a Michel electron or SN event. The adjacency checking of the tried and tested Horizontal Muon Algorithm is used here.</li>
</ul>
<h3><a class="anchor" id="autotoc_md387"></a>
Adjacency Checking Function</h3>
<ul>
<li>This function returns the adjacency value for the current window, where adjacency is defined as the maximum number of consecutive wires containing hits. It accepts a configurable tolerance paramter, which allows up to adj_tolerance missing hits on adjacent wires before restarting the adjacency count. The maximum gap is 4 which comes from tuning on December 2021 coldbox data, and June 2022 coldbox runs.</li>
<li>Adjcancency Tolerance = Number of times prepared to skip missed hits before resetting the adjacency count. This accounts for things like dead channels / missed TPs. The maximum gap is 4 which comes from tuning on December 2021 coldbox data, and June 2022 coldbox runs.</li>
</ul>
<h1><a class="anchor" id="autotoc_md388"></a>
Trigger Candidate Maker</h1>
<ul>
<li>At the moment, we use a trivial logic, by which we mean that there is a one-to-one map between emitted TAs and TCs. More complex triggering logic will be used in the future, when we want to cluster TAs from multiple detector elements (APAs).<ul>
<li>For a talk on the related HMA, please see <a href="https://indico.fnal.gov/event/51502/contributions/226506/attachments/148509/190809/211019_FDDS_HorizontalMuon.pdf">https://indico.fnal.gov/event/51502/contributions/226506/attachments/148509/190809/211019_FDDS_HorizontalMuon.pdf</a> </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
