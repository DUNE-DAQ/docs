<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: Textual Database Editor (DBE)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Textual Database Editor (DBE)</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md150"></a></p>
<h1><a class="anchor" id="autotoc_md151"></a>
Introduction</h1>
<p>Textual DBE is an attempt to replicate <a href="https://github.com/DUNE-DAQ/dbe/tree/develop">DBE</a> within a fully Pythonic interface. The tool allows for browsing and modification of configurations with a text-based (but mouse-navigable) interface written in Python. <b>This is not intended to be a full production ready solution and is purely a proof of concept!</b></p>
<h1><a class="anchor" id="autotoc_md152"></a>
Usage</h1>
<p>Open database editor with <code><a class="el" href="namespacetextual__dbe.html">textual_dbe</a></code>. This will open a splash screen displaying a blank logger + footer bar which contains a list of shortcuts. <img src="textual_dbe/splash_screen.png" alt="image" class="inline"/></p>
<p>In order to start editing configuration databases we first need to open a file! To do this press <code>o</code> which will open the following popup. Currently the <code>browse</code> option is not implemented so the full (or relative) file path to a database file is required instead. <img src="textual_dbe/open_file_screen.png" alt="image" class="inline"/></p>
<p>Once this has been loaded in the screen should update. The editor is split into 3 segments: <img src="textual_dbe/file_loaded_screen.png" alt="image" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md153"></a>
The Navigator</h2>
<h3><a class="anchor" id="autotoc_md154"></a>
Browsing Objects</h3>
<p>Configuration objects can be browsed via the navigation menu which has two views. The first breaks down configuration objects by class allowing for easy navigation without showing the underlying structure of the configuration. Note that all derived classes will be included as well for each category. For example <code>component</code> will include all <code>segment</code> objects. <img src="textual_dbe/class_select_view.png" alt="image" class="inline"/></p>
<p>The second "relationship" view will display the relationships between configuration objects. In addition "top level" objects are separated into <code>Sessions</code> and <code>Non-Sessions</code>. These non-session objects are effectively <code>dangling</code> and aren't used by anything within the configuration. If objects are related to multiple other objects within the configuration they will be displayed multiple times. <img src="textual_dbe/relationship.png" alt="image" class="inline"/></p>
<p>If an object in the navigator menu is selected it will be treated as <code>active</code> and its attributes will be displayed in the configuration object attribute table.</p>
<h3><a class="anchor" id="autotoc_md155"></a>
Disabling objects</h3>
<p>Any objects that inherit from <code>component</code> can be disabled by selecting them + pressing <code>ctrl+d</code>.</p>
<h2><a class="anchor" id="autotoc_md156"></a>
Configuration Object Attribute Table</h2>
<p>The configuration table displays the values of attributes of the currently active configuration object. The values for these attributes can be modified by clicking on the row of the table which contains them. Type checking is very limited so this should be treated with caution <img src="textual_dbe/table_view.png" alt="image" class="inline"/></p>
<p>After an object has been modified, it can then be saved by pressing <code>ctrl+s</code> or saved with an additional message with <code>shift+S</code>.</p>
<h2><a class="anchor" id="autotoc_md157"></a>
Logger</h2>
<p>Logger simply displays warnings/updates. Not everything is fully logged and there are no verbosity levels. <img src="textual_dbe/logger.png" alt="image" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md158"></a>
Known Issues</h1>
<ul>
<li>Currently relationships for given configuration objects cannot be modified</li>
<li>Type checking is not robust at all for editing attributes</li>
<li>All newly created objects are currently just saved to the active database</li>
<li>No way to create new databases</li>
<li>Relationship view simply displays objects rather than also displaying the name of the relationship</li>
</ul>
<h1><a class="anchor" id="autotoc_md159"></a>
To Do List</h1>
<ul>
<li>[x] Add method to disable components</li>
<li>[ ] Add more robust method for adding/modifying/deleting config objects</li>
<li>[ ] Display name of relationship in relationship view </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 24 2024 for DUNE-DAQ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
